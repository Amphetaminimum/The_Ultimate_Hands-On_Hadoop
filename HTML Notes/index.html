<!DOCTYPE html><html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" type="text/css" id="themeDefaultStyle" href="stage/build/export/base.css?2.1.5"/>
    <link rel="stylesheet" type="text/css" id="themeStyle" href="appearance/themes/daylight/theme.css?2.1.5"/>
    <title>Udemy Big Data - 思源笔记  v2.1.5</title>
    <style>
        body {background-color: var(--b3-theme-background);color: var(--b3-theme-on-background)}
        .b3-typography, .protyle-wysiwyg, .protyle-title {font-size:16px !important}
.b3-typography code:not(.hljs), .protyle-wysiwyg code:not(.hljs) { font-variant-ligatures: none }
.li > .protyle-action {height:34px;line-height: 34px}
.protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {line-height:34px;}
.protyle-wysiwyg [data-node-id].li > .protyle-action:after {height: 16px;width: 16px;margin:-8px 0 0 -8px}
.protyle-wysiwyg [data-node-id].li > .protyle-action svg {height: 14px}
.protyle-wysiwyg [data-node-id] [spellcheck="false"] {min-height:26px}
.protyle-wysiwyg .li {min-height:34px}
.protyle-gutters button svg {height:26px}
.protyle-wysiwyg img.emoji, .b3-typography img.emoji {width:18px}
.protyle-wysiwyg .h1 img.emoji, .b3-typography h1 img.emoji {width:35px}
.protyle-wysiwyg .h2 img.emoji, .b3-typography h2 img.emoji {width:31px}
.protyle-wysiwyg .h3 img.emoji, .b3-typography h3 img.emoji {width:27px}
.protyle-wysiwyg .h4 img.emoji, .b3-typography h4 img.emoji {width:25px}
.protyle-wysiwyg .h5 img.emoji, .b3-typography h5 img.emoji {width:22px}
.protyle-wysiwyg .h6 img.emoji, .b3-typography h6 img.emoji {width:20px}
    </style>
</head>
<body>
<div class="protyle-wysiwyg protyle-wysiwyg--attr" style="max-width: 800px;margin: 0 auto;" id="preview"><div data-subtype="h1" data-node-id="20220926083515-08mgy54" data-type="NodeHeading" class="h1"><div contenteditable="false" spellcheck="false">Udemy Big Data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-h8h1wr9" data-type="NodeHeading" class="h2" id="20220912014401-h8h1wr9" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 1: Learn all the buzzwords! And install the Hortonworks Data Platform Sandbox.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912001244-mcakfey" data-type="NodeTable" class="table" colgroup="width: 172px;|width: 251px;|width: 175px;|width: 178px;" id="20220912001244-mcakfey" updated="20220912001244"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col style="width: 172px;" /><col style="width: 251px;" /><col style="width: 175px;" /><col style="width: 178px;" /></colgroup><thead><tr><th>NAME ID(S)</th><th>HDFS AUTHORIZATION</th><th>AMBARI AUTHORIZATION</th><th>RANGER AUTHORIZATION</th></tr></thead><tbody><tr><td>Sam Admin</td><td>Max Ops</td><td>Ambari Admin</td><td>Admin access</td></tr><tr><td>Raj (raj_ops)</td><td>Access to Hive, Hbase, Atlas, Falcon, Ranger, Knox, Sqoop, Oozie, Flume, Operations</td><td>Cluster Administrator</td><td>Admin Access</td></tr><tr><td>Maria (maria_dev)</td><td>Access to Hive, Hbase, Falcon, Oozie and Spark</td><td>Service Operator</td><td>Normal User Access</td></tr><tr><td>Amy (amy_ds)</td><td>Access to Hive, Spark and Zeppelin</td><td>Service Operator</td><td>Normal User Access</td></tr><tr><td>Holger (holger_gov)</td><td>Access to Atlas</td><td>Service Administrator</td><td>Normal User Access</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912001324-yl8obtq" data-type="NodeParagraph" class="p" id="20220912001324-yl8obtq" updated="20220912001427"><div contenteditable="false" spellcheck="false">https://indico.ictp.it/event/8170/session/10/contribution/21/material/0/1.pdf</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912001428-7bhmbup" data-type="NodeParagraph" class="p" id="20220912001428-7bhmbup"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912001616-q1u1rci" data-type="NodeParagraph" class="p" id="20220912001616-q1u1rci" updated="20220912001616"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912001616-irwniar.png" data-src="assets/image-20220912001616-irwniar.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912001820-601v17r" data-type="NodeParagraph" class="p" id="20220912001820-601v17r" updated="20220912001821"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912001821-1lebn9r.png" data-src="assets/image-20220912001821-1lebn9r.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010230-0algn8u" data-type="NodeParagraph" class="p" id="20220912010230-0algn8u"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010231-1emoxus" data-type="NodeParagraph" class="p" id="20220912010231-1emoxus"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010231-w0ejbic" data-type="NodeCodeBlock" class="code-block" id="20220912010231-w0ejbic" updated="20220912010235"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">select movie_id, count(movie_id) as rating_count
from ratings
group by movie_id
order by rating_count DESC;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010254-cztchcy" data-type="NodeTable" class="table" colgroup="|" id="20220912010254-cztchcy" updated="20220912010309"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /></colgroup><thead><tr><th>movie_id</th><th>rating_count</th></tr></thead><tbody><tr><td>50</td><td>583</td></tr><tr><td>258</td><td>509</td></tr><tr><td>100</td><td>508</td></tr><tr><td>181</td><td>507</td></tr><tr><td>...</td><td>...</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010332-5x2tccv" data-type="NodeParagraph" class="p" id="20220912010332-5x2tccv"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010333-0gmwjnb" data-type="NodeParagraph" class="p" id="20220912010333-0gmwjnb" updated="20220912010339"><div contenteditable="false" spellcheck="false">visualization tab</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010339-ndwxd8p" data-type="NodeParagraph" class="p" id="20220912010339-ndwxd8p" updated="20220912010340"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912010340-ft6197u.png" data-src="assets/image-20220912010340-ft6197u.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010745-c51828g" data-type="NodeParagraph" class="p" id="20220912010745-c51828g"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010748-s34xz5s" data-type="NodeCodeBlock" class="code-block" id="20220912010748-s34xz5s" updated="20220912010750"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">select m.name, x.*
from
(select movie_id, count(movie_id) as rating_count
from ratings
group by movie_id
order by rating_count DESC) x,
movies m
where x.movie_id = m.movie_id;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010804-zhogeso" data-type="NodeTable" class="table" colgroup="||" id="20220912010804-zhogeso" updated="20220912010804"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /><col /></colgroup><thead><tr><th>m.name</th><th>x.movie_id</th><th>x.rating_count</th></tr></thead><tbody><tr><td>Star Wars (1977)</td><td>50</td><td>583</td></tr><tr><td>Contact (1997)</td><td>258</td><td>509</td></tr><tr><td>Fargo (1996)</td><td>100</td><td>508</td></tr><tr><td>Return of the Jedi (1983)</td><td>181</td><td>507</td></tr><tr><td>Liar Liar (1997)</td><td>294</td><td>485</td></tr><tr><td>English Patient, The (1996)</td><td>286</td><td>481</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912010806-dm5ahjy" data-type="NodeParagraph" class="p" id="20220912010806-dm5ahjy"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912014411-2umqqhm" data-type="NodeList" class="list" id="20220912014411-2umqqhm" updated="20220924144501"><div data-marker="*" data-subtype="u" data-node-id="20220912014517-v9dyi4d" data-type="NodeListItem" class="li" id="20220912014517-v9dyi4d" updated="20220924144501"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014517-jnq17p1" data-type="NodeParagraph" class="p" id="20220912014517-jnq17p1" updated="20220924144501"><div contenteditable="false" spellcheck="false">What is Hadoop?<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://hadoop.apache.org/hadoop-logo.jpg" data-src="https://hadoop.apache.org/hadoop-logo.jpg" alt="hadoop-logo" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014929-566d3x3" data-type="NodeParagraph" class="p" id="20220912014929-566d3x3"><div contenteditable="false" spellcheck="false">&quot;an open source <strong>software platform</strong> for <strong>distributed storage</strong> and <strong>distributed processing</strong> of <strong>very large data sets</strong> on <strong>computer clusters</strong> built from commodity hardware&quot; - Hortonworks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014520-yq15ko1" data-type="NodeListItem" class="li" id="20220912014520-yq15ko1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014520-outcp7q" data-type="NodeParagraph" class="p" id="20220912014520-outcp7q" updated="20220912014528"><div contenteditable="false" spellcheck="false">Hadoop History</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912014530-kfko4u6" data-type="NodeList" class="list" id="20220912014530-kfko4u6" updated="20220912014530"><div data-marker="*" data-subtype="u" data-node-id="20220912014530-9xn5hf4" data-type="NodeListItem" class="li" id="20220912014530-9xn5hf4" updated="20220912014530"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014530-1td7zoc" data-type="NodeParagraph" class="p" id="20220912014530-1td7zoc" updated="20220912014530"><div contenteditable="false" spellcheck="false">Google published GFS and MapReduce papers in 2003-2004</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014530-msndy31" data-type="NodeListItem" class="li" id="20220912014530-msndy31" updated="20220912014530"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014530-kkaftiw" data-type="NodeParagraph" class="p" id="20220912014530-kkaftiw" updated="20220912014530"><div contenteditable="false" spellcheck="false">Yahoo! was building &quot;Nutch,&quot; an open source web search engine at the same time</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014530-61axg0k" data-type="NodeListItem" class="li" id="20220912014530-61axg0k" updated="20220912014530"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014530-4iadw1i" data-type="NodeParagraph" class="p" id="20220912014530-4iadw1i" updated="20220912014530"><div contenteditable="false" spellcheck="false">Hadoop was primarily driven by Doug Cutting and Tom White in 2006</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014530-cadvouh" data-type="NodeListItem" class="li" id="20220912014530-cadvouh" updated="20220912014530"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014530-iof85sg" data-type="NodeParagraph" class="p" id="20220912014530-iof85sg" updated="20220912014530"><div contenteditable="false" spellcheck="false">It's been evolving ever since...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014614-wo89jn5" data-type="NodeListItem" class="li" id="20220912014614-wo89jn5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014614-gwt7b38" data-type="NodeParagraph" class="p" id="20220912014614-gwt7b38" updated="20220912014700"><div contenteditable="false" spellcheck="false">Comparison</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912014700-ufcjf09" data-type="NodeList" class="list" id="20220912014700-ufcjf09"><div data-marker="*" data-subtype="u" data-node-id="20220912014702-agfsmi4" data-type="NodeListItem" class="li" id="20220912014702-agfsmi4"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014702-h957ip6" data-type="NodeParagraph" class="p" id="20220912014702-h957ip6" updated="20220912014719"><div contenteditable="false" spellcheck="false">GFS inspired Hadoop's distributed data storage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014720-aoe7cch" data-type="NodeListItem" class="li" id="20220912014720-aoe7cch"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014720-k2dut6v" data-type="NodeParagraph" class="p" id="20220912014720-k2dut6v" updated="20220912014749"><div contenteditable="false" spellcheck="false">MapReduce inspired Hadoop's distributed data processing</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014933-t91tyyt" data-type="NodeListItem" class="li" id="20220912014933-t91tyyt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014933-dwm11e5" data-type="NodeParagraph" class="p" id="20220912014933-dwm11e5" updated="20220912014937"><div contenteditable="false" spellcheck="false">Why Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912014939-c7icmnj" data-type="NodeList" class="list" id="20220912014939-c7icmnj" updated="20220912014939"><div data-marker="*" data-subtype="u" data-node-id="20220912014939-r5y20vh" data-type="NodeListItem" class="li" id="20220912014939-r5y20vh" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-nmthfan" data-type="NodeParagraph" class="p" updated="20220912014939" id="20220912014939-nmthfan"><div contenteditable="false" spellcheck="false">Data's too darn big - terabytes per day</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014939-4a4ikex" data-type="NodeListItem" class="li" updated="20220912014939" id="20220912014939-4a4ikex"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-esyjgrv" data-type="NodeParagraph" class="p" id="20220912014939-esyjgrv" updated="20220912014939"><div contenteditable="false" spellcheck="false">Vertical scaling doesn't cut it</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912014942-uhrva32" data-type="NodeList" class="list" id="20220912014942-uhrva32"><div data-marker="*" data-subtype="u" data-node-id="20220912014939-j043f72" data-type="NodeListItem" class="li" id="20220912014939-j043f72" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-pud0ius" data-type="NodeParagraph" class="p" id="20220912014939-pud0ius" updated="20220912014939"><div contenteditable="false" spellcheck="false">Disk seek times</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014939-s2jta0v" data-type="NodeListItem" class="li" id="20220912014939-s2jta0v" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-z190y27" data-type="NodeParagraph" class="p" updated="20220912014939" id="20220912014939-z190y27"><div contenteditable="false" spellcheck="false">Hardware failures</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014939-0rusloq" data-type="NodeListItem" class="li" id="20220912014939-0rusloq" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-gxe7xmn" data-type="NodeParagraph" class="p" id="20220912014939-gxe7xmn" updated="20220912014939"><div contenteditable="false" spellcheck="false">Processing times</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014939-v5ct9di" data-type="NodeListItem" class="li" id="20220912014939-v5ct9di" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-czuvkxx" data-type="NodeParagraph" class="p" id="20220912014939-czuvkxx" updated="20220912014939"><div contenteditable="false" spellcheck="false">Horizontal scaling is linear</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912014939-0hvw72h" data-type="NodeListItem" class="li" id="20220912014939-0hvw72h" updated="20220912014939"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912014939-vgh9qz1" data-type="NodeParagraph" class="p" id="20220912014939-vgh9qz1" updated="20220912014939"><div contenteditable="false" spellcheck="false">Hadoop: It's not just for batch processing anymore</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015242-46c8b9q" data-type="NodeListItem" class="li" id="20220912015242-46c8b9q"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015242-hlbb02y" data-type="NodeParagraph" class="p" id="20220912015242-hlbb02y" updated="20220912015252"><div contenteditable="false" spellcheck="false">Core Hadoop Ecosystem</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912015252-b63jzne" data-type="NodeParagraph" class="p" id="20220912015252-b63jzne" updated="20220912015253"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912015253-2zfq2c8.png" data-src="assets/image-20220912015253-2zfq2c8.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015352-4yvkteu" data-type="NodeList" class="list" id="20220912015352-4yvkteu"><div data-marker="*" data-subtype="u" data-node-id="20220912015352-wy27owi" data-type="NodeListItem" class="li" id="20220912015352-wy27owi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015352-mo5265g" data-type="NodeParagraph" class="p" id="20220912015352-mo5265g" updated="20220912015403"><div contenteditable="false" spellcheck="false">Pink Items - Hadoop itself</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015404-p20didg" data-type="NodeList" class="list" id="20220912015404-p20didg"><div data-marker="*" data-subtype="u" data-node-id="20220912015403-e5kd40w" data-type="NodeListItem" class="li" id="20220912015403-e5kd40w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015403-cdopqsa" data-type="NodeParagraph" class="p" id="20220912015403-cdopqsa" updated="20220912015642"><div contenteditable="false" spellcheck="false">HDFS, Hadoop Distributed File System (Data Storage)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015438-1cziu5c" data-type="NodeList" class="list" id="20220912015438-1cziu5c"><div data-marker="*" data-subtype="u" data-node-id="20220912015424-2smgjsr" data-type="NodeListItem" class="li" id="20220912015424-2smgjsr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015424-jyae6mz" data-type="NodeParagraph" class="p" id="20220912015424-jyae6mz" updated="20220912015455"><div contenteditable="false" spellcheck="false">Distribute the storage across clusters, across nodes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015445-fofrl3j" data-type="NodeListItem" class="li" id="20220912015445-fofrl3j"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015445-f6osf6o" data-type="NodeParagraph" class="p" id="20220912015445-f6osf6o" updated="20220912015510"><div contenteditable="false" spellcheck="false">Make redundant copies of data </div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015618-1rgryq6" data-type="NodeListItem" class="li" id="20220912015618-1rgryq6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015618-aqjqs21" data-type="NodeParagraph" class="p" id="20220912015618-aqjqs21" updated="20220912015651"><div contenteditable="false" spellcheck="false">YARN, Yet Another Resource Negotiator (Data Processing)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015622-nqvrvth" data-type="NodeList" class="list" id="20220912015622-nqvrvth"><div data-marker="*" data-subtype="u" data-node-id="20220912015621-5d5to9d" data-type="NodeListItem" class="li" id="20220912015621-5d5to9d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015621-f4gvf0k" data-type="NodeParagraph" class="p" id="20220912015621-f4gvf0k" updated="20220912015750"><div contenteditable="false" spellcheck="false">resource manager, to distribute the data processing task</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015750-v57iwno" data-type="NodeListItem" class="li" id="20220912015750-v57iwno"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015750-xtyb2ro" data-type="NodeParagraph" class="p" id="20220912015750-xtyb2ro" updated="20220912015812"><div contenteditable="false" spellcheck="false">MapReduce, programming metaphor</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015823-6vt3dzb" data-type="NodeList" class="list" id="20220912015823-6vt3dzb"><div data-marker="*" data-subtype="u" data-node-id="20220912015823-msyyy2w" data-type="NodeListItem" class="li" id="20220912015823-msyyy2w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015823-39o3igw" data-type="NodeParagraph" class="p" updated="20220912015850" id="20220912015823-39o3igw"><div contenteditable="false" spellcheck="false">Mapper, to transform</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015845-w3zbu4i" data-type="NodeListItem" class="li" id="20220912015845-w3zbu4i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015845-xfj0k7u" data-type="NodeParagraph" class="p" id="20220912015845-xfj0k7u" updated="20220912015855"><div contenteditable="false" spellcheck="false">Reducer, to aggregate</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912015927-4pc1bgd" data-type="NodeListItem" class="li" id="20220912015927-4pc1bgd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015927-0myfyew" data-type="NodeParagraph" class="p" id="20220912015927-0myfyew" updated="20220912021439"><div contenteditable="false" spellcheck="false">Add-ons</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021431-a9f29c4" data-type="NodeList" class="list" id="20220912021431-a9f29c4"><div data-marker="*" data-subtype="u" data-node-id="20220912021427-gazxzn1" data-type="NodeListItem" class="li" id="20220912021427-gazxzn1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021427-rcqlbh2" data-type="NodeParagraph" class="p" id="20220912021427-rcqlbh2"><div contenteditable="false" spellcheck="false">Pig, high-level programming API that sits on, and talk to MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912015941-kcznrkv" data-type="NodeList" class="list" id="20220912015941-kcznrkv"><div data-marker="*" data-subtype="u" data-node-id="20220912015941-co3fkmf" data-type="NodeListItem" class="li" id="20220912015941-co3fkmf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912015941-dy2n40o" data-type="NodeParagraph" class="p" id="20220912015941-dy2n40o" updated="20220912020207"><div contenteditable="false" spellcheck="false">SQL-alike syntax, no need Python/Java</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020134-uf815fr" data-type="NodeListItem" class="li" id="20220912020134-uf815fr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020134-92679t8" data-type="NodeParagraph" class="p" updated="20220912020303" id="20220912020134-92679t8"><div contenteditable="false" spellcheck="false">Hive, similar to Pig, making files on HDFS queried like relational database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912020148-cf4cswd" data-type="NodeList" class="list" id="20220912020148-cf4cswd"><div data-marker="*" data-subtype="u" data-node-id="20220912020148-6i9yi7d" data-type="NodeListItem" class="li" id="20220912020148-6i9yi7d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020148-nea20cd" data-type="NodeParagraph" class="p" id="20220912020148-nea20cd" updated="20220912020216"><div contenteditable="false" spellcheck="false">SQL syntax</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020314-q23r9hc" data-type="NodeListItem" class="li" id="20220912020314-q23r9hc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020314-5mkd26q" data-type="NodeParagraph" class="p" id="20220912020314-5mkd26q" updated="20220912020337"><div contenteditable="false" spellcheck="false">Apache Ambari, overview of everything, dashboard</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912020341-dtqlury" data-type="NodeList" class="list" id="20220912020341-dtqlury"><div data-marker="*" data-subtype="u" data-node-id="20220912020341-az7rb7s" data-type="NodeListItem" class="li" id="20220912020341-az7rb7s"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020341-phrtju7" data-type="NodeParagraph" class="p" id="20220912020341-phrtju7" updated="20220912020352"><div contenteditable="false" spellcheck="false">execute Hive query</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020352-2ko9t12" data-type="NodeListItem" class="li" id="20220912020352-2ko9t12"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020352-zm0wjg0" data-type="NodeParagraph" class="p" id="20220912020352-zm0wjg0" updated="20220912020401"><div contenteditable="false" spellcheck="false">import database into Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020401-2dy3nka" data-type="NodeListItem" class="li" id="20220912020401-2dy3nka"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020401-d7e875i" data-type="NodeParagraph" class="p" id="20220912020401-d7e875i" updated="20220912020407"><div contenteditable="false" spellcheck="false">execute Pig query</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020439-vjfhdnw" data-type="NodeListItem" class="li" id="20220912020439-vjfhdnw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020439-z723igs" data-type="NodeParagraph" class="p" id="20220912020439-z723igs" updated="20220912020446"><div contenteditable="false" spellcheck="false">Mesos, alternative to YARN</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020519-c3ggtb5" data-type="NodeListItem" class="li" id="20220912020519-c3ggtb5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020519-qpmg4vq" data-type="NodeParagraph" class="p" id="20220912020519-qpmg4vq" updated="20220912020528"><div contenteditable="false" spellcheck="false">Spark, same level as MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912020534-3hhrqoh" data-type="NodeList" class="list" id="20220912020534-3hhrqoh"><div data-marker="*" data-subtype="u" data-node-id="20220912020534-acggiru" data-type="NodeListItem" class="li" id="20220912020534-acggiru"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020534-plau4si" data-type="NodeParagraph" class="p" id="20220912020534-plau4si" updated="20220912020541"><div contenteditable="false" spellcheck="false">can sit on YARN/Mesos</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020553-mmruh1c" data-type="NodeListItem" class="li" id="20220912020553-mmruh1c"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020553-v8848tg" data-type="NodeParagraph" class="p" id="20220912020553-v8848tg" updated="20220912020559"><div contenteditable="false" spellcheck="false">Python/Java/Scala</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020634-a1zk1jq" data-type="NodeListItem" class="li" id="20220912020634-a1zk1jq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020634-wq6zo1n" data-type="NodeParagraph" class="p" id="20220912020634-wq6zo1n" updated="20220912020635"><div contenteditable="false" spellcheck="false">SQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020635-moosrqr" data-type="NodeListItem" class="li" id="20220912020635-moosrqr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020635-20vxkjj" data-type="NodeParagraph" class="p" id="20220912020635-20vxkjj" updated="20220912020641"><div contenteditable="false" spellcheck="false">Machine Learning</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020641-db9lbrw" data-type="NodeListItem" class="li" id="20220912020641-db9lbrw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020641-hgg0ozf" data-type="NodeParagraph" class="p" updated="20220912020644" id="20220912020641-hgg0ozf"><div contenteditable="false" spellcheck="false">Streaming data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020700-9quj0n4" data-type="NodeListItem" class="li" id="20220912020700-9quj0n4"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020700-mjdxvca" data-type="NodeParagraph" class="p" id="20220912020700-mjdxvca" updated="20220912020729"><div contenteditable="false" spellcheck="false">Tez, similar to Spark, using Directed Acyclic Graph (DAG)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912020740-ebv422g" data-type="NodeList" class="list" id="20220912020740-ebv422g"><div data-marker="*" data-subtype="u" data-node-id="20220912020739-8jsqcmp" data-type="NodeListItem" class="li" id="20220912020739-8jsqcmp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020739-ohn4jvj" data-type="NodeParagraph" class="p" id="20220912020739-ohn4jvj" updated="20220912020757"><div contenteditable="false" spellcheck="false">Optimizing the query when executing</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020811-el6za04" data-type="NodeListItem" class="li" id="20220912020811-el6za04"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020811-hrbdwm7" data-type="NodeParagraph" class="p" id="20220912020811-hrbdwm7" updated="20220912020820"><div contenteditable="false" spellcheck="false">Usually used with Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912020846-5sz487q" data-type="NodeListItem" class="li" id="20220912020846-5sz487q"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912020846-0gd3kng" data-type="NodeParagraph" class="p" id="20220912020846-0gd3kng" updated="20220912021018"><div contenteditable="false" spellcheck="false">Apache HBase, exposing the data on your cluster to trasactional platforms</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021018-ziimrl7" data-type="NodeList" class="list" id="20220912021018-ziimrl7"><div data-marker="*" data-subtype="u" data-node-id="20220912021018-4u43r18" data-type="NodeListItem" class="li" id="20220912021018-4u43r18"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021018-8efalmk" data-type="NodeParagraph" class="p" id="20220912021018-8efalmk" updated="20220912021030"><div contenteditable="false" spellcheck="false">NoSQL databse</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021030-jeszfit" data-type="NodeListItem" class="li" id="20220912021030-jeszfit"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021030-07w07eo" data-type="NodeParagraph" class="p" id="20220912021030-07w07eo" updated="20220912021035"><div contenteditable="false" spellcheck="false">Columnar data store</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021042-bdehp62" data-type="NodeListItem" class="li" id="20220912021042-bdehp62"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021042-woevxoj" data-type="NodeParagraph" class="p" id="20220912021042-woevxoj" updated="20220912021053"><div contenteditable="false" spellcheck="false">Built for large transaction rates</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021116-uo77lt5" data-type="NodeListItem" class="li" id="20220912021116-uo77lt5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021116-d1pxgxw" data-type="NodeParagraph" class="p" id="20220912021116-d1pxgxw" updated="20220912021132"><div contenteditable="false" spellcheck="false">Apache Storm, a way of processing streaming data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021133-f1nl20k" data-type="NodeList" class="list" id="20220912021133-f1nl20k" updated="20220912021146"><div data-marker="*" data-subtype="u" data-node-id="20220912021146-4akuh3h" data-type="NodeListItem" class="li" updated="20220912021146" id="20220912021146-4akuh3h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021146-p9gqblm" data-type="NodeParagraph" class="p" id="20220912021146-p9gqblm" updated="20220912021156"><div contenteditable="false" spellcheck="false">Alternative, Spark Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021214-2ajol7o" data-type="NodeListItem" class="li" id="20220912021214-2ajol7o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021214-5qie8y2" data-type="NodeParagraph" class="p" id="20220912021214-5qie8y2" updated="20220912021233"><div contenteditable="false" spellcheck="false">Oozie, a way of scheduling jobs on your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021219-bk4i3tb" data-type="NodeListItem" class="li" id="20220912021219-bk4i3tb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021219-scwz3xm" data-type="NodeParagraph" class="p" updated="20220912021323" id="20220912021219-scwz3xm"><div contenteditable="false" spellcheck="false">Zookeeper, coordinator of everything on Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021341-gf2c60f" data-type="NodeList" class="list" id="20220912021341-gf2c60f"><div data-marker="*" data-subtype="u" data-node-id="20220912021341-ymkpx35" data-type="NodeListItem" class="li" id="20220912021341-ymkpx35"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021341-fdtzb41" data-type="NodeParagraph" class="p" id="20220912021341-fdtzb41" updated="20220912021354"><div contenteditable="false" spellcheck="false">Maintain reliable and consistent performance</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021409-6s5gudg" data-type="NodeListItem" class="li" id="20220912021409-6s5gudg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021409-bl6u9wh" data-type="NodeParagraph" class="p" id="20220912021409-bl6u9wh" updated="20220912021445"><div contenteditable="false" spellcheck="false">Data Ingestion</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021445-chz1prd" data-type="NodeList" class="list" id="20220912021445-chz1prd"><div data-marker="*" data-subtype="u" data-node-id="20220912021445-7pb8hjl" data-type="NodeListItem" class="li" id="20220912021445-7pb8hjl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021445-26mrrr8" data-type="NodeParagraph" class="p" id="20220912021445-26mrrr8" updated="20220912021521"><div contenteditable="false" spellcheck="false">Sqoop, tying Hadoop database into relational database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912021449-wwee0lp" data-type="NodeList" class="list" id="20220912021449-wwee0lp"><div data-marker="*" data-subtype="u" data-node-id="20220912021449-dq3tin8" data-type="NodeListItem" class="li" id="20220912021449-dq3tin8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021449-vjaxz32" data-type="NodeParagraph" class="p" id="20220912021449-vjaxz32" updated="20220912021543"><div contenteditable="false" spellcheck="false">ODBC/JDBC connection</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024516-b2o2va0" data-type="NodeListItem" class="li" id="20220912024516-b2o2va0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024516-sapn4s4" data-type="NodeParagraph" class="p" id="20220912024516-sapn4s4" updated="20220912024530"><div contenteditable="false" spellcheck="false">Connector between Hadoop and legacy database</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912021552-rmpuey3" data-type="NodeListItem" class="li" id="20220912021552-rmpuey3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912021552-6cnuwl6" data-type="NodeParagraph" class="p" id="20220912021552-6cnuwl6" updated="20220912021613"><div contenteditable="false" spellcheck="false">Flume, a way of trasnporting web logs at a very large scale and reliably</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024505-vslowzq" data-type="NodeListItem" class="li" id="20220912024505-vslowzq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024505-94hifbu" data-type="NodeParagraph" class="p" id="20220912024505-94hifbu" updated="20220912024634"><div contenteditable="false" spellcheck="false">Kafka, can have any sorts of data broadcast to Hadoop Cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024649-i85exfi" data-type="NodeListItem" class="li" id="20220912024649-i85exfi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024649-yqsc8lx" data-type="NodeParagraph" class="p" id="20220912024649-yqsc8lx" updated="20220912024658"><div contenteditable="false" spellcheck="false">External Data Storage</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912024659-2o4416j" data-type="NodeParagraph" class="p" id="20220912024659-2o4416j" updated="20220912024724"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 387px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912024724-fsq8ko0.png" data-src="assets/image-20220912024724-fsq8ko0.png" alt="image" style="width: 377px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912024731-jqidvvd" data-type="NodeList" class="list" id="20220912024731-jqidvvd"><div data-marker="*" data-subtype="u" data-node-id="20220912024729-okn5iht" data-type="NodeListItem" class="li" id="20220912024729-okn5iht"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024729-l7yq3e5" data-type="NodeParagraph" class="p" id="20220912024729-l7yq3e5" updated="20220912024754"><div contenteditable="false" spellcheck="false">HBase can also be included here</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024757-jo90k3n" data-type="NodeListItem" class="li" id="20220912024757-jo90k3n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024757-jzgvzzm" data-type="NodeParagraph" class="p" id="20220912024757-jzgvzzm" updated="20220912024801"><div contenteditable="false" spellcheck="false">MySQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024822-x5q2wj8" data-type="NodeListItem" class="li" id="20220912024822-x5q2wj8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024822-7nt22v7" data-type="NodeParagraph" class="p" id="20220912024822-7nt22v7" updated="20220912024840"><div contenteditable="false" spellcheck="false">Cassandra, Columnar</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024826-p5t2372" data-type="NodeListItem" class="li" id="20220912024826-p5t2372"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024826-9cttaj0" data-type="NodeParagraph" class="p" updated="20220912024843" id="20220912024826-9cttaj0"><div contenteditable="false" spellcheck="false">MongoDB, Columnar</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912024913-mt30lbl" data-type="NodeListItem" class="li" id="20220912024913-mt30lbl" updated="20220912025328"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024913-cdsaekm" data-type="NodeParagraph" class="p" id="20220912024913-cdsaekm" updated="20220912024917"><div contenteditable="false" spellcheck="false">Query Engines</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912024917-tzfw7ct" data-type="NodeParagraph" class="p" id="20220912024917-tzfw7ct" updated="20220912024939"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 402px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912024939-od5jv17.png" data-src="assets/image-20220912024939-od5jv17.png" alt="image" style="width: 392px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912024950-ku7rqmw" data-type="NodeList" class="list" updated="20220912025328" id="20220912024950-ku7rqmw"><div data-marker="*" data-subtype="u" data-node-id="20220912024949-ovxyv0h" data-type="NodeListItem" class="li" id="20220912024949-ovxyv0h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912024949-jz057zu" data-type="NodeParagraph" class="p" id="20220912024949-jz057zu" updated="20220912024953"><div contenteditable="false" spellcheck="false">Hive can also be included here</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025003-2mvmmjh" data-type="NodeListItem" class="li" id="20220912025003-2mvmmjh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025003-vww6p05" data-type="NodeParagraph" class="p" id="20220912025003-vww6p05" updated="20220912025025"><div contenteditable="false" spellcheck="false">Apache Drill, SQL to query a wide range of NoSQL database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912025034-k56f87c" data-type="NodeList" class="list" id="20220912025034-k56f87c"><div data-marker="*" data-subtype="u" data-node-id="20220912025033-j0488qc" data-type="NodeListItem" class="li" id="20220912025033-j0488qc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025033-h2dq2hn" data-type="NodeParagraph" class="p" id="20220912025033-h2dq2hn" updated="20220912025058"><div contenteditable="false" spellcheck="false">can talk to HBase, Cassandra, MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025025-06jjkxz" data-type="NodeListItem" class="li" id="20220912025025-06jjkxz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025025-rto5efy" data-type="NodeParagraph" class="p" id="20220912025025-rto5efy" updated="20220912025123"><div contenteditable="false" spellcheck="false">Hive, interactive SQL query</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912025124-x8z0t29" data-type="NodeList" class="list" id="20220912025124-x8z0t29"><div data-marker="*" data-subtype="u" data-node-id="20220912025124-j09mvko" data-type="NodeListItem" class="li" id="20220912025124-j09mvko"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025124-32gvm3a" data-type="NodeParagraph" class="p" id="20220912025124-32gvm3a" updated="20220912025139"><div contenteditable="false" spellcheck="false">work well with Hive and HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025154-rn5yzru" data-type="NodeListItem" class="li" id="20220912025154-rn5yzru"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025154-9xicbuj" data-type="NodeParagraph" class="p" id="20220912025154-9xicbuj" updated="20220912025217"><div contenteditable="false" spellcheck="false"><strong>In Cloudera, Hue takes place of Ambari</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025227-0x4zlc0" data-type="NodeListItem" class="li" id="20220912025227-0x4zlc0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025227-8b50k5z" data-type="NodeParagraph" class="p" id="20220912025227-8b50k5z" updated="20220912025246"><div contenteditable="false" spellcheck="false">Apache Phoenix, similar to Drill</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912025247-v82ubsm" data-type="NodeList" class="list" id="20220912025247-v82ubsm"><div data-marker="*" data-subtype="u" data-node-id="20220912025247-gzfyqtn" data-type="NodeListItem" class="li" id="20220912025247-gzfyqtn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025247-334s8uk" data-type="NodeParagraph" class="p" id="20220912025247-334s8uk" updated="20220912025258"><div contenteditable="false" spellcheck="false">ACID gurantee and OLTP</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025312-j8rn487" data-type="NodeListItem" class="li" id="20220912025312-j8rn487"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025312-pnhc8dc" data-type="NodeParagraph" class="p" id="20220912025312-pnhc8dc" updated="20220912025315"><div contenteditable="false" spellcheck="false">Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912025323-89ge0op" data-type="NodeListItem" class="li" id="20220912025323-89ge0op" updated="20220912025328"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912025323-i3vn7mi" data-type="NodeParagraph" class="p" id="20220912025323-i3vn7mi" updated="20220912025328"><div contenteditable="false" spellcheck="false">Apache Zeppelin</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014411-1nxl9my" data-type="NodeParagraph" class="p" id="20220912014411-1nxl9my"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014411-rrj29jx" data-type="NodeParagraph" class="p" id="20220912014411-rrj29jx"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014415-x5dmzon" data-type="NodeParagraph" class="p" id="20220912014415-x5dmzon"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014415-d5vzj8u" data-type="NodeParagraph" class="p" id="20220912014415-d5vzj8u"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014415-jqf9ge6" data-type="NodeParagraph" class="p" id="20220912014415-jqf9ge6"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912014415-hu2yxfa" data-type="NodeParagraph" class="p" id="20220912014415-hu2yxfa"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-rsb9xnu" data-type="NodeHeading" class="h2" id="20220912014401-rsb9xnu" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 2: Using Hadoop's Core: HDFS and MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912025412-m3je5a1" data-type="NodeList" class="list" id="20220912025412-m3je5a1" updated="20220913014842"><div data-marker="*" data-subtype="u" data-node-id="20220912083650-mkdpxqw" data-type="NodeListItem" class="li" id="20220912083650-mkdpxqw" updated="20220913014842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912083650-i43pld5" data-type="NodeParagraph" class="p" id="20220912083650-i43pld5" updated="20220912083701"><div contenteditable="false" spellcheck="false">HDFS, built for handling large files</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912083701-eb70fxg" data-type="NodeList" class="list" id="20220912083701-eb70fxg" updated="20220913014842"><div data-marker="*" data-subtype="u" data-node-id="20220912083701-z047atf" data-type="NodeListItem" class="li" id="20220912083701-z047atf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912083701-ztsg6mm" data-type="NodeParagraph" class="p" id="20220912083701-ztsg6mm" updated="20220912083729"><div contenteditable="false" spellcheck="false">by breaking them into blocks (128MB by default)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912083731-9rmb54e" data-type="NodeListItem" class="li" id="20220912083731-9rmb54e" updated="20220912083757"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912083731-eapv3sv" data-type="NodeParagraph" class="p" id="20220912083731-eapv3sv" updated="20220912084901"><div contenteditable="false" spellcheck="false">stored across several commodity computers (cheap)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912084947-fihe6m6" data-type="NodeListItem" class="li" id="20220912084947-fihe6m6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912084947-9ayutn6" data-type="NodeParagraph" class="p" id="20220912084947-9ayutn6" updated="20220912085027"><div contenteditable="false" spellcheck="false">Redundant copies, auto failover, high availability</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912085027-9ewo37f" data-type="NodeListItem" class="li" id="20220912085027-9ewo37f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912085027-tx2z6pv" data-type="NodeParagraph" class="p" id="20220912085027-tx2z6pv" updated="20220912085039"><div contenteditable="false" spellcheck="false">HDFS Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912085040-gs5werv" data-type="NodeList" class="list" id="20220912085040-gs5werv"><div data-marker="*" data-subtype="u" data-node-id="20220912085040-mabmv2b" data-type="NodeListItem" class="li" id="20220912085040-mabmv2b"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912085040-145z7p5" data-type="NodeParagraph" class="p" id="20220912085040-145z7p5" updated="20220912085146"><div contenteditable="false" spellcheck="false">Name Node, tracks where all blocks live</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912085211-z8l1m5x" data-type="NodeListItem" class="li" id="20220912085211-z8l1m5x"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912085211-h3lpjwe" data-type="NodeParagraph" class="p" id="20220912085211-h3lpjwe" updated="20220912085217"><div contenteditable="false" spellcheck="false">Data Node</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912085255-7kvg86o" data-type="NodeListItem" class="li" id="20220912085255-7kvg86o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912085255-cktjsx0" data-type="NodeParagraph" class="p" id="20220912085255-cktjsx0" updated="20220912085308"><div contenteditable="false" spellcheck="false">Reading FIle Process</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912105204-5oujnrk" data-type="NodeParagraph" class="p" id="20220912105204-5oujnrk" updated="20220912105205"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 300px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912105205-8ox5lfd.png" data-src="assets/image-20220912105205-8ox5lfd.png" alt="image" style="width: 290px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912085313-vjxx7hp" data-type="NodeCodeBlock" class="render-node" id="20220912085313-vjxx7hp" updated="20220912100506" data-content="@startuml
:Client Node request to read;
:Name Node inform the path;
:Client Node goes to actual path to find the file;

@enduml" data-subtype="plantuml"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912100545-obwym2f" data-type="NodeListItem" class="li" id="20220912100545-obwym2f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912100545-gn3jd2g" data-type="NodeParagraph" class="p" id="20220912100545-gn3jd2g" updated="20220912100553"><div contenteditable="false" spellcheck="false">Writing File Process</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912105220-upz2cbm" data-type="NodeParagraph" class="p" id="20220912105220-upz2cbm" updated="20220912105221"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 309px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912105221-ibh2qq3.png" data-src="assets/image-20220912105221-ibh2qq3.png" alt="image" style="width: 299px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912100905-or2wzza" data-type="NodeCodeBlock" class="render-node" id="20220912100905-or2wzza" updated="20220912100913" data-content="@startuml
:Client Node request to write on HDFS;
:Name Node inform the path to create new entry;
:Client Node talk to one data node to write;
:Data Nodes talk among themselves to ensure redundancy is done;
:Data Node inform Client Node actual path;
:Client Node revert to Name Node on path of files;

@enduml" data-subtype="plantuml"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105139-k2ewa39" data-type="NodeListItem" class="li" id="20220912105139-k2ewa39" updated="20220912105139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105139-o1l9r0e" data-type="NodeParagraph" class="p" id="20220912105139-o1l9r0e" updated="20220912105316"><div contenteditable="false" spellcheck="false">Name Node HA</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912105317-7yrp5p4" data-type="NodeList" class="list" id="20220912105317-7yrp5p4"><div data-marker="*" data-subtype="u" data-node-id="20220912105333-sp0fry1" data-type="NodeListItem" class="li" id="20220912105333-sp0fry1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105338-mpv9kog" data-type="NodeParagraph" class="p" id="20220912105338-mpv9kog" updated="20220912105348"><div contenteditable="false" spellcheck="false">Back Up Metadata</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912105349-2ek8x2t" data-type="NodeParagraph" class="p" id="20220912105349-2ek8x2t"><div contenteditable="false" spellcheck="false">Namenode writes to local disk and NFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105338-nsorsby" data-type="NodeListItem" class="li" id="20220912105338-nsorsby" updated="20220912105338"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105338-pjd8cww" data-type="NodeParagraph" class="p" id="20220912105338-pjd8cww" updated="20220912105351"><div contenteditable="false" spellcheck="false">Secondary Namenode</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912105351-3m2g81c" data-type="NodeParagraph" class="p" id="20220912105351-3m2g81c"><div contenteditable="false" spellcheck="false">Maintains merged copy of edit log you can restore from</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105354-oht0xts" data-type="NodeListItem" class="li" id="20220912105354-oht0xts"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105354-r8zyhkm" data-type="NodeParagraph" class="p" id="20220912105354-r8zyhkm" updated="20220912105358"><div contenteditable="false" spellcheck="false">HDFS Federation</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912105359-3dxdwjw" data-type="NodeParagraph" class="p" id="20220912105359-3dxdwjw" updated="20220912105412"><div contenteditable="false" spellcheck="false">Each namenode manages a specifc namespace volume</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105316-8z0qxm5" data-type="NodeListItem" class="li" id="20220912105316-8z0qxm5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105317-oaapyp5" data-type="NodeParagraph" class="p" id="20220912105317-oaapyp5" updated="20220912105317"><div contenteditable="false" spellcheck="false">HDFS High Availability</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912105317-dhh8eei" data-type="NodeList" class="list" id="20220912105317-dhh8eei" updated="20220912105317"><div data-marker="*" data-subtype="u" data-node-id="20220912105317-rk1dsm0" data-type="NodeListItem" class="li" updated="20220912105317" id="20220912105317-rk1dsm0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105317-6fascb4" data-type="NodeParagraph" class="p" id="20220912105317-6fascb4" updated="20220912105317"><div contenteditable="false" spellcheck="false">Hot standby namenode using shared edit log</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105317-lw7eazx" data-type="NodeListItem" class="li" id="20220912105317-lw7eazx" updated="20220912105317"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105317-xw5gp7o" data-type="NodeParagraph" class="p" id="20220912105317-xw5gp7o" updated="20220912105317"><div contenteditable="false" spellcheck="false">Zookeeper tracks active namenode</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912105317-k83s6y2" data-type="NodeListItem" class="li" id="20220912105317-k83s6y2" updated="20220912105317"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912105317-fbb3mzq" data-type="NodeParagraph" class="p" id="20220912105317-fbb3mzq" updated="20220912105317"><div contenteditable="false" spellcheck="false">Uses extreme measures to ensure only one namenode is used at a time</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912212827-0jr555r" data-type="NodeList" class="list" id="20220912212827-0jr555r"><div data-marker="*" data-subtype="u" data-node-id="20220912212826-gxmr5d8" data-type="NodeListItem" class="li" id="20220912212826-gxmr5d8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912212826-zwj8cfo" data-type="NodeParagraph" class="p" id="20220912212826-zwj8cfo" updated="20220912212836"><div contenteditable="false" spellcheck="false">Cut off the power of dead node</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213010-09atfwm" data-type="NodeListItem" class="li" id="20220912213010-09atfwm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213010-c6bau3a" data-type="NodeParagraph" class="p" id="20220912213010-c6bau3a" updated="20220912213014"><div contenteditable="false" spellcheck="false">Using HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912213015-f47jdeq" data-type="NodeList" class="list" id="20220912213015-f47jdeq"><div data-marker="*" data-subtype="u" data-node-id="20220912213015-r9iiya9" data-type="NodeListItem" class="li" id="20220912213015-r9iiya9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213015-5fj3f5t" data-type="NodeParagraph" class="p" id="20220912213015-5fj3f5t" updated="20220912213017"><div contenteditable="false" spellcheck="false">UI (Ambari)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213017-s8t2p5n" data-type="NodeListItem" class="li" id="20220912213017-s8t2p5n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213017-qnv09sd" data-type="NodeParagraph" class="p" id="20220912213017-qnv09sd" updated="20220912213018"><div contenteditable="false" spellcheck="false">Command-Line Interface </div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213021-c1d3p5d" data-type="NodeListItem" class="li" id="20220912213021-c1d3p5d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213021-ijbvt5r" data-type="NodeParagraph" class="p" id="20220912213021-ijbvt5r"><div contenteditable="false" spellcheck="false">HTTP / HDFS Proxies</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213018-wcnzv59" data-type="NodeListItem" class="li" id="20220912213018-wcnzv59"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213018-k8oycrn" data-type="NodeParagraph" class="p" id="20220912213018-k8oycrn" updated="20220912213020"><div contenteditable="false" spellcheck="false">Java interface</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213020-ob03hno" data-type="NodeListItem" class="li" id="20220912213020-ob03hno"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213020-49vpgvx" data-type="NodeParagraph" class="p" id="20220912213020-49vpgvx" updated="20220912213153"><div contenteditable="false" spellcheck="false">NFS (Network File System) Gateway</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912213731-rv8s5oo" data-type="NodeListItem" class="li" id="20220912213731-rv8s5oo" updated="20220912215420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912213731-gswg952" data-type="NodeParagraph" class="p" id="20220912213731-gswg952" updated="20220912213740"><div contenteditable="false" spellcheck="false">Play with MovieLens Data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912213740-dd516ql" data-type="NodeCodeBlock" class="code-block" id="20220912213740-dd516ql" updated="20220912214808"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">ssh maria_dev@127.0.0.1 -p 2222
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912214957-f33yq7r" data-type="NodeCodeBlock" class="code-block" id="20220912214957-f33yq7r" updated="20220912223310"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">(base) Amphe-2:~ Amphetamine$ ssh maria_dev@127.0.0.1 -p 2222
The authenticity of host '[127.0.0.1]:2222 ([127.0.0.1]:2222)' can't be established.
ECDSA key fingerprint is SHA256:MZNH/M/FtHhe7wiWlgEfK9YnFDXb7yV8aq6AcOmGq4k.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '[127.0.0.1]:2222' (ECDSA) to the list of known hosts.
maria_dev@127.0.0.1's password: 
-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory


[maria_dev@sandbox-hdp ~]$ hadoop fs -ls
Found 1 items
drwxr-xr-x   - maria_dev hdfs          0 2022-09-11 16:18 hive
[maria_dev@sandbox-hdp ~]$ hadoop fs -mkdir ml-100k
[maria_dev@sandbox-hdp ~]$ hadoop fs -ls
Found 2 items
drwxr-xr-x   - maria_dev hdfs          0 2022-09-11 16:18 hive
drwxr-xr-x   - maria_dev hdfs          0 2022-09-12 13:53 ml-100k


[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/ml-100k/u.data
--2022-09-12 14:25:52--  http://media.sundog-soft.com/hadoop/ml-100k/u.data
Resolving media.sundog-soft.com (media.sundog-soft.com)... 52.216.238.107
Connecting to media.sundog-soft.com (media.sundog-soft.com)|52.216.238.107|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2079229 (2.0M) [application/octet-stream]
Saving to: 'u.data'

100%[======================================&gt;] 2,079,229    496KB/s   in 4.1s   

2022-09-12 14:25:57 (496 KB/s) - 'u.data' saved [2079229/2079229]

[maria_dev@sandbox-hdp ~]$ ls
u.data

[maria_dev@sandbox-hdp ~]$ hadoop fs -copyFromLocal u.data ml-100k/u.data
[maria_dev@sandbox-hdp ~]$ hadoop fs -ls ml-100k
Found 1 items
-rw-r--r--   1 maria_dev hdfs    2079229 2022-09-12 14:27 ml-100k/u.data
[maria_dev@sandbox-hdp ~]$ hadoop fs -rm ml-100k/u.data
22/09/12 14:28:40 INFO fs.TrashPolicyDefault: Moved: 'hdfs://sandbox-hdp.hortonworks.com:8020/user/maria_dev/ml-100k/u.data' to trash at: hdfs://sandbox-hdp.hortonworks.com:8020/user/maria_dev/.Trash/Current/user/maria_dev/ml-100k/u.data
[maria_dev@sandbox-hdp ~]$ hadoop fs -rmdir ml-100k
[maria_dev@sandbox-hdp ~]$ hadoop fs -ls
Found 2 items
drwx------   - maria_dev hdfs          0 2022-09-12 14:28 .Trash
drwxr-xr-x   - maria_dev hdfs          0 2022-09-11 16:18 hive


[maria_dev@sandbox-hdp ~]$ hadoop fs
Usage: hadoop fs [generic options]
	[-appendToFile &lt;localsrc&gt; ... &lt;dst&gt;]
	[-cat [-ignoreCrc] &lt;src&gt; ...]
	[-checksum &lt;src&gt; ...]
	[-chgrp [-R] GROUP PATH...]
	[-chmod [-R] &lt;MODE[,MODE]... | OCTALMODE&gt; PATH...]
	[-chown [-R] [OWNER][:[GROUP]] PATH...]
	[-copyFromLocal [-f] [-p] [-l] &lt;localsrc&gt; ... &lt;dst&gt;]
	[-copyToLocal [-p] [-ignoreCrc] [-crc] &lt;src&gt; ... &lt;localdst&gt;]
	[-count [-q] [-h] [-v] [-t [&lt;storage type&gt;]] [-u] &lt;path&gt; ...]
	[-cp [-f] [-p | -p[topax]] &lt;src&gt; ... &lt;dst&gt;]
	[-createSnapshot &lt;snapshotDir&gt; [&lt;snapshotName&gt;]]
	[-deleteSnapshot &lt;snapshotDir&gt; &lt;snapshotName&gt;]
	[-df [-h] [&lt;path&gt; ...]]
	[-du [-s] [-h] &lt;path&gt; ...]
	[-expunge]
	[-find &lt;path&gt; ... &lt;expression&gt; ...]
	[-get [-p] [-ignoreCrc] [-crc] &lt;src&gt; ... &lt;localdst&gt;]
	[-getfacl [-R] &lt;path&gt;]
	[-getfattr [-R] {-n name | -d} [-e en] &lt;path&gt;]
	[-getmerge [-nl] &lt;src&gt; &lt;localdst&gt;]
	[-help [cmd ...]]
	[-ls [-C] [-d] [-h] [-q] [-R] [-t] [-S] [-r] [-u] [&lt;path&gt; ...]]
	[-mkdir [-p] &lt;path&gt; ...]
	[-moveFromLocal &lt;localsrc&gt; ... &lt;dst&gt;]
	[-moveToLocal &lt;src&gt; &lt;localdst&gt;]
	[-mv &lt;src&gt; ... &lt;dst&gt;]
	[-put [-f] [-p] [-l] &lt;localsrc&gt; ... &lt;dst&gt;]
	[-renameSnapshot &lt;snapshotDir&gt; &lt;oldName&gt; &lt;newName&gt;]
	[-rm [-f] [-r|-R] [-skipTrash] [-safely] &lt;src&gt; ...]
	[-rmdir [--ignore-fail-on-non-empty] &lt;dir&gt; ...]
	[-setfacl [-R] [{-b|-k} {-m|-x &lt;acl_spec&gt;} &lt;path&gt;]|[--set &lt;acl_spec&gt; &lt;path&gt;]]
	[-setfattr {-n name [-v value] | -x name} &lt;path&gt;]
	[-setrep [-R] [-w] &lt;rep&gt; &lt;path&gt; ...]
	[-stat [format] &lt;path&gt; ...]
	[-tail [-f] &lt;file&gt;]
	[-test -[defsz] &lt;path&gt;]
	[-text [-ignoreCrc] &lt;src&gt; ...]
	[-touchz &lt;path&gt; ...]
	[-truncate [-w] &lt;length&gt; &lt;path&gt; ...]
	[-usage [cmd ...]]

Generic options supported are
-conf &lt;configuration file&gt;     specify an application configuration file
-D &lt;property=value&gt;            use value for given property
-fs &lt;local|namenode:port&gt;      specify a namenode
-jt &lt;local|resourcemanager:port&gt;    specify a ResourceManager
-files &lt;comma separated list of files&gt;    specify comma separated files to be copied to the map reduce cluster
-libjars &lt;comma separated list of jars&gt;    specify comma separated jar files to include in the classpath.
-archives &lt;comma separated list of archives&gt;    specify comma separated archives to be unarchived on the compute machines.

The general command line syntax is
bin/hadoop command [genericOptions] [commandOptions]

</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912223324-t6imukk" data-type="NodeListItem" class="li" id="20220912223324-t6imukk" updated="20220912223324"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223324-aguqx4z" data-type="NodeParagraph" class="p" id="20220912223324-aguqx4z" updated="20220912223328"><div contenteditable="false" spellcheck="false">MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912223411-m956aaa" data-type="NodeList" class="list" id="20220912223411-m956aaa" updated="20220912223413"><div data-marker="*" data-subtype="u" data-node-id="20220912223413-483y79i" data-type="NodeListItem" class="li" id="20220912223413-483y79i" updated="20220912223413"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223413-w4o78ag" data-type="NodeParagraph" class="p" id="20220912223413-w4o78ag" updated="20220912223413"><div contenteditable="false" spellcheck="false">Why MapReduce?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912223420-15nh9d0" data-type="NodeList" class="list" id="20220912223420-15nh9d0"><div data-marker="*" data-subtype="u" data-node-id="20220912223420-bv91sen" data-type="NodeListItem" class="li" id="20220912223420-bv91sen"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223420-x3notnv" data-type="NodeParagraph" class="p" id="20220912223420-x3notnv"><div contenteditable="false" spellcheck="false">Distributes the processing of data on your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912223424-mz076q1" data-type="NodeListItem" class="li" id="20220912223424-mz076q1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223424-j2pshp2" data-type="NodeParagraph" class="p" id="20220912223424-j2pshp2"><div contenteditable="false" spellcheck="false">Divides your data up into partitions that are MAPPED (transformed) and REDUCED (aggregated) by mapper and reducer functions you define</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912223427-jg30tdh" data-type="NodeListItem" class="li" id="20220912223427-jg30tdh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223427-rabrwzl" data-type="NodeParagraph" class="p" id="20220912223427-rabrwzl"><div contenteditable="false" spellcheck="false">Resilient to failure - an application master monitors your mappers and reducers on each partition</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912223556-z3u4kal" data-type="NodeListItem" class="li" id="20220912223556-z3u4kal"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912223556-xktctzx" data-type="NodeParagraph" class="p" id="20220912223556-xktctzx" updated="20220912234612"><div contenteditable="false" spellcheck="false">Example: How many movies did each user rate inthe movielens dataset</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912234745-141x6yd" data-type="NodeParagraph" class="p" id="20220912234745-141x6yd" updated="20220912234747"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912234747-t2pf6oi.png" data-src="assets/image-20220912234747-t2pf6oi.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912234614-ebvx8sc" data-type="NodeList" class="list" id="20220912234614-ebvx8sc"><div data-marker="*" data-subtype="u" data-node-id="20220912234612-amskmck" data-type="NodeListItem" class="li" id="20220912234612-amskmck"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912234612-cnzc8op" data-type="NodeParagraph" class="p" id="20220912234612-cnzc8op" updated="20220912234637"><div contenteditable="false" spellcheck="false">The MAPPER converts raw data into key/value pair</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912234638-iak1cxq" data-type="NodeListItem" class="li" id="20220912234638-iak1cxq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912234638-m6bgrle" data-type="NodeParagraph" class="p" id="20220912234638-m6bgrle" updated="20220912234703"><div contenteditable="false" spellcheck="false">MapReduce sorts and groups the mapped data (shuffle and sort)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912234703-wkjzgac" data-type="NodeListItem" class="li" id="20220912234703-wkjzgac"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912234703-qe600df" data-type="NodeParagraph" class="p" id="20220912234703-qe600df" updated="20220912234719"><div contenteditable="false" spellcheck="false">The REDUCER processes each key's values</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912234925-g9i1ynn" data-type="NodeListItem" class="li" id="20220912234925-g9i1ynn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912234925-oajy98t" data-type="NodeParagraph" class="p" id="20220912234925-oajy98t" updated="20220912234934"><div contenteditable="false" spellcheck="false">Underlying</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912234934-kakyvew" data-type="NodeParagraph" class="p" id="20220912234934-kakyvew" updated="20220912234949"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912234949-g75ha4l.png" data-src="assets/image-20220912234949-g75ha4l.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912235220-ialrom6" data-type="NodeList" class="list" id="20220912235220-ialrom6"><div data-marker="*" data-subtype="u" data-node-id="20220912235159-p7gjwaj" data-type="NodeListItem" class="li" id="20220912235159-p7gjwaj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912235159-1qonygc" data-type="NodeParagraph" class="p" id="20220912235159-1qonygc" updated="20220912235255"><div contenteditable="false" spellcheck="false">YARN will keep the map/reduce task as close as possible to the data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912235821-schaue9" data-type="NodeListItem" class="li" id="20220912235821-schaue9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912235821-3r3swpf" data-type="NodeParagraph" class="p" id="20220912235821-3r3swpf" updated="20220912235838"><div contenteditable="false" spellcheck="false">Writing Mapper and Reducer</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220912235903-azh4wx3" data-type="NodeList" class="list" id="20220912235903-azh4wx3" updated="20220912235903"><div data-marker="*" data-subtype="u" data-node-id="20220912235903-7rwi5ex" data-type="NodeListItem" class="li" id="20220912235903-7rwi5ex" updated="20220912235903"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912235903-a1lowa6" data-type="NodeParagraph" class="p" id="20220912235903-a1lowa6" updated="20220912235903"><div contenteditable="false" spellcheck="false">MapReduce is natively Java</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220912235903-tiz47gd" data-type="NodeListItem" class="li" id="20220912235903-tiz47gd" updated="20220912235903"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220912235903-j2ci1s7" data-type="NodeParagraph" class="p" id="20220912235903-j2ci1s7" updated="20220912235903"><div contenteditable="false" spellcheck="false">STREAMING allows interfacing to other languages (ie Python)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912235954-ld5ghnd" data-type="NodeParagraph" class="p" id="20220912235954-ld5ghnd" updated="20220912235955"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 191px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220912235955-f6hecyh.png" data-src="assets/image-20220912235955-f6hecyh.png" alt="image" style="width: 181px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000021-9hy93n0" data-type="NodeListItem" class="li" id="20220913000021-9hy93n0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000021-cokcrmy" data-type="NodeParagraph" class="p" id="20220913000021-cokcrmy" updated="20220913000029"><div contenteditable="false" spellcheck="false">Handling Failure</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000042-m5edwwz" data-type="NodeList" class="list" updated="20220913000046" id="20220913000042-m5edwwz"><div data-marker="*" data-subtype="u" data-node-id="20220913000046-eb3sfh4" data-type="NodeListItem" class="li" id="20220913000046-eb3sfh4" updated="20220913000046"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000046-yetl0ks" data-type="NodeParagraph" class="p" id="20220913000046-yetl0ks" updated="20220913000046"><div contenteditable="false" spellcheck="false">Application master monitors worker tasks for errors or hanging</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000050-rwoq0k2" data-type="NodeList" class="list" id="20220913000050-rwoq0k2"><div data-marker="*" data-subtype="u" data-node-id="20220913000049-1jjxsnk" data-type="NodeListItem" class="li" id="20220913000049-1jjxsnk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000049-syz06ez" data-type="NodeParagraph" class="p" updated="20220913000128" id="20220913000049-syz06ez"><div contenteditable="false" spellcheck="false"><em>Restarts as needed</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000052-z0776ib" data-type="NodeListItem" class="li" id="20220913000052-z0776ib"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000052-ge99ckz" data-type="NodeParagraph" class="p" id="20220913000052-ge99ckz" updated="20220913000129"><div contenteditable="false" spellcheck="false"><em>Preferably on a different node</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000042-vp6x5dv" data-type="NodeList" class="list" id="20220913000042-vp6x5dv" updated="20220913000042"><div data-marker="*" data-subtype="u" data-node-id="20220913000042-jft09wh" data-type="NodeListItem" class="li" id="20220913000042-jft09wh" updated="20220913000042"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000042-hui354q" data-type="NodeParagraph" class="p" updated="20220913000042" id="20220913000042-hui354q"><div contenteditable="false" spellcheck="false">What if the application master goes down?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000053-kukets3" data-type="NodeList" class="list" id="20220913000053-kukets3"><div data-marker="*" data-subtype="u" data-node-id="20220913000042-npfqs6s" data-type="NodeListItem" class="li" id="20220913000042-npfqs6s" updated="20220913000042"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000042-ff8689e" data-type="NodeParagraph" class="p" id="20220913000042-ff8689e" updated="20220913000121"><div contenteditable="false" spellcheck="false"><em>YARN can try to restart it</em>  
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000059-zz5ddyo" data-type="NodeListItem" class="li" id="20220913000059-zz5ddyo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000059-tryp971" data-type="NodeParagraph" class="p" id="20220913000059-tryp971" updated="20220913000101"><div contenteditable="false" spellcheck="false">What if an entire Node goes down?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000105-pb5b3l0" data-type="NodeList" class="list" id="20220913000105-pb5b3l0"><div data-marker="*" data-subtype="u" data-node-id="20220913000042-gco2s6i" data-type="NodeListItem" class="li" id="20220913000042-gco2s6i" updated="20220913000042"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000042-jfcnl0q" data-type="NodeParagraph" class="p" id="20220913000042-jfcnl0q" updated="20220913000123"><div contenteditable="false" spellcheck="false"><em>This could be the application master</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000042-uc2chwk" data-type="NodeListItem" class="li" id="20220913000042-uc2chwk" updated="20220913000042"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000108-vj8o3wc" data-type="NodeParagraph" class="p" id="20220913000108-vj8o3wc" updated="20220913000124"><div contenteditable="false" spellcheck="false"><em>The resource manager will try to restart it</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000108-0brpgnr" data-type="NodeListItem" class="li" id="20220913000108-0brpgnr" updated="20220913000108"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000108-lpy5pqg" data-type="NodeParagraph" class="p" id="20220913000108-lpy5pqg" updated="20220913000108"><div contenteditable="false" spellcheck="false">What if the resource manager goes down?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000112-sfk0h49" data-type="NodeList" class="list" id="20220913000112-sfk0h49"><div data-marker="*" data-subtype="u" data-node-id="20220913000042-tgeslr5" data-type="NodeListItem" class="li" id="20220913000042-tgeslr5" updated="20220913000042"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000042-7k54qed" data-type="NodeParagraph" class="p" id="20220913000042-7k54qed" updated="20220913000131"><div contenteditable="false" spellcheck="false"><em>Can set up &quot;high availability&quot; (HA) using Zookeeper to have a hot standby</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913000728-mogsee6" data-type="NodeListItem" class="li" id="20220913000728-mogsee6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000728-ovauwmo" data-type="NodeParagraph" class="p" id="20220913000728-ovauwmo" updated="20220913000743"><div contenteditable="false" spellcheck="false">Example: How many of each movie rating exist?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000744-u9wsegg" data-type="NodeList" class="list" id="20220913000744-u9wsegg"><div data-marker="*" data-subtype="u" data-node-id="20220913000743-d2gd9ly" data-type="NodeListItem" class="li" id="20220913000743-d2gd9ly"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000743-y3gtaeu" data-type="NodeParagraph" class="p" id="20220913000743-y3gtaeu" updated="20220913000800"><div contenteditable="false" spellcheck="false">Making it a MapReduce problem</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913000846-xheog6g" data-type="NodeParagraph" class="p" updated="20220913000847" id="20220913000846-xheog6g"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220913000847-lm4dovw.png" data-src="assets/image-20220913000847-lm4dovw.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000807-8yqhui6" data-type="NodeList" class="list" updated="20220913000810" id="20220913000807-8yqhui6"><div data-marker="*" data-subtype="u" data-node-id="20220913000810-jqmnphz" data-type="NodeListItem" class="li" id="20220913000810-jqmnphz" updated="20220913000810"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000810-041rxr2" data-type="NodeParagraph" class="p" updated="20220913000811" id="20220913000810-041rxr2"><div contenteditable="false" spellcheck="false">MAP each input line to (rating, 1)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913000807-75xs167" data-type="NodeList" class="list" id="20220913000807-75xs167" updated="20220913000816"><div data-marker="*" data-subtype="u" data-node-id="20220913000816-1qjeot5" data-type="NodeListItem" class="li" id="20220913000816-1qjeot5" updated="20220913000816"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913000816-3vf9tdh" data-type="NodeParagraph" class="p" id="20220913000816-3vf9tdh" updated="20220913000825"><div contenteditable="false" spellcheck="false">REDUCE each rating with the sum of all the 1's</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913001016-agxqj3g" data-type="NodeListItem" class="li" id="20220913001016-agxqj3g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913001016-imb4ph0" data-type="NodeParagraph" class="p" updated="20220913001023" id="20220913001016-imb4ph0"><div contenteditable="false" spellcheck="false">Writing the mapper</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913001023-g9zhs02" data-type="NodeCodeBlock" class="code-block" id="20220913001023-g9zhs02" updated="20220913001129"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">def mapper_get_ratings(self, _, line):
    (userID, movieID, rating, timestamp) = line.split('\t')
    yield rating, 1
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913001136-lvwkyvn" data-type="NodeListItem" class="li" id="20220913001136-lvwkyvn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913001136-l54v0ca" data-type="NodeParagraph" class="p" id="20220913001136-l54v0ca" updated="20220913001144"><div contenteditable="false" spellcheck="false">Writing the reducer</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913001145-6yyq0w7" data-type="NodeCodeBlock" class="code-block" id="20220913001145-6yyq0w7" updated="20220913001221"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">def reducer_count_ratings(self, key, values):
    yield key, sum(values)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913001252-ra48tbo" data-type="NodeListItem" class="li" id="20220913001252-ra48tbo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913001252-unu8pj1" data-type="NodeParagraph" class="p" id="20220913001252-unu8pj1" updated="20220913001305"><div contenteditable="false" spellcheck="false">Putting it all together</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913001252-bj3dfgx" data-type="NodeCodeBlock" class="code-block" id="20220913001252-bj3dfgx" updated="20220913001621"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from mrjob.job import MRJob
from mrjob.step import MRStep

class RatingsBreakdown(MRJob):
    def steps(self):
        return [
		MRStep(mapper = self.mapper_get_ratings,
		       reducer = self.reducer_count_ratings)
]

    def mapper_get_ratings(self, _, line):
        (userID, movieID, rating, timestamp) = line.split('\t')
        yield rating, 1

    def reducer_count_ratings(self, key, values):
        yield key, sum(values)

if __name__ == '__main__':
    RatingsBreakdown.run()
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913002034-oibjr4c" data-type="NodeListItem" class="li" id="20220913002034-oibjr4c" updated="20220913010542"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913002045-ukjm4lu" data-type="NodeParagraph" class="p" id="20220913002045-ukjm4lu"><div contenteditable="false" spellcheck="false">Installing mrjob on HDP 2.65</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913002045-9pijsgb" data-type="NodeParagraph" class="p" id="20220913002045-9pijsgb" updated="20220913002045"><div contenteditable="false" spellcheck="false">The following video will walk you through these steps, but you may find it helpful to have the commands in writing so you can just copy and paste them as you go (be sure to &quot;su root&quot; first, as shown in the video.)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913002105-hvg3is3" data-type="NodeCodeBlock" class="code-block" updated="20220913003828" id="20220913002105-hvg3is3"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">yum-config-manager --save --setopt=HDP-SOLR-2.6-100.skip_if_unavailable=true
yum install https://repo.ius.io/ius-release-el7.rpm https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum install python-pip
pip install pathlib
pip install mrjob==0.7.4
pip install PyYAML==5.4.1
yum install nano
wget http://media.sundog-soft.com/hadoop/RatingsBreakdown.py
wget http://media.sundog-soft.com/hadoop/ml-100k/u.data

[root@sandbox-hdp maria_dev]# cat RatingsBreakdown.py 
from mrjob.job import MRJob
from mrjob.step import MRStep

class RatingsBreakdown(MRJob):
    def steps(self):
        return [
            MRStep(mapper=self.mapper_get_ratings,
                   reducer=self.reducer_count_ratings)
        ]

    def mapper_get_ratings(self, _, line):
        (userID, movieID, rating, timestamp) = line.split('\t')
        yield rating, 1

    def reducer_count_ratings(self, key, values):
        yield key, sum(values)

if __name__ == '__main__':
    RatingsBreakdown.run()
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913010117-rcsrwy7" data-type="NodeList" class="list" id="20220913010117-rcsrwy7" updated="20220913010542"><div data-marker="*" data-subtype="u" data-node-id="20220913003220-qbp30y7" data-type="NodeListItem" class="li" id="20220913003220-qbp30y7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913003220-njqjsu7" data-type="NodeParagraph" class="p" id="20220913003220-njqjsu7" updated="20220913003228"><div contenteditable="false" spellcheck="false">[credentials]</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913003230-8f6lztk" data-type="NodeList" class="list" id="20220913003230-8f6lztk"><div data-marker="*" data-subtype="u" data-node-id="20220913003230-akwk4u8" data-type="NodeListItem" class="li" id="20220913003230-akwk4u8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913003230-gp6t0u0" data-type="NodeParagraph" class="p" id="20220913003230-gp6t0u0" updated="20220913003244"><div contenteditable="false" spellcheck="false">Amphe3578 for root pwd</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913010119-fsaqm5v" data-type="NodeListItem" class="li" id="20220913010119-fsaqm5v"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010119-3yjt9to" data-type="NodeParagraph" class="p" updated="20220913010139" id="20220913010119-3yjt9to"><div contenteditable="false" spellcheck="false">running on local</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913010140-vf11fv7" data-type="NodeCodeBlock" class="code-block" id="20220913010140-vf11fv7" updated="20220913010147"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ python RatingsBreakdown.py u.data
No configs found; falling back on auto-configuration
No configs specified for inline runner
Creating temp directory /tmp/RatingsBreakdown.maria_dev.20220912.170037.376616
Running step 1 of 1...
job output is in /tmp/RatingsBreakdown.maria_dev.20220912.170037.376616/output
Streaming final output from /tmp/RatingsBreakdown.maria_dev.20220912.170037.376616/output...
&quot;4&quot;	34174
&quot;5&quot;	21203
&quot;1&quot;	6111
&quot;2&quot;	11370
&quot;3&quot;	27145
Removing temp directory /tmp/RatingsBreakdown.maria_dev.20220912.170037.376616...
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913010154-jeygj49" data-type="NodeListItem" class="li" id="20220913010154-jeygj49" updated="20220913010542"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010154-3rs05n6" data-type="NodeParagraph" class="p" id="20220913010154-3rs05n6" updated="20220913010207"><div contenteditable="false" spellcheck="false">running on Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913010208-ioul6fm" data-type="NodeCodeBlock" class="code-block" id="20220913010208-ioul6fm" updated="20220913010542"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ python RatingsBreakdown.py -r hadoop --hadoop-streaming-jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-streaming.jar u.data
No configs found; falling back on auto-configuration
No configs specified for hadoop runner
Looking for hadoop binary in $PATH...
Found hadoop binary: /usr/bin/hadoop
Using Hadoop version 2.7.3.2.6.5.0
Creating temp directory /tmp/RatingsBreakdown.maria_dev.20220912.170420.347175
uploading working dir files to hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175/files/wd...
Copying other local files to hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175/files/
Running step 1 of 1...
  packageJobJar: [] [/usr/hdp/2.6.5.0-292/hadoop-mapreduce/hadoop-streaming-2.7.3.2.6.5.0-292.jar] /tmp/streamjob530204118478638207.jar tmpDir=null
  Connecting to ResourceManager at sandbox-hdp.hortonworks.com/172.18.0.2:8032
  Connecting to Application History server at sandbox-hdp.hortonworks.com/172.18.0.2:10200
  Connecting to ResourceManager at sandbox-hdp.hortonworks.com/172.18.0.2:8032
  Connecting to Application History server at sandbox-hdp.hortonworks.com/172.18.0.2:10200
  Total input paths to process : 1
  number of splits:2
  Submitting tokens for job: job_1662992704302_0001
  Submitted application application_1662992704302_0001
  The url to track the job: http://sandbox-hdp.hortonworks.com:8088/proxy/application_1662992704302_0001/
  Running job: job_1662992704302_0001
  Job job_1662992704302_0001 running in uber mode : false
   map 0% reduce 0%
   map 100% reduce 0%
   map 100% reduce 100%
  Job job_1662992704302_0001 completed successfully
  Output directory: hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175/output
Counters: 49
	File Input Format Counters 
		Bytes Read=2088191
	File Output Format Counters 
		Bytes Written=49
	File System Counters
		FILE: Number of bytes read=800030
		FILE: Number of bytes written=2073009
		FILE: Number of large read operations=0
		FILE: Number of read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=2088549
		HDFS: Number of bytes written=49
		HDFS: Number of large read operations=0
		HDFS: Number of read operations=9
		HDFS: Number of write operations=2
	Job Counters 
		Data-local map tasks=2
		Launched map tasks=2
		Launched reduce tasks=1
		Total megabyte-milliseconds taken by all map tasks=5042500
		Total megabyte-milliseconds taken by all reduce tasks=1184250
		Total time spent by all map tasks (ms)=20170
		Total time spent by all maps in occupied slots (ms)=20170
		Total time spent by all reduce tasks (ms)=4737
		Total time spent by all reduces in occupied slots (ms)=4737
		Total vcore-milliseconds taken by all map tasks=20170
		Total vcore-milliseconds taken by all reduce tasks=4737
	Map-Reduce Framework
		CPU time spent (ms)=4750
		Combine input records=0
		Combine output records=0
		Failed Shuffles=0
		GC time elapsed (ms)=382
		Input split bytes=358
		Map input records=100003
		Map output bytes=600018
		Map output materialized bytes=800036
		Map output records=100003
		Merged Map outputs=2
		Physical memory (bytes) snapshot=513785856
		Reduce input groups=5
		Reduce input records=100003
		Reduce output records=5
		Reduce shuffle bytes=800036
		Shuffled Maps =2
		Spilled Records=200006
		Total committed heap usage (bytes)=263192576
		Virtual memory (bytes) snapshot=5840756736
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
job output is in hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175/output
Streaming final output from hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175/output...
&quot;1&quot;	6111
&quot;2&quot;	11370
&quot;3&quot;	27145
&quot;4&quot;	34174
&quot;5&quot;	21203
Removing HDFS temp directory hdfs:///user/maria_dev/tmp/mrjob/RatingsBreakdown.maria_dev.20220912.170420.347175...
Removing temp directory /tmp/RatingsBreakdown.maria_dev.20220912.170420.347175...
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913010715-b2muw22" data-type="NodeListItem" class="li" id="20220913010715-b2muw22" updated="20220913014842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010715-3qkk6kq" data-type="NodeParagraph" class="p" id="20220913010715-3qkk6kq" updated="20220913010737"><div contenteditable="false" spellcheck="false">Exercise: Count up ratings given for each movie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913010737-zdshd0o" data-type="NodeList" class="list" id="20220913010737-zdshd0o" updated="20220913010747"><div data-marker="*" data-subtype="u" data-node-id="20220913010745-7wa2d3i" data-type="NodeListItem" class="li" id="20220913010745-7wa2d3i" updated="20220913010747"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010745-aai40qe" data-type="NodeParagraph" class="p" id="20220913010745-aai40qe" updated="20220913010747"><div contenteditable="false" spellcheck="false">All you need is to change one thing in the mapper – we don’t care about ratings now, we care about movie ID’s!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913010737-ida9ngb" data-type="NodeList" class="list" id="20220913010737-ida9ngb" updated="20220913014842"><div data-marker="*" data-subtype="u" data-node-id="20220913010737-hbddb3o" data-type="NodeListItem" class="li" id="20220913010737-hbddb3o" updated="20220913010737"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010737-p55htuj" data-type="NodeParagraph" class="p" id="20220913010737-p55htuj" updated="20220913010750"><div contenteditable="false" spellcheck="false">Start with this and make sure you can do it.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913010737-otwk01x" data-type="NodeListItem" class="li" id="20220913010737-otwk01x" updated="20220913010737"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913010737-wip9w0g" data-type="NodeParagraph" class="p" updated="20220913010753" id="20220913010737-wip9w0g"><div contenteditable="false" spellcheck="false">You can use nano to just edit the existing RatingsBreakdown.py script</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011255-12hnauk" data-type="NodeListItem" class="li" id="20220913011255-12hnauk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011255-7xoecjx" data-type="NodeParagraph" class="p" id="20220913011255-7xoecjx" updated="20220913011300"><div contenteditable="false" spellcheck="false">Strategy</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913011301-9ggmcek" data-type="NodeList" class="list" id="20220913011301-9ggmcek"><div data-marker="*" data-subtype="u" data-node-id="20220913011301-e55lpzl" data-type="NodeListItem" class="li" id="20220913011301-e55lpzl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011302-bzbz7jt" data-type="NodeParagraph" class="p" updated="20220913011314" id="20220913011302-bzbz7jt"><div contenteditable="false" spellcheck="false">Map to (movieID, 1) key/value pairs</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011302-jk8kxge" data-type="NodeListItem" class="li" id="20220913011302-jk8kxge" updated="20220913011302"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011302-v2jnbup" data-type="NodeParagraph" class="p" updated="20220913011321" id="20220913011302-v2jnbup"><div contenteditable="false" spellcheck="false">Reduce with output of (rating count, movieID)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011326-eukdyru" data-type="NodeListItem" class="li" id="20220913011326-eukdyru"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011326-ib3nn2h" data-type="NodeParagraph" class="p" id="20220913011326-ib3nn2h" updated="20220913011326"><div contenteditable="false" spellcheck="false">Send this to a second reducer so we end up with things sorted by rating  
count!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011302-w21vb0d" data-type="NodeListItem" class="li" id="20220913011302-w21vb0d" updated="20220913011302"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011302-r7w5l9g" data-type="NodeParagraph" class="p" id="20220913011302-r7w5l9g" updated="20220913011331"><div contenteditable="false" spellcheck="false">Gotchas:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913011302-9g5r7z4" data-type="NodeList" class="list" id="20220913011302-9g5r7z4" updated="20220913011337"><div data-marker="*" data-subtype="u" data-node-id="20220913011337-a0z5a81" data-type="NodeListItem" class="li" id="20220913011337-a0z5a81" updated="20220913011337"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011337-6z88s6i" data-type="NodeParagraph" class="p" updated="20220913011341" id="20220913011337-6z88s6i"><div contenteditable="false" spellcheck="false">How do we set up more than one MapReduce step?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011345-5zpdlej" data-type="NodeListItem" class="li" id="20220913011345-5zpdlej"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011345-fgiwkic" data-type="NodeParagraph" class="p" id="20220913011345-fgiwkic" updated="20220913011346"><div contenteditable="false" spellcheck="false">How do we ensure the rating counts are sorted properly?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913011433-3g0in4w" data-type="NodeListItem" class="li" id="20220913011433-3g0in4w" updated="20220913014842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913011433-a5clogi" data-type="NodeParagraph" class="p" id="20220913011433-a5clogi" updated="20220913011440"><div contenteditable="false" spellcheck="false">Code</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913011440-ev3xcn8" data-type="NodeCodeBlock" class="code-block" id="20220913011440-ev3xcn8" updated="20220913014842"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cat MovieCount.py 
from mrjob.job import MRJob
from mrjob.step import MRStep

class RatingsBreakdown(MRJob):
    def steps(self):
        return [
            MRStep(mapper=self.mapper_get_movies,
                   reducer=self.reducer_count_ratings)
        ]

    def mapper_get_movies(self, _, line):
        (userID, movieID, rating, timestamp) = line.split('\t')
        yield movieID, 1

    def reducer_count_ratings(self, key, values):
        yield key, sum(values)

if __name__ == '__main__':
    RatingsBreakdown.run()

[maria_dev@sandbox-hdp ~]$ python MovieCount.py u.data
No configs found; falling back on auto-configuration
No configs specified for inline runner
Creating temp directory /tmp/MovieCount.maria_dev.20220912.171115.715505
Running step 1 of 1...
job output is in /tmp/MovieCount.maria_dev.20220912.171115.715505/output
Streaming final output from /tmp/MovieCount.maria_dev.20220912.171115.715505/output...
&quot;194&quot;	241
&quot;195&quot;	301
&quot;196&quot;	251
&quot;197&quot;	239
&quot;198&quot;	127
&quot;199&quot;	165
&quot;2&quot;	131
&quot;20&quot;	72
...


[maria_dev@sandbox-hdp ~]$ cat TopMovies.py 
from mrjob.job import MRJob
from mrjob.step import MRStep

class RatingsBreakdown(MRJob):
    def steps(self):
        return [
            MRStep(mapper=self.mapper_get_ratings,
                   reducer=self.reducer_count_ratings),
            MRStep(reducer=self.reducer_sorted_output)
        ]

    def mapper_get_ratings(self, _, line):
        (userID, movieID, rating, timestamp) = line.split('\t')
        yield movieID, 1

    def reducer_count_ratings(self, key, values):
        yield str(sum(values)).zfill(5), key

    def reducer_sorted_output(self, count, movies):
        for movie in movies:
            yield movie, count


if __name__ == '__main__':
    RatingsBreakdown.run()

## You may notice that your results aren't sorted the same way mine are. 
## Depending on how MapReduce split up the processing of your work, 
## you may be getting results back from each CPU core or from multiple threads 
## reducing the data in parallel. Only data from the same process can be 
## sorted by an individual reducer, so that's expected.

## It would be possible to re-sort your final results via some other process 
## once it is all received, but as you'll see in later lectures, 
## more modern technologies such as Spark will handle things like this for you.
## output
&quot;443&quot;	&quot;00162&quot;
&quot;66&quot;	&quot;00162&quot;
&quot;411&quot;	&quot;00163&quot;
&quot;523&quot;	&quot;00164&quot;
&quot;692&quot;	&quot;00164&quot;
&quot;739&quot;	&quot;00164&quot;
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912025413-zmuk1u4" data-type="NodeParagraph" class="p" id="20220912025413-zmuk1u4"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-896ther" data-type="NodeHeading" class="h2" id="20220912014401-896ther" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 3: Programming Hadoop with Pig</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913224806-la8vv11" data-type="NodeList" class="list" id="20220913224806-la8vv11" updated="20220913224830"><div data-marker="*" data-subtype="u" data-node-id="20220913224812-2fsbt24" data-type="NodeListItem" class="li" updated="20220913224830" id="20220913224812-2fsbt24"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913224812-grjvmu3" data-type="NodeParagraph" class="p" id="20220913224812-grjvmu3" updated="20220913224813"><div contenteditable="false" spellcheck="false">Prep</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913224813-8994a8e" data-type="NodeList" class="list" id="20220913224813-8994a8e" updated="20220913224830"><div data-marker="*" data-subtype="u" data-node-id="20220913224816-v8mwpxu" data-type="NodeListItem" class="li" id="20220913224816-v8mwpxu" updated="20220913224830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913224816-rk4pvsj" data-type="NodeParagraph" class="p" id="20220913224816-rk4pvsj" updated="20220913224824"><div contenteditable="false" spellcheck="false">getting admin account for hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913224825-1eo199q" data-type="NodeCodeBlock" class="code-block" id="20220913224825-1eo199q" updated="20220913224830"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# ambari-admin-password-reset
Please set the password for admin: 
Please retype the password for admin: 

The admin password has been set.
Restarting ambari-server to make the password change effective...

Using python  /usr/bin/python
Restarting ambari-server
Waiting for server stop...
Ambari Server stopped
Ambari Server running with administrator privileges.
Organizing resource files at /var/lib/ambari-server/resources...
Ambari database consistency check started...
Server PID at: /var/run/ambari-server/ambari-server.pid
Server out at: /var/log/ambari-server/ambari-server.out
Server log at: /var/log/ambari-server/ambari-server.log
Waiting for server start..........................................
Server started listening on 8080

DB configs consistency check: no errors and warnings were found.
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913225234-mizoeuo" data-type="NodeList" class="list" id="20220913225234-mizoeuo" updated="20220914021848"><div data-marker="*" data-subtype="u" data-node-id="20220913225236-w14gq0y" data-type="NodeListItem" class="li" id="20220913225236-w14gq0y" updated="20220914021848"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225236-poogrk0" data-type="NodeParagraph" class="p" id="20220913225236-poogrk0" updated="20220913225239"><div contenteditable="false" spellcheck="false">Pig</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913225646-xn8c9lm" data-type="NodeParagraph" class="p" id="20220913225646-xn8c9lm" updated="20220913225647"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 283px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220913225647-9tdwya5.png" data-src="assets/image-20220913225647-9tdwya5.png" alt="image" style="width: 273px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913225239-lbaf2y9" data-type="NodeList" class="list" id="20220913225239-lbaf2y9" updated="20220914021848"><div data-marker="*" data-subtype="u" data-node-id="20220913225718-rblzs3o" data-type="NodeListItem" class="li" id="20220913225718-rblzs3o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225718-5pj96rz" data-type="NodeParagraph" class="p" id="20220913225718-5pj96rz" updated="20220913225720"><div contenteditable="false" spellcheck="false">Features</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913225725-uvc7m7j" data-type="NodeList" class="list" id="20220913225725-uvc7m7j"><div data-marker="*" data-subtype="u" data-node-id="20220913225248-nq43u1r" data-type="NodeListItem" class="li" id="20220913225248-nq43u1r" updated="20220913225248"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225248-68e9qfi" data-type="NodeParagraph" class="p" updated="20220913225325" id="20220913225248-68e9qfi"><div contenteditable="false" spellcheck="false">built on Hadoop and MapReduce, to not necessary writing mapper and reducer</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913225546-w3v5vqe" data-type="NodeList" class="list" id="20220913225546-w3v5vqe"><div data-marker="*" data-subtype="u" data-node-id="20220913225546-72jrzn5" data-type="NodeListItem" class="li" id="20220913225546-72jrzn5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225546-m4s2j5r" data-type="NodeParagraph" class="p" id="20220913225546-m4s2j5r" updated="20220913225606"><div contenteditable="false" spellcheck="false">also on Tez, offering accelaration compared to MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913225800-1ruftbk" data-type="NodeListItem" class="li" id="20220913225800-1ruftbk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225800-gljrwjt" data-type="NodeParagraph" class="p" id="20220913225800-gljrwjt" updated="20220913225907"><div contenteditable="false" spellcheck="false">Multi sets of (mapper, reducer) forms a DAG, where Tez can observe the interdenpendecies between steps and compute the optimal path</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913225348-h0rv6o2" data-type="NodeListItem" class="li" id="20220913225348-h0rv6o2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225349-d820jpp" data-type="NodeParagraph" class="p" id="20220913225349-d820jpp" updated="20220913225355"><div contenteditable="false" spellcheck="false">Writing mappers and reducers by hand takes a long time.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913225400-1wv7yrp" data-type="NodeListItem" class="li" id="20220913225400-1wv7yrp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225400-goyhstd" data-type="NodeParagraph" class="p" id="20220913225400-goyhstd" updated="20220913225420"><div contenteditable="false" spellcheck="false">Pig introduces <strong>Pig Latin</strong>, a scripting language that lets you use <strong>SQL-like</strong> syntax to define your map and reduce steps.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913225408-f3qgtgs" data-type="NodeListItem" class="li" id="20220913225408-f3qgtgs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225408-36p9rkv" data-type="NodeParagraph" class="p" id="20220913225408-36p9rkv" updated="20220913225410"><div contenteditable="false" spellcheck="false">Highly extensible with user-defined functions (UDF’s)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913225726-6ey1q4t" data-type="NodeListItem" class="li" id="20220913225726-6ey1q4t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913225726-er7r07j" data-type="NodeParagraph" class="p" id="20220913225726-er7r07j" updated="20220913230004"><div contenteditable="false" spellcheck="false">Running Pig</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913230006-20wd09s" data-type="NodeList" class="list" id="20220913230006-20wd09s" updated="20220913230009"><div data-marker="*" data-subtype="u" data-node-id="20220913230009-eecy0cz" data-type="NodeListItem" class="li" id="20220913230009-eecy0cz" updated="20220913230009"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913230009-muslfq9" data-type="NodeParagraph" class="p" id="20220913230009-muslfq9" updated="20220913230009"><div contenteditable="false" spellcheck="false">Grunt</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220913230017-ij7qgdw" data-type="NodeList" class="list" id="20220913230017-ij7qgdw"><div data-marker="*" data-subtype="u" data-node-id="20220913230017-cr07bni" data-type="NodeListItem" class="li" id="20220913230017-cr07bni"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913230017-dwp3ofj" data-type="NodeParagraph" class="p" id="20220913230017-dwp3ofj" updated="20220913230024"><div contenteditable="false" spellcheck="false">MasterNode CLI</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913230013-aprlffj" data-type="NodeListItem" class="li" id="20220913230013-aprlffj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913230013-w52vnqk" data-type="NodeParagraph" class="p" id="20220913230013-w52vnqk"><div contenteditable="false" spellcheck="false">Script</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913230015-o34j20f" data-type="NodeListItem" class="li" id="20220913230015-o34j20f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913230015-g9syn44" data-type="NodeParagraph" class="p" id="20220913230015-g9syn44"><div contenteditable="false" spellcheck="false">Ambari / Hue</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220913230112-pblt753" data-type="NodeListItem" class="li" id="20220913230112-pblt753" updated="20220914014509"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220913230112-csvdlp4" data-type="NodeParagraph" class="p" id="20220913230112-csvdlp4" updated="20220914013229"><div contenteditable="false" spellcheck="false">Hands-on: Find the oldest good-rates(avg ratings &gt; 4.0) movie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914014233-d5z5e78" data-type="NodeCodeBlock" class="code-block" updated="20220914014509" id="20220914014233-d5z5e78"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">pig</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">-- load files
ratings = LOAD '/user/maria_dev/ml-100k/u.data' AS (userID:int, movieID:int, rating:int, ratingTime:int);

metadata = LOAD '/user/maria_dev/ml-100k/u.item' USING PigStorage('|')
	AS (movieID:int, movieTitle:chararray, releaseDate:chararray, videoRealese:chararray, imdblink:chararray);

-- convert date
nameLookup = FOREACH metadata GENERATE movieID, movieTitle,
	ToUnixTime(ToDate(releaseDate, 'dd-MMM-yyyy')) AS releaseTime;

-- group by movieID
ratingsByMovie = GROUP ratings BY movieID;

-- generate the avgRatings
avgRatings = FOREACH ratingsByMovie GENERATE group as movieID, AVG(ratings.rating) as avgRating;

fiveStarMovies = FILTER avgRatings BY avgRating &gt; 4.0;

-- join fiveStarMovies and nameLookup by movieID
fiveStarsWithData = JOIN fiveStarMovies BY movieID, nameLookup BY movieID;

-- sort by releaseTime
oldestFiveStarMovies = ORDER fiveStarsWithData BY nameLookup::releaseTime;

DUMP oldestFiveStarMovies;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914015104-w8rr6xp" data-type="NodeParagraph" class="p" updated="20220914015121" id="20220914015104-w8rr6xp"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 556px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220914015121-xhn9ou8.png" data-src="assets/image-20220914015121-xhn9ou8.png" alt="image" style="width: 546px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914015128-966pyjd" data-type="NodeList" class="list" id="20220914015128-966pyjd"><div data-marker="*" data-subtype="u" data-node-id="20220914015127-01kzhr5" data-type="NodeListItem" class="li" id="20220914015127-01kzhr5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914015127-j1emht2" data-type="NodeParagraph" class="p" id="20220914015127-j1emht2" updated="20220914020931"><div contenteditable="false" spellcheck="false">MapReduce Version -- 3 min, 29 sec</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914015133-1d6ro5b" data-type="NodeCodeBlock" class="code-block" id="20220914015133-1d6ro5b" updated="20220914015158"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">accesslog</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">2022-09-13 17:42:51,749 [main] INFO  org.apache.pig.Main - Pig script completed in 1 minute, 42 seconds and 833 milliseconds (102833 ms) 
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914015205-t3qnjxc" data-type="NodeList" class="list" updated="20220914015206" id="20220914015205-t3qnjxc"><div data-marker="*" data-subtype="u" data-node-id="20220914015206-ejgkr2x" data-type="NodeListItem" class="li" id="20220914015206-ejgkr2x" updated="20220914015206"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914015206-z5w9m5j" data-type="NodeParagraph" class="p" id="20220914015206-z5w9m5j" updated="20220914020945"><div contenteditable="false" spellcheck="false">Tez Version (faster) -- 2 min, 35 sec</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914015210-qyfw2x0" data-type="NodeCodeBlock" class="code-block" id="20220914015210-qyfw2x0" updated="20220914015241"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">accesslog</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">2022-09-13 17:49:46,931 [main] INFO  org.apache.pig.Main - Pig script completed in 1 minute, 23 seconds and 573 milliseconds (83573 ms) 
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914015544-9lwz5y2" data-type="NodeListItem" class="li" id="20220914015544-9lwz5y2" updated="20220914015544"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914015544-ld1bo90" data-type="NodeParagraph" class="p" id="20220914015544-ld1bo90" updated="20220914015550"><div contenteditable="false" spellcheck="false">Pig Latin</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914015610-wcjbn3m" data-type="NodeList" class="list" id="20220914015610-wcjbn3m" updated="20220914015613"><div data-marker="*" data-subtype="u" data-node-id="20220914015931-bovtqyp" data-type="NodeListItem" class="li" id="20220914015931-bovtqyp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914015931-mjdmghw" data-type="NodeParagraph" class="p" id="20220914015931-mjdmghw" updated="20220914015945"><div contenteditable="false" spellcheck="false">Syntax</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914015947-m7ynus6" data-type="NodeList" class="list" id="20220914015947-m7ynus6"><div data-marker="*" data-subtype="u" data-node-id="20220914015613-whfms7r" data-type="NodeListItem" class="li" id="20220914015613-whfms7r" updated="20220914015613"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914015613-uo4mtrd" data-type="NodeParagraph" class="p" id="20220914015613-uo4mtrd" updated="20220914015613"><div contenteditable="false" spellcheck="false">LOAD STORE DUMP</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914015958-ggrwzyo" data-type="NodeParagraph" class="p" id="20220914015958-ggrwzyo"><div contenteditable="false" spellcheck="false">– STORE ratings INTO 'outRatings' USING PigStorage(':');</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020005-zl3jgj9" data-type="NodeListItem" class="li" id="20220914020005-zl3jgj9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020005-tb5oo7c" data-type="NodeParagraph" class="p" id="20220914020005-tb5oo7c"><div contenteditable="false" spellcheck="false">FILTER DISTINCT FOREACH/GENERATE MAPREDUCE STREAM SAMPLE</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020009-cj9hlw7" data-type="NodeListItem" class="li" id="20220914020009-cj9hlw7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020009-p1o7pz3" data-type="NodeParagraph" class="p" id="20220914020009-p1o7pz3"><div contenteditable="false" spellcheck="false">JOIN COGROUP GROUP CROSS CUBE</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020011-jtdgcvx" data-type="NodeListItem" class="li" id="20220914020011-jtdgcvx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020011-myxte77" data-type="NodeParagraph" class="p" id="20220914020011-myxte77"><div contenteditable="false" spellcheck="false">ORDER RANK LIMIT</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020015-2haefch" data-type="NodeListItem" class="li" id="20220914020015-2haefch"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020015-250h8wn" data-type="NodeParagraph" class="p" id="20220914020015-250h8wn"><div contenteditable="false" spellcheck="false">UNION SPLIT</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020017-6p23wvu" data-type="NodeListItem" class="li" id="20220914020017-6p23wvu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020017-g4tjmsc" data-type="NodeParagraph" class="p" id="20220914020017-g4tjmsc" updated="20220914020022"><div contenteditable="false" spellcheck="false">Diagnostics</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914020024-1zsihn0" data-type="NodeList" class="list" id="20220914020024-1zsihn0"><div data-marker="*" data-subtype="u" data-node-id="20220914020023-gxc5vo5" data-type="NodeListItem" class="li" id="20220914020023-gxc5vo5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020029-7ilzgbn" data-type="NodeParagraph" class="p" updated="20220914020413" id="20220914020029-7ilzgbn"><div contenteditable="false" spellcheck="false">DESCRIBE (describe the schema of a given relation)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020041-rrxbrzn" data-type="NodeListItem" class="li" id="20220914020041-rrxbrzn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020041-9pzl00i" data-type="NodeParagraph" class="p" id="20220914020041-9pzl00i" updated="20220914020418"><div contenteditable="false" spellcheck="false">EXPLAIN (SQL explain plan, insight on how Pig execute the query)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020039-ppvtw3s" data-type="NodeListItem" class="li" id="20220914020039-ppvtw3s"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020039-bbgvjnv" data-type="NodeParagraph" class="p" id="20220914020039-bbgvjnv" updated="20220914020425"><div contenteditable="false" spellcheck="false">ILLUSTRATE (taking sample to explain)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020250-1xo83d8" data-type="NodeListItem" class="li" id="20220914020250-1xo83d8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020250-8pt1yfe" data-type="NodeParagraph" class="p" id="20220914020250-8pt1yfe" updated="20220914020324"><div contenteditable="false" spellcheck="false">UDFs (Java)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914020255-pamk4uh" data-type="NodeList" class="list" id="20220914020255-pamk4uh" updated="20220914020302"><div data-marker="*" data-subtype="u" data-node-id="20220914020302-ahnshwd" data-type="NodeListItem" class="li" id="20220914020302-ahnshwd" updated="20220914020302"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020302-408tzqn" data-type="NodeParagraph" class="p" updated="20220914020345" id="20220914020302-408tzqn"><div contenteditable="false" spellcheck="false">REGISTER (jar file containg UDF imported to Pig)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020310-u68daqx" data-type="NodeListItem" class="li" id="20220914020310-u68daqx" updated="20220914020310"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020310-az97u72" data-type="NodeParagraph" class="p" id="20220914020310-az97u72" updated="20220914020401"><div contenteditable="false" spellcheck="false">DEFINE (name the function)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020315-j0welhe" data-type="NodeListItem" class="li" id="20220914020315-j0welhe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020315-sffpobh" data-type="NodeParagraph" class="p" updated="20220914020449" id="20220914020315-sffpobh"><div contenteditable="false" spellcheck="false">IMPORT (import macros for Pig file)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020046-7dghlmo" data-type="NodeListItem" class="li" id="20220914020046-7dghlmo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020046-mmcappu" data-type="NodeParagraph" class="p" id="20220914020046-mmcappu" updated="20220914020244"><div contenteditable="false" spellcheck="false">Some other functions and loaders</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914020521-ztuddif" data-type="NodeList" class="list" id="20220914020521-ztuddif" updated="20220914020524"><div data-marker="*" data-subtype="u" data-node-id="20220914020524-r7w2m6e" data-type="NodeListItem" class="li" id="20220914020524-r7w2m6e" updated="20220914020524"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020524-q5i6fcv" data-type="NodeParagraph" class="p" id="20220914020524-q5i6fcv" updated="20220914020524"><div contenteditable="false" spellcheck="false">AVG CONCAT COUNT MAX MIN SIZE SUM</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914020521-wg21a4r" data-type="NodeList" class="list" id="20220914020521-wg21a4r" updated="20220914020528"><div data-marker="*" data-subtype="u" data-node-id="20220914020528-yzmsjk1" data-type="NodeListItem" class="li" id="20220914020528-yzmsjk1" updated="20220914020528"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020528-z34i92l" data-type="NodeParagraph" class="p" id="20220914020528-z34i92l" updated="20220914020528"><div contenteditable="false" spellcheck="false">PigStorage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020532-yc6yj98" data-type="NodeListItem" class="li" id="20220914020532-yc6yj98"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020532-ulkczy2" data-type="NodeParagraph" class="p" id="20220914020532-ulkczy2"><div contenteditable="false" spellcheck="false">TextLoader</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020534-v73bma5" data-type="NodeListItem" class="li" id="20220914020534-v73bma5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020534-l5fnjtj" data-type="NodeParagraph" class="p" id="20220914020534-l5fnjtj"><div contenteditable="false" spellcheck="false">JsonLoader</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020536-gsnl3da" data-type="NodeListItem" class="li" id="20220914020536-gsnl3da"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020536-gmkbkie" data-type="NodeParagraph" class="p" id="20220914020536-gmkbkie"><div contenteditable="false" spellcheck="false">AvroStorage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020538-ktt2d09" data-type="NodeListItem" class="li" id="20220914020538-ktt2d09"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020538-2y4v2u5" data-type="NodeParagraph" class="p" id="20220914020538-2y4v2u5" updated="20220914020540"><div contenteditable="false" spellcheck="false">ParquetLoader</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020541-nufcu5f" data-type="NodeListItem" class="li" id="20220914020541-nufcu5f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020541-6onv05s" data-type="NodeParagraph" class="p" updated="20220914020545" id="20220914020541-6onv05s"><div contenteditable="false" spellcheck="false">OrcStorage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914020545-6gcbozi" data-type="NodeListItem" class="li" id="20220914020545-6gcbozi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914020545-mlpisxh" data-type="NodeParagraph" class="p" id="20220914020545-mlpisxh" updated="20220914020735"><div contenteditable="false" spellcheck="false">HdBaseStorage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914021804-u9qqilz" data-type="NodeListItem" class="li" id="20220914021804-u9qqilz" updated="20220914021848"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914021804-qxlp81h" data-type="NodeParagraph" class="p" id="20220914021804-qxlp81h" updated="20220914021833"><div contenteditable="false" spellcheck="false">Exercise: find the mostly rated bad rating movie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914021841-zkzszg9" data-type="NodeCodeBlock" class="code-block" id="20220914021841-zkzszg9" updated="20220914021848"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">pig</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">-- load files
ratings = LOAD '/user/maria_dev/ml-100k/u.data' AS (userID:int, movieID:int, rating:int, ratingTime:int);

metadata = LOAD '/user/maria_dev/ml-100k/u.item' USING PigStorage('|')
	AS (movieID:int, movieTitle:chararray, releaseDate:chararray, videoRealese:chararray, imdblink:chararray);

-- convert date
nameLookup = FOREACH metadata GENERATE movieID, movieTitle;

-- group by movieID
groupedRatings = GROUP ratings BY movieID;

-- generate the avgRatings
avgRatings = FOREACH groupedRatings GENERATE group as movieID, 
	AVG(ratings.rating) as avgRating, 
    COUNT(ratings.rating) as numRatings;

badMovies = FILTER avgRatings BY avgRating &lt; 2.0;

-- join badMovies and nameLookup by movieID
namedBadMovies = JOIN badMovies BY movieID, nameLookup BY movieID;

-- sort by releaseTime
MostRatedBadRatingMovie = ORDER namedBadMovies BY badMovies::numRatings DESC;

DUMP MostRatedBadRatingMovie;

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914021834-2xxdnha" data-type="NodeParagraph" class="p" id="20220914021834-2xxdnha" updated="20220914021836"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 592px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220914021836-u0aebiw.png" data-src="assets/image-20220914021836-u0aebiw.png" alt="image" style="width: 582px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913224808-u0d9h3f" data-type="NodeParagraph" class="p" id="20220913224808-u0d9h3f"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220913224806-esfyl3r" data-type="NodeParagraph" class="p" id="20220913224806-esfyl3r"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-hmzxfks" data-type="NodeHeading" class="h2" id="20220912014401-hmzxfks" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 4: Programming Hadoop with Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914022002-qqbw7ht" data-type="NodeList" class="list" id="20220914022002-qqbw7ht" updated="20220914024103"><div data-marker="*" data-subtype="u" data-node-id="20220914022131-fdnng5o" data-type="NodeListItem" class="li" id="20220914022131-fdnng5o" updated="20220914022131"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022131-pmjx23n" data-type="NodeParagraph" class="p" id="20220914022131-pmjx23n" updated="20220914022133"><div contenteditable="false" spellcheck="false">Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914022153-7dexz6x" data-type="NodeList" class="list" id="20220914022153-7dexz6x" updated="20220914022220"><div data-marker="*" data-subtype="u" data-node-id="20220914022236-eu95kye" data-type="NodeListItem" class="li" id="20220914022236-eu95kye"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022236-4oniom7" data-type="NodeParagraph" class="p" id="20220914022236-4oniom7" updated="20220914022241"><div contenteditable="false" spellcheck="false">Scalable</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914022133-egx3n5g" data-type="NodeParagraph" class="p" id="20220914022133-egx3n5g" updated="20220914022134"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 470px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220914022134-mg0n3et.png" data-src="assets/image-20220914022134-mg0n3et.png" alt="image" style="width: 460px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022220-30xz4lw" data-type="NodeListItem" class="li" updated="20220914022220" id="20220914022220-30xz4lw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022220-u8tfcwy" data-type="NodeParagraph" class="p" id="20220914022220-u8tfcwy" updated="20220914022220"><div contenteditable="false" spellcheck="false">fast: save in RAM and using DAG</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914022229-3p3l6o1" data-type="NodeList" class="list" id="20220914022229-3p3l6o1" updated="20220914022229"><div data-marker="*" data-subtype="u" data-node-id="20220914022229-3m8wawe" data-type="NodeListItem" class="li" id="20220914022229-3m8wawe" updated="20220914022229"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022229-m3ihzpj" data-type="NodeParagraph" class="p" id="20220914022229-m3ihzpj" updated="20220914022234"><div contenteditable="false" spellcheck="false">&quot;Run programs up to 100x faster than Hadoop MapReduce in memory, or 10x faster on disk.&quot;</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022229-c7f4vxi" data-type="NodeListItem" class="li" id="20220914022229-c7f4vxi" updated="20220914022229"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022229-9r78fc1" data-type="NodeParagraph" class="p" id="20220914022229-9r78fc1" updated="20220914022229"><div contenteditable="false" spellcheck="false">DAG Engine (directed acyclic graph) optimizes workflows</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022310-ookag4l" data-type="NodeListItem" class="li" id="20220914022310-ookag4l"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022310-4qiok9y" data-type="NodeParagraph" class="p" updated="20220914022320" id="20220914022310-4qiok9y"><div contenteditable="false" spellcheck="false">hot</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914022322-bxoptgl" data-type="NodeList" class="list" updated="20220914022322" id="20220914022322-bxoptgl"><div data-marker="*" data-subtype="u" data-node-id="20220914022322-ouxd0j4" data-type="NodeListItem" class="li" id="20220914022322-ouxd0j4" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-hau068q" data-type="NodeParagraph" class="p" id="20220914022322-hau068q" updated="20220914022322"><div contenteditable="false" spellcheck="false">Amazon</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-fbm6dva" data-type="NodeListItem" class="li" id="20220914022322-fbm6dva" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-s3kz3y3" data-type="NodeParagraph" class="p" id="20220914022322-s3kz3y3" updated="20220914022322"><div contenteditable="false" spellcheck="false">Ebay: log analysis and aggregation</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-b6y5vay" data-type="NodeListItem" class="li" id="20220914022322-b6y5vay" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-006j6b9" data-type="NodeParagraph" class="p" id="20220914022322-006j6b9" updated="20220914022322"><div contenteditable="false" spellcheck="false">NASA JPL: Deep Space Network</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-g5xpmc3" data-type="NodeListItem" class="li" id="20220914022322-g5xpmc3" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-r143tgl" data-type="NodeParagraph" class="p" id="20220914022322-r143tgl" updated="20220914022322"><div contenteditable="false" spellcheck="false">Groupon</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-3nma8qm" data-type="NodeListItem" class="li" id="20220914022322-3nma8qm" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-h4knyzm" data-type="NodeParagraph" class="p" id="20220914022322-h4knyzm" updated="20220914022322"><div contenteditable="false" spellcheck="false">TripAdviser</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-93dzq83" data-type="NodeListItem" class="li" id="20220914022322-93dzq83" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-6xwepg1" data-type="NodeParagraph" class="p" id="20220914022322-6xwepg1" updated="20220914022322"><div contenteditable="false" spellcheck="false">Yahoo</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022322-tfnnzus" data-type="NodeListItem" class="li" id="20220914022322-tfnnzus" updated="20220914022322"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022322-t85hse0" data-type="NodeParagraph" class="p" id="20220914022322-t85hse0" updated="20220914022325"><div contenteditable="false" spellcheck="false">Many others: https://cwiki.apache.org/confluence/display/SPARK/Powered+By+Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022826-bmjnzvu" data-type="NodeListItem" class="li" id="20220914022826-bmjnzvu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022826-403izd4" data-type="NodeParagraph" class="p" updated="20220914022828" id="20220914022826-403izd4"><div contenteditable="false" spellcheck="false">easy</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914022838-ui4koeu" data-type="NodeList" class="list" updated="20220914022838" id="20220914022838-ui4koeu"><div data-marker="*" data-subtype="u" data-node-id="20220914022838-q8wqa5g" data-type="NodeListItem" class="li" id="20220914022838-q8wqa5g" updated="20220914022838"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022838-mqysvch" data-type="NodeParagraph" class="p" id="20220914022838-mqysvch" updated="20220914022838"><div contenteditable="false" spellcheck="false">Code in Python, Java, or Scala</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022838-1ht3thh" data-type="NodeListItem" class="li" id="20220914022838-1ht3thh" updated="20220914022838"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022838-ejnm31v" data-type="NodeParagraph" class="p" id="20220914022838-ejnm31v" updated="20220914022838"><div contenteditable="false" spellcheck="false">Built around one main concept: the Resilient Distributed Dataset (RDD)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914022932-buomcsm" data-type="NodeListItem" class="li" id="20220914022932-buomcsm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914022932-lucjzy3" data-type="NodeParagraph" class="p" id="20220914022932-lucjzy3" updated="20220914022943"><div contenteditable="false" spellcheck="false">Components</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914023255-0be3d9u" data-type="NodeCodeBlock" class="render-node" id="20220914023255-0be3d9u" updated="20220914023300" data-content="@startuml
[Spark Streaming]
[Spark SQL]
[MLLib]
[GraphX]
@enduml" data-subtype="plantuml"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914023825-3u02vvk" data-type="NodeListItem" class="li" id="20220914023825-3u02vvk" updated="20220914024103"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914023825-6vt4i9f" data-type="NodeParagraph" class="p" updated="20220914023859" id="20220914023825-6vt4i9f"><div contenteditable="false" spellcheck="false">RDD (Resilient Distributed Dataset)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914023834-6kq3zi8" data-type="NodeList" class="list" id="20220914023834-6kq3zi8" updated="20220914024103"><div data-marker="*" data-subtype="u" data-node-id="20220914024006-dskoztr" data-type="NodeListItem" class="li" id="20220914024006-dskoztr" updated="20220914024006"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024006-4vimsde" data-type="NodeParagraph" class="p" id="20220914024006-4vimsde" updated="20220914024019"><div contenteditable="false" spellcheck="false">SparkContext</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024025-7ornwh3" data-type="NodeList" class="list" id="20220914024025-7ornwh3" updated="20220914024025"><div data-marker="*" data-subtype="u" data-node-id="20220914024025-82vbz8z" data-type="NodeListItem" class="li" id="20220914024025-82vbz8z" updated="20220914024025"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024025-fg3b0nl" data-type="NodeParagraph" class="p" id="20220914024025-fg3b0nl" updated="20220914024025"><div contenteditable="false" spellcheck="false">Created by your driver program</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024025-nbdk8by" data-type="NodeListItem" class="li" id="20220914024025-nbdk8by" updated="20220914024025"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024025-wwnnuau" data-type="NodeParagraph" class="p" id="20220914024025-wwnnuau" updated="20220914024025"><div contenteditable="false" spellcheck="false">Is responsible for making RDD's resilient and distributed!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024025-qncbxd3" data-type="NodeListItem" class="li" id="20220914024025-qncbxd3" updated="20220914024025"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024025-sm77b7q" data-type="NodeParagraph" class="p" id="20220914024025-sm77b7q" updated="20220914024025"><div contenteditable="false" spellcheck="false">Creates RDD's</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024025-bc915mr" data-type="NodeListItem" class="li" id="20220914024025-bc915mr" updated="20220914024025"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024025-r2ek7s8" data-type="NodeParagraph" class="p" id="20220914024025-r2ek7s8" updated="20220914024025"><div contenteditable="false" spellcheck="false">The Spark shell creates a &quot;sc&quot; object for you</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024046-s6p7kgs" data-type="NodeListItem" class="li" updated="20220914024103" id="20220914024046-s6p7kgs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024046-rn2ioxn" data-type="NodeParagraph" class="p" id="20220914024046-rn2ioxn" updated="20220914024051"><div contenteditable="false" spellcheck="false">Creating RDDs</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024057-kf9m23k" data-type="NodeList" class="list" id="20220914024057-kf9m23k" updated="20220914024101"><div data-marker="*" data-subtype="u" data-node-id="20220914024101-lsyects" data-type="NodeListItem" class="li" id="20220914024101-lsyects" updated="20220914024101"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024101-y603swh" data-type="NodeParagraph" class="p" id="20220914024101-y603swh" updated="20220914024101"><div contenteditable="false" spellcheck="false">nums = parallelize([1, 2, 3, 4])</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024057-bkgjn0n" data-type="NodeList" class="list" id="20220914024057-bkgjn0n" updated="20220914024103"><div data-marker="*" data-subtype="u" data-node-id="20220914024103-xwwrxl1" data-type="NodeListItem" class="li" id="20220914024103-xwwrxl1" updated="20220914024103"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024103-3lnsynk" data-type="NodeParagraph" class="p" id="20220914024103-3lnsynk" updated="20220914024103"><div contenteditable="false" spellcheck="false">sc.textFile(&quot;file:///c:/users/frank/gobs-o-text.txt&quot;)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920022544-kii8aov" data-type="NodeList" class="list" id="20220920022544-kii8aov"><div data-marker="*" data-subtype="u" data-node-id="20220920022543-9s7a0w8" data-type="NodeListItem" class="li" id="20220920022543-9s7a0w8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920022543-zu8l33q" data-type="NodeParagraph" class="p" id="20220920022543-zu8l33q"><div contenteditable="false" spellcheck="false">or s3n:// , hdfs://</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024145-p67xqaf" data-type="NodeListItem" class="li" id="20220914024145-p67xqaf" updated="20220914024145"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024145-r3o9j2j" data-type="NodeParagraph" class="p" id="20220914024145-r3o9j2j" updated="20220914024145"><div contenteditable="false" spellcheck="false">hiveCtx = HiveContext(sc)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914024057-d8e0dn5" data-type="NodeParagraph" class="p" id="20220914024057-d8e0dn5" updated="20220914024057"><div contenteditable="false" spellcheck="false">rows = hiveCtx.sql(&quot;SELECT name, age FROM users&quot;)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024057-bqomu5w" data-type="NodeList" class="list" id="20220914024057-bqomu5w" updated="20220914024057"><div data-marker="*" data-subtype="u" data-node-id="20220914024057-zo1n04t" data-type="NodeListItem" class="li" updated="20220914024057" id="20220914024057-zo1n04t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024057-9popls8" data-type="NodeParagraph" class="p" id="20220914024057-9popls8" updated="20220914024057"><div contenteditable="false" spellcheck="false">Can also create from:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024057-8qyp74f" data-type="NodeList" class="list" id="20220914024057-8qyp74f" updated="20220914024206"><div data-marker="*" data-subtype="u" data-node-id="20220914024206-3rq51x0" data-type="NodeListItem" class="li" id="20220914024206-3rq51x0" updated="20220914024206"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024206-25t8d6j" data-type="NodeParagraph" class="p" id="20220914024206-25t8d6j" updated="20220914024206"><div contenteditable="false" spellcheck="false">JDBC</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024057-7s7sxfn" data-type="NodeList" class="list" id="20220914024057-7s7sxfn" updated="20220914024202"><div data-marker="*" data-subtype="u" data-node-id="20220914024202-wjesr7w" data-type="NodeListItem" class="li" updated="20220914024202" id="20220914024202-wjesr7w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024202-o2qvyzb" data-type="NodeParagraph" class="p" id="20220914024202-o2qvyzb" updated="20220914024203"><div contenteditable="false" spellcheck="false">Cassandra</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024212-yf6q0cz" data-type="NodeListItem" class="li" id="20220914024212-yf6q0cz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024212-ri9gncn" data-type="NodeParagraph" class="p" id="20220914024212-ri9gncn"><div contenteditable="false" spellcheck="false">HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024215-kfhm4uh" data-type="NodeListItem" class="li" id="20220914024215-kfhm4uh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024215-hyepu5q" data-type="NodeParagraph" class="p" id="20220914024215-hyepu5q"><div contenteditable="false" spellcheck="false">Elastisearch</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024218-anwqdpf" data-type="NodeListItem" class="li" id="20220914024218-anwqdpf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024218-qhc0mpg" data-type="NodeParagraph" class="p" id="20220914024218-qhc0mpg"><div contenteditable="false" spellcheck="false">JSON, CSV, sequence files, object files, various compressed formats</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024346-ulhh9v7" data-type="NodeListItem" class="li" id="20220914024346-ulhh9v7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024346-bngngns" data-type="NodeParagraph" class="p" id="20220914024346-bngngns" updated="20220914024357"><div contenteditable="false" spellcheck="false">Transforming RDDs</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024406-fbq5i90" data-type="NodeList" class="list" id="20220914024406-fbq5i90" updated="20220914024406"><div data-marker="*" data-subtype="u" data-node-id="20220914024406-1a9xmzl" data-type="NodeListItem" class="li" id="20220914024406-1a9xmzl" updated="20220914024406"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-lpw65hz" data-type="NodeParagraph" class="p" updated="20220914024406" id="20220914024406-lpw65hz"><div contenteditable="false" spellcheck="false">map</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914024448-pz8ak3r" data-type="NodeCodeBlock" class="code-block" id="20220914024448-pz8ak3r" updated="20220914024506"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">rdd = sc.parallelize([1, 2, 3, 4])
squaredRDD = rdd.map(lambda x: x*x)

## This yields 1, 4, 9, 16
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024406-z02ljp9" data-type="NodeListItem" class="li" id="20220914024406-z02ljp9" updated="20220914024406"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-63443zk" data-type="NodeParagraph" class="p" updated="20220914024406" id="20220914024406-63443zk"><div contenteditable="false" spellcheck="false">flatmap</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024406-dep3cf2" data-type="NodeListItem" class="li" id="20220914024406-dep3cf2" updated="20220914024406"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-5i15rp4" data-type="NodeParagraph" class="p" id="20220914024406-5i15rp4" updated="20220914024406"><div contenteditable="false" spellcheck="false">filter</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024406-h0syfg8" data-type="NodeListItem" class="li" updated="20220914024406" id="20220914024406-h0syfg8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-wdxng4s" data-type="NodeParagraph" class="p" id="20220914024406-wdxng4s" updated="20220914024406"><div contenteditable="false" spellcheck="false">distinct</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024406-g40vk4e" data-type="NodeListItem" class="li" updated="20220914024406" id="20220914024406-g40vk4e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-ulkuy3a" data-type="NodeParagraph" class="p" id="20220914024406-ulkuy3a" updated="20220914024406"><div contenteditable="false" spellcheck="false">sample</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024406-3a3zs5u" data-type="NodeListItem" class="li" id="20220914024406-3a3zs5u" updated="20220914024406"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024406-6dguk13" data-type="NodeParagraph" class="p" id="20220914024406-6dguk13" updated="20220914024406"><div contenteditable="false" spellcheck="false">union, intersection, subtract, cartesian</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024643-rrkk4ye" data-type="NodeListItem" class="li" id="20220914024643-rrkk4ye"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024643-0ki7ek2" data-type="NodeParagraph" class="p" updated="20220914024649" id="20220914024643-0ki7ek2"><div contenteditable="false" spellcheck="false">RDD actions</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024702-vauiej9" data-type="NodeList" class="list" id="20220914024702-vauiej9" updated="20220914024702"><div data-marker="*" data-subtype="u" data-node-id="20220914024702-1ahdg88" data-type="NodeListItem" class="li" id="20220914024702-1ahdg88" updated="20220914024702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-8etjyk0" data-type="NodeParagraph" class="p" id="20220914024702-8etjyk0" updated="20220914024702"><div contenteditable="false" spellcheck="false">collect</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-lbxr0jp" data-type="NodeListItem" class="li" id="20220914024702-lbxr0jp" updated="20220914024702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-25fq5gd" data-type="NodeParagraph" class="p" id="20220914024702-25fq5gd" updated="20220914024702"><div contenteditable="false" spellcheck="false">count</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-luhn9gu" data-type="NodeListItem" class="li" updated="20220914024702" id="20220914024702-luhn9gu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-e1wyzlq" data-type="NodeParagraph" class="p" id="20220914024702-e1wyzlq" updated="20220914024702"><div contenteditable="false" spellcheck="false">countByValue</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-lpzvpnm" data-type="NodeListItem" class="li" updated="20220914024702" id="20220914024702-lpzvpnm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-20jmp5u" data-type="NodeParagraph" class="p" id="20220914024702-20jmp5u" updated="20220914024702"><div contenteditable="false" spellcheck="false">take</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-zcvt8iy" data-type="NodeListItem" class="li" id="20220914024702-zcvt8iy" updated="20220914024702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-ml0xcsg" data-type="NodeParagraph" class="p" updated="20220914024702" id="20220914024702-ml0xcsg"><div contenteditable="false" spellcheck="false">top</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-395ktp2" data-type="NodeListItem" class="li" id="20220914024702-395ktp2" updated="20220914024702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-amgv6ze" data-type="NodeParagraph" class="p" id="20220914024702-amgv6ze" updated="20220914024702"><div contenteditable="false" spellcheck="false">reduce</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024702-z0g6h9j" data-type="NodeListItem" class="li" id="20220914024702-z0g6h9j" updated="20220914024702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024702-dkxn21b" data-type="NodeParagraph" class="p" id="20220914024702-dkxn21b" updated="20220914024702"><div contenteditable="false" spellcheck="false">... and more ...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914024703-0s8ybmk" data-type="NodeListItem" class="li" id="20220914024703-0s8ybmk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024703-f1sr0zk" data-type="NodeParagraph" class="p" id="20220914024703-f1sr0zk" updated="20220914024714"><div contenteditable="false" spellcheck="false">Lazy evaluation</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914024714-8joy5uj" data-type="NodeList" class="list" id="20220914024714-8joy5uj" updated="20220914024724"><div data-marker="*" data-subtype="u" data-node-id="20220914024724-9bsd6vt" data-type="NodeListItem" class="li" id="20220914024724-9bsd6vt" updated="20220914024724"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914024724-ltklx9w" data-type="NodeParagraph" class="p" id="20220914024724-ltklx9w" updated="20220914024724"><div contenteditable="false" spellcheck="false">Nothing actually happens in your driver program until an action is called!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914031415-nexp6b9" data-type="NodeListItem" class="li" id="20220914031415-nexp6b9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914031415-ipw9zfc" data-type="NodeParagraph" class="p" id="20220914031415-ipw9zfc" updated="20220914031633"><div contenteditable="false" spellcheck="false">Hands-on: find the bottom 10 movie with the lowest average ratings - with RDD</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914031456-oxslj53" data-type="NodeCodeBlock" class="code-block" id="20220914031456-oxslj53" updated="20220914031525"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from pyspark import SparkConf, SparkContext

# This function just creates a Python &quot;dictionary&quot; we can later
# use to convert movie ID's to movie names while printing out
# the final results.
def loadMovieNames():
    movieNames = {}
    with open(&quot;ml-100k/u.item&quot;) as f:
        for line in f:
            fields = line.split('|')
            movieNames[int(fields[0])] = fields[1]
    return movieNames

# Take each line of u.data and convert it to (movieID, (rating, 1.0))
# This way we can then add up all the ratings for each movie, and
# the total number of ratings for each movie (which lets us compute the average)
def parseInput(line):
    fields = line.split()
    return (int(fields[1]), (float(fields[2]), 1.0))

if __name__ == &quot;__main__&quot;:
    # The main script - create our SparkContext
    conf = SparkConf().setAppName(&quot;WorstMovies&quot;)
    sc = SparkContext(conf = conf)

    # Load up our movie ID -&gt; movie name lookup table
    movieNames = loadMovieNames()

    # Load up the raw u.data file
    lines = sc.textFile(&quot;hdfs:///user/maria_dev/ml-100k/u.data&quot;)

    # Convert to (movieID, (rating, 1.0))
    movieRatings = lines.map(parseInput)

    # Reduce to (movieID, (sumOfRatings, totalRatings))
    # this addition is actually doing the sum
    ratingTotalsAndCount = movieRatings.reduceByKey(lambda movie1, movie2: ( movie1[0] + movie2[0], movie1[1] + movie2[1] ) )

    # Map to (movieID, averageRating)
    averageRatings = ratingTotalsAndCount.mapValues(lambda totalAndCount : totalAndCount[0] / totalAndCount[1])

    # Sort by average rating
    sortedMovies = averageRatings.sortBy(lambda x: x[1])

    # Take the top 10 results
    results = sortedMovies.take(10)

    # Print them out:
    for result in results:
        print(movieNames[result[0]], result[1])

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914032742-8iu3vqf" data-type="NodeList" class="list" id="20220914032742-8iu3vqf" updated="20220914032750"><div data-marker="*" data-subtype="u" data-node-id="20220914032750-zd5jqhi" data-type="NodeListItem" class="li" id="20220914032750-zd5jqhi" updated="20220914032750"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914032750-tej53i7" data-type="NodeParagraph" class="p" id="20220914032750-tej53i7" updated="20220914032757"><div contenteditable="false" spellcheck="false">Spark-submit</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914032808-38k2mjc" data-type="NodeCodeBlock" class="code-block" id="20220914032808-38k2mjc" updated="20220914032910"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ spark-submit LowestRatedMovieSpark.py 
SPARK_MAJOR_VERSION is set to 2, using Spark2
22/09/13 19:27:07 INFO SparkContext: Running Spark version 2.3.0.2.6.5.0-292
22/09/13 19:27:07 INFO SparkContext: Submitted application: WorstMovies
22/09/13 19:27:08 INFO SecurityManager: Changing view acls to: maria_dev
....

22/09/13 19:27:18 INFO DAGScheduler: Job 2 finished: runJob at PythonRDD.scala:141, took 0.328263 s

('3 Ninjas: High Noon At Mega Mountain (1998)', 1.0)
('Beyond Bedlam (1993)', 1.0)
('Power 98 (1995)', 1.0)
('Bloody Child, The (1996)', 1.0)
('Amityville: Dollhouse (1996)', 1.0)
('Babyfever (1994)', 1.0)
('Homage (1995)', 1.0)
('Somebody to Love (1994)', 1.0)
('Crude Oasis, The (1995)', 1.0)
('Every Other Weekend (1990)', 1.0)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914083916-i3eph9d" data-type="NodeListItem" class="li" id="20220914083916-i3eph9d" updated="20220914232437"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914083916-si6umjw" data-type="NodeParagraph" class="p" id="20220914083916-si6umjw" updated="20220914083941"><div contenteditable="false" spellcheck="false">Spark SQL -- DataFrame and DataSets</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914083941-ts6xjbv" data-type="NodeList" class="list" id="20220914083941-ts6xjbv" updated="20220914232437"><div data-marker="*" data-subtype="u" data-node-id="20220914084049-kg05bne" data-type="NodeListItem" class="li" id="20220914084049-kg05bne" updated="20220914084049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084049-vcnfn0i" data-type="NodeParagraph" class="p" id="20220914084049-vcnfn0i" updated="20220914084056"><div contenteditable="false" spellcheck="false">Feature</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914084057-rg44k8d" data-type="NodeList" class="list" id="20220914084057-rg44k8d" updated="20220914084100"><div data-marker="*" data-subtype="u" data-node-id="20220914084100-c864j76" data-type="NodeListItem" class="li" id="20220914084100-c864j76" updated="20220914084100"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084100-yie13k0" data-type="NodeParagraph" class="p" updated="20220914084100" id="20220914084100-yie13k0"><div contenteditable="false" spellcheck="false">Extends RDD to a &quot;DataFrame&quot; object</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914084057-ip66fbi" data-type="NodeList" class="list" id="20220914084057-ip66fbi" updated="20220914084103"><div data-marker="*" data-subtype="u" data-node-id="20220914084103-d6fdy4t" data-type="NodeListItem" class="li" id="20220914084103-d6fdy4t" updated="20220914084103"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084103-ln910iy" data-type="NodeParagraph" class="p" id="20220914084103-ln910iy" updated="20220914084103"><div contenteditable="false" spellcheck="false">DataFrames:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914084057-f8rohvg" data-type="NodeList" class="list" id="20220914084057-f8rohvg" updated="20220914084106"><div data-marker="*" data-subtype="u" data-node-id="20220914084106-sglpuzt" data-type="NodeListItem" class="li" id="20220914084106-sglpuzt" updated="20220914084106"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084106-9u5f3pr" data-type="NodeParagraph" class="p" id="20220914084106-9u5f3pr" updated="20220914084106"><div contenteditable="false" spellcheck="false">Contain Row objects</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914084057-x4nw5x0" data-type="NodeListItem" class="li" id="20220914084057-x4nw5x0" updated="20220914084057"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084057-uk3dtlu" data-type="NodeParagraph" class="p" id="20220914084057-uk3dtlu" updated="20220914084057"><div contenteditable="false" spellcheck="false">–  Can run SQL queries</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914084057-abmcx0u" data-type="NodeListItem" class="li" id="20220914084057-abmcx0u" updated="20220914084057"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084057-wt1ax7p" data-type="NodeParagraph" class="p" id="20220914084057-wt1ax7p" updated="20220914084057"><div contenteditable="false" spellcheck="false">–  Has a schema (leading to more efficient storage)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914084057-9qc5kdj" data-type="NodeListItem" class="li" id="20220914084057-9qc5kdj" updated="20220914084057"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084057-5195ncx" data-type="NodeParagraph" class="p" updated="20220914084057" id="20220914084057-5195ncx"><div contenteditable="false" spellcheck="false">–  Read and write to JSON, Hive, parquet</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914084057-ezmw00o" data-type="NodeListItem" class="li" id="20220914084057-ezmw00o" updated="20220914084057"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084057-l54lpbs" data-type="NodeParagraph" class="p" updated="20220914084057" id="20220914084057-l54lpbs"><div contenteditable="false" spellcheck="false">–  Communicates with JDBC/ODBC, Tableau</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914084309-g3z0mhx" data-type="NodeListItem" class="li" id="20220914084309-g3z0mhx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914084309-gojl17x" data-type="NodeParagraph" class="p" id="20220914084309-gojl17x" updated="20220914084337"><div contenteditable="false" spellcheck="false">Using SparkSQL in Python</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914084337-8edu77l" data-type="NodeCodeBlock" class="code-block" id="20220914084337-8edu77l" updated="20220914084357"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from pyspark.sql import SQLContext, Row
hiveContext = HiveContext(sc)
inputData = spark.read.json(dataFile)
inputData.createOrReplaceTempView(&quot;myStructuredStuff&quot;)
myResultDataFrame = hiveContext.sql(&quot;&quot;&quot;SELECT foo FROM bar ORDER BY foobar&quot;&quot;&quot;)
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914091940-wn4ch9o" data-type="NodeCodeBlock" class="code-block" updated="20220914091956" id="20220914091940-wn4ch9o"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">myResultDataFrame.show()
myResultDataFrame.select(&quot;someFieldName&quot;)
myResultDataFrame.filter(myResultDataFrame(&quot;someFieldName&quot; &gt; 200)
myResultDataFrame.groupBy(myResultDataFrame(&quot;someFieldName&quot;)).mean()
myResultDataFrame.rdd().map(mapperFunction)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092109-ykedik7" data-type="NodeListItem" class="li" id="20220914092109-ykedik7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092109-nmrn1ph" data-type="NodeParagraph" class="p" id="20220914092109-nmrn1ph" updated="20220914092113"><div contenteditable="false" spellcheck="false">DataSet</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914092139-db8agkj" data-type="NodeList" class="list" id="20220914092139-db8agkj" updated="20220914092139"><div data-marker="*" data-subtype="u" data-node-id="20220914092139-23byzy4" data-type="NodeListItem" class="li" id="20220914092139-23byzy4" updated="20220914092139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092139-32p9skr" data-type="NodeParagraph" class="p" updated="20220914092239" id="20220914092139-32p9skr"><div contenteditable="false" spellcheck="false">In Spark 2.0, a <strong>DataFrame is really a DataSet of Row objects</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092139-wownjkc" data-type="NodeListItem" class="li" id="20220914092139-wownjkc" updated="20220914092139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092139-pt1l8z0" data-type="NodeParagraph" class="p" id="20220914092139-pt1l8z0" updated="20220914092143"><div contenteditable="false" spellcheck="false">DataSets can wrap known, typed data too. But this is mostly transparent to you in Python, since Python is dynamically typed.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092139-16kss09" data-type="NodeListItem" class="li" id="20220914092139-16kss09" updated="20220914092139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092139-ogzbj3p" data-type="NodeParagraph" class="p" id="20220914092139-ogzbj3p" updated="20220914092145"><div contenteditable="false" spellcheck="false">So – don’t sweat this too much with Python. But the Spark 2.0 way is to use DataSets instead of DataFrames when you can.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092240-alo460o" data-type="NodeListItem" class="li" id="20220914092240-alo460o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092240-kgyenhf" data-type="NodeParagraph" class="p" id="20220914092240-kgyenhf" updated="20220914092244"><div contenteditable="false" spellcheck="false">Shell Access</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914092255-7v9w94j" data-type="NodeList" class="list" updated="20220914092255" id="20220914092255-7v9w94j"><div data-marker="*" data-subtype="u" data-node-id="20220914092255-a643587" data-type="NodeListItem" class="li" id="20220914092255-a643587" updated="20220914092255"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-cw641c0" data-type="NodeParagraph" class="p" id="20220914092255-cw641c0" updated="20220914092255"><div contenteditable="false" spellcheck="false">Spark SQL exposes a JDBC/ODBC server (if you built Spark with Hive support)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092255-nhz4a9x" data-type="NodeListItem" class="li" id="20220914092255-nhz4a9x" updated="20220914092255"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-io6en06" data-type="NodeParagraph" class="p" id="20220914092255-io6en06" updated="20220914092255"><div contenteditable="false" spellcheck="false">Start it with sbin/start-thriftserver.sh</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092255-mgk97pg" data-type="NodeListItem" class="li" updated="20220914092255" id="20220914092255-mgk97pg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-w3y31p7" data-type="NodeParagraph" class="p" id="20220914092255-w3y31p7" updated="20220914092255"><div contenteditable="false" spellcheck="false">Listens on port 10000 by default</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092255-2qr2u3s" data-type="NodeListItem" class="li" id="20220914092255-2qr2u3s" updated="20220914092255"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-zbxpn52" data-type="NodeParagraph" class="p" id="20220914092255-zbxpn52" updated="20220914092255"><div contenteditable="false" spellcheck="false">Connect using bin/beeline -u jdbc:hive2://localhost:10000</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092255-v0ju9jc" data-type="NodeListItem" class="li" id="20220914092255-v0ju9jc" updated="20220914092255"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-ftel2jy" data-type="NodeParagraph" class="p" updated="20220914092255" id="20220914092255-ftel2jy"><div contenteditable="false" spellcheck="false">Viola, you have a SQL shell to Spark SQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914092255-q1q5fmm" data-type="NodeListItem" class="li" id="20220914092255-q1q5fmm" updated="20220914092255"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914092255-kwpyvec" data-type="NodeParagraph" class="p" id="20220914092255-kwpyvec" updated="20220914092301"><div contenteditable="false" spellcheck="false">You can create new tables, or query existing ones that were cached using hiveCtx.cacheTable(&quot;tableName&quot;)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914100153-fdq34js" data-type="NodeListItem" class="li" id="20220914100153-fdq34js" updated="20220914100211"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914100155-2zfwg2c" data-type="NodeParagraph" class="p" id="20220914100155-2zfwg2c" updated="20220914100158"><div contenteditable="false" spellcheck="false">User-defined functions (UDF's)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914100203-ju399wo" data-type="NodeCodeBlock" class="code-block" id="20220914100203-ju399wo" updated="20220914100211"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from pyspark.sql.types import IntegerType
hiveCtx.registerFunction(&quot;square&quot;, lambda x: x*x, IntegerType())
df = hiveCtx.sql(&quot;SELECT square('someNumericFiled') FROM tableName)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914202446-htb909l" data-type="NodeListItem" class="li" id="20220914202446-htb909l" updated="20220914203758"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914202446-30zlxqc" data-type="NodeParagraph" class="p" id="20220914202446-30zlxqc" updated="20220914203758"><div contenteditable="false" spellcheck="false">Hands-on: find the bottom 10 movie with the lowest average ratings - with DataFrame</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914203713-awf9oun" data-type="NodeCodeBlock" class="code-block" updated="20220914231743" id="20220914203713-awf9oun"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># LowestRatedPopularMovieDataFrame.py 
from pyspark.sql import SparkSession
from pyspark.sql import Row
from pyspark.sql import functions

def loadMovieNames():
    movieNames = {}
    with open(&quot;ml-100k/u.item&quot;) as f:
        for line in f:
            fields = line.split('|')
            movieNames[int(fields[0])] = fields[1]
    return movieNames

def parseInput(line):
    fields = line.split()
    return Row(movieID = int(fields[1]), rating = float(fields[2]))

if __name__ == &quot;__main__&quot;:
    # Create a SparkSession
    spark = SparkSession.builder.appName(&quot;PopularMovies&quot;).getOrCreate()

    # Load up our movie ID -&gt; name dictionary
    movieNames = loadMovieNames()

    # Get the raw data
    lines = spark.sparkContext.textFile(&quot;hdfs:///user/maria_dev/ml-100k/u.data&quot;)
    # Convert it to a RDD of Row objects with (movieID, rating)
    movies = lines.map(parseInput)
    # Convert that to a DataFrame
    movieDataset = spark.createDataFrame(movies)

    # Compute average rating for each movieID
    averageRatings = movieDataset.groupBy(&quot;movieID&quot;).avg(&quot;rating&quot;)

    # Compute count of ratings for each movieID
    counts = movieDataset.groupBy(&quot;movieID&quot;).count()

    # Join the two together (We now have movieID, avg(rating), and count columns)
    averagesAndCounts = counts.join(averageRatings, &quot;movieID&quot;)

    # Pull the top 10 results
    topTen = averagesAndCounts.orderBy(&quot;avg(rating)&quot;).take(10)

    # Print them out, converting movie ID's to names as we go.
    for movie in topTen:
        print (movieNames[movie[0]], movie[1], movie[2])

    # Stop the session
    spark.stop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914224512-5fwmlh0" data-type="NodeCodeBlock" class="code-block" id="20220914224512-5fwmlh0" updated="20220914224834"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ export SPARK_MAJOR_VERSION=2
[maria_dev@sandbox-hdp ~]$ spark-submit LowestRatedMovieDataFrame.py 
SPARK_MAJOR_VERSION is set to 2, using Spark2

...
22/09/14 14:48:21 INFO DAGScheduler: Job 1 finished: take at /home/maria_dev/LowestRatedMovieDataFrame.py:41, took 31.479431 s
('Amityville: A New Generation (1993)', 5, 1.0)
('Hostile Intentions (1994)', 1, 1.0)
('Lotto Land (1995)', 1, 1.0)
('Low Life, The (1994)', 1, 1.0)
('Amityville: Dollhouse (1996)', 3, 1.0)
('Careful (1992)', 1, 1.0)
('Falling in Love Again (1980)', 2, 1.0)
('Power 98 (1995)', 1, 1.0)
('Further Gesture, A (1996)', 1, 1.0)
('Touki Bouki (Journey of the Hyena) (1973)', 1, 1.0)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914224935-wdhwuni" data-type="NodeListItem" class="li" id="20220914224935-wdhwuni"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914224935-nl4bjc0" data-type="NodeParagraph" class="p" id="20220914224935-nl4bjc0" updated="20220914225137"><div contenteditable="false" spellcheck="false">Hands-on: Movie Recommendations with MLLib</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914225139-e201wl8" data-type="NodeCodeBlock" class="code-block" id="20220914225139-e201wl8" updated="20220914225306"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># MovieRecommendationsALS.py

from pyspark.sql import SparkSession
from pyspark.ml.recommendation import ALS
from pyspark.sql import Row
from pyspark.sql.functions import lit

# Load up movie ID -&gt; movie name dictionary
def loadMovieNames():
    movieNames = {}
    with open(&quot;ml-100k/u.item&quot;) as f:
        for line in f:
            fields = line.split('|')
            movieNames[int(fields[0])] = fields[1].decode('ascii', 'ignore')
    return movieNames

# Convert u.data lines into (userID, movieID, rating) rows
def parseInput(line):
    fields = line.value.split()
    return Row(userID = int(fields[0]), movieID = int(fields[1]), rating = float(fields[2]))


if __name__ == &quot;__main__&quot;:
    # Create a SparkSession
    spark = SparkSession.builder.appName(&quot;MovieRecs&quot;).getOrCreate()

    spark.conf.set(&quot;spark.sql.crossJoin.enabled&quot;, &quot;true&quot;)

    # Load up our movie ID -&gt; name dictionary
    movieNames = loadMovieNames()

    # Get the raw data
    lines = spark.read.text(&quot;hdfs:///user/maria_dev/ml-100k/u.data&quot;).rdd

    # Convert it to a RDD of Row objects with (userID, movieID, rating)
    ratingsRDD = lines.map(parseInput)

    # Convert to a DataFrame and cache it
    ratings = spark.createDataFrame(ratingsRDD).cache()

    # Create an ALS collaborative filtering model from the complete data set
    als = ALS(maxIter=5, regParam=0.01, userCol=&quot;userID&quot;, itemCol=&quot;movieID&quot;, ratingCol=&quot;rating&quot;)
    model = als.fit(ratings)

    # Print out ratings from user 0:
    print(&quot;\nRatings for user ID 0:&quot;)
    userRatings = ratings.filter(&quot;userID = 0&quot;)
    for rating in userRatings.collect():
        print movieNames[rating['movieID']], rating['rating']

    print(&quot;\nTop 20 recommendations:&quot;)
    # Find movies rated more than 100 times
    ratingCounts = ratings.groupBy(&quot;movieID&quot;).count().filter(&quot;count &gt; 100&quot;)
    # Construct a &quot;test&quot; dataframe for user 0 with every movie rated more than 100 times
    popularMovies = ratingCounts.select(&quot;movieID&quot;).withColumn('userID', lit(0))

    # Run our model on that list of popular movies for user ID 0
    recommendations = model.transform(popularMovies)

    # Get the top 20 movies with the highest predicted rating for this user
    topRecommendations = recommendations.sort(recommendations.prediction.desc()).take(20)

    for recommendation in topRecommendations:
        print (movieNames[recommendation['movieID']], recommendation['prediction'])

    spark.stop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914231104-5q9sbae" data-type="NodeCodeBlock" class="code-block" id="20220914231104-5q9sbae" updated="20220914231144"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ spark-submit MovieRecommendationsALS.py 
SPARK_MAJOR_VERSION is set to 2, using Spark2
...
Ratings for user ID 0:
Star Wars (1977) 5.0
Empire Strikes Back, The (1980) 5.0
Gone with the Wind (1939) 1.0

Top 20 recommendations:
(u'Wrong Trousers, The (1993)', 5.749821662902832)
(u'Fifth Element, The (1997)', 5.232528209686279)
(u'Close Shave, A (1995)', 5.050625324249268)
(u'Monty Python and the Holy Grail (1974)', 4.99659538269043)
(u'Star Wars (1977)', 4.98954963684082)
(u'Army of Darkness (1993)', 4.980320930480957)
(u'Empire Strikes Back, The (1980)', 4.972929954528809)
(u'Princess Bride, The (1987)', 4.957705497741699)
(u'Blade Runner (1982)', 4.910674571990967)
(u'Return of the Jedi (1983)', 4.77808141708374)
(u'Rumble in the Bronx (1995)', 4.69175910949707)
(u'Raiders of the Lost Ark (1981)', 4.636718273162842)
(u&quot;Jackie Chan's First Strike (1996)&quot;, 4.632108211517334)
(u'Twelve Monkeys (1995)', 4.614840507507324)
(u'Spawn (1997)', 4.57417106628418)
(u'Terminator, The (1984)', 4.561151027679443)
(u'Alien (1979)', 4.54151725769043)
(u'Terminator 2: Judgment Day (1991)', 4.529487133026123)
(u'Usual Suspects, The (1995)', 4.517911911010742)
(u'Mystery Science Theater 3000: The Movie (1996)', 4.5095906257629395)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914231423-daybjxt" data-type="NodeListItem" class="li" id="20220914231423-daybjxt" updated="20220914232437"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914231423-jfdgine" data-type="NodeParagraph" class="p" id="20220914231423-jfdgine" updated="20220914231858"><div contenteditable="false" spellcheck="false">Hands-on: change lowest-rated only valid when 10 or more peple rate that movie in both RDD and Dataframe version</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914231917-k1gyql9" data-type="NodeList" class="list" id="20220914231917-k1gyql9" updated="20220914232152"><div data-marker="*" data-subtype="u" data-node-id="20220914231920-q5fukya" data-type="NodeListItem" class="li" id="20220914231920-q5fukya" updated="20220914232152"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914231920-sit5oef" data-type="NodeParagraph" class="p" id="20220914231920-sit5oef" updated="20220914231923"><div contenteditable="false" spellcheck="false">RDD</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914231923-ajzjpcq" data-type="NodeCodeBlock" class="code-block" id="20220914231923-ajzjpcq" updated="20220914232152"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># Reduce to (movieID, (sumOfRatings, totalRatings))

# Filter out movies rated 10 or fewer times
popularTotalsAndCount = ratingTotalsAndCount.filter(lambda x: x[1][1] &gt; 10)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914231943-mh6adgf" data-type="NodeList" class="list" id="20220914231943-mh6adgf" updated="20220914232003"><div data-marker="*" data-subtype="u" data-node-id="20220914231945-zzb7d56" data-type="NodeListItem" class="li" id="20220914231945-zzb7d56" updated="20220914232003"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914231945-oqy49kw" data-type="NodeParagraph" class="p" id="20220914231945-oqy49kw" updated="20220914231948"><div contenteditable="false" spellcheck="false">DataFrame</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914231949-3sji8gf" data-type="NodeCodeBlock" class="code-block" updated="20220914232003" id="20220914231949-3sji8gf"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># Filter movies rated 10 or fewer times
popularAveragesAndCounts = averagesAndCounts.filter(&quot;count &gt; 10&quot;)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914232430-ztzngrt" data-type="NodeList" class="list" updated="20220914232437" id="20220914232430-ztzngrt"><div data-marker="*" data-subtype="u" data-node-id="20220914232431-wd4d4z9" data-type="NodeListItem" class="li" id="20220914232431-wd4d4z9" updated="20220914232437"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914232431-tpfihfp" data-type="NodeParagraph" class="p" id="20220914232431-tpfihfp" updated="20220914232433"><div contenteditable="false" spellcheck="false">Result</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914232433-6rrwhba" data-type="NodeCodeBlock" class="code-block" id="20220914232433-6rrwhba" updated="20220914232437"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">('Children of the Corn: The Gathering (1996)', 19, 1.3157894736842106)
('Body Parts (1991)', 13, 1.6153846153846154)
('Amityville II: The Possession (1982)', 14, 1.6428571428571428)
('Lawnmower Man 2: Beyond Cyberspace (1996)', 21, 1.7142857142857142)
('Robocop 3 (1993)', 11, 1.7272727272727273)
('Free Willy 3: The Rescue (1997)', 27, 1.7407407407407407)
(&quot;Gone Fishin' (1997)&quot;, 11, 1.8181818181818181)
('Solo (1996)', 12, 1.8333333333333333)
('Vampire in Brooklyn (1995)', 12, 1.8333333333333333)
('Ready to Wear (Pret-A-Porter) (1994)', 18, 1.8333333333333333)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914023833-ui8bcoi" data-type="NodeParagraph" class="p" id="20220914023833-ui8bcoi"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-l2pax2q" data-type="NodeHeading" class="h2" id="20220912014401-l2pax2q" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 5: Using relational data stores with Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234016-36s4n4u" data-type="NodeList" class="list" id="20220914234016-36s4n4u" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220914234108-qc7qx8q" data-type="NodeListItem" class="li" id="20220914234108-qc7qx8q" updated="20220916000506"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234108-0vczh0q" data-type="NodeParagraph" class="p" id="20220914234108-0vczh0q" updated="20220914234109"><div contenteditable="false" spellcheck="false">Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914234146-anj0e0u" data-type="NodeParagraph" class="p" id="20220914234146-anj0e0u" updated="20220914234147"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 332px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220914234147-zlt2u0p.png" data-src="assets/image-20220914234147-zlt2u0p.png" alt="image" style="width: 322px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234109-iuuf6am" data-type="NodeList" class="list" id="20220914234109-iuuf6am" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220914234210-svd6wvf" data-type="NodeListItem" class="li" id="20220914234210-svd6wvf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234210-1lsfxoc" data-type="NodeParagraph" class="p" id="20220914234210-1lsfxoc" updated="20220914234212"><div contenteditable="false" spellcheck="false">Features</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234215-zmk7jl2" data-type="NodeList" class="list" id="20220914234215-zmk7jl2"><div data-marker="*" data-subtype="u" data-node-id="20220914234157-3t4f2nv" data-type="NodeListItem" class="li" id="20220914234157-3t4f2nv" updated="20220914234157"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234157-akaqytx" data-type="NodeParagraph" class="p" updated="20220914234157" id="20220914234157-akaqytx"><div contenteditable="false" spellcheck="false">Make Hadoop Cluster look like Relational Database</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234159-b8eyk5t" data-type="NodeListItem" class="li" id="20220914234159-b8eyk5t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234159-71x4ik0" data-type="NodeParagraph" class="p" id="20220914234159-71x4ik0" updated="20220914234159"><div contenteditable="false" spellcheck="false">Translates SQL queries to MapReduce or Tez jobs on your cluster!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234206-7d7djq7" data-type="NodeListItem" class="li" id="20220914234206-7d7djq7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234206-ogev9z3" data-type="NodeParagraph" class="p" id="20220914234206-ogev9z3" updated="20220914234219"><div contenteditable="false" spellcheck="false">Why Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234226-a9ai7fi" data-type="NodeList" class="list" id="20220914234226-a9ai7fi" updated="20220914234226"><div data-marker="*" data-subtype="u" data-node-id="20220914234226-t7sm5cn" data-type="NodeListItem" class="li" id="20220914234226-t7sm5cn" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-8ir6ll2" data-type="NodeParagraph" class="p" id="20220914234226-8ir6ll2" updated="20220914234226"><div contenteditable="false" spellcheck="false">Uses familiar SQL syntax (HiveQL)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-44oyu8p" data-type="NodeListItem" class="li" id="20220914234226-44oyu8p" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-hlp1dx7" data-type="NodeParagraph" class="p" id="20220914234226-hlp1dx7" updated="20220914234226"><div contenteditable="false" spellcheck="false">Interactive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-app7jhs" data-type="NodeListItem" class="li" id="20220914234226-app7jhs" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-ig0bv2q" data-type="NodeParagraph" class="p" id="20220914234226-ig0bv2q" updated="20220914234230"><div contenteditable="false" spellcheck="false">Scalable – works with “big data” on a cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234226-1zaalw3" data-type="NodeList" class="list" id="20220914234226-1zaalw3" updated="20220914234232"><div data-marker="*" data-subtype="u" data-node-id="20220914234232-s6za48n" data-type="NodeListItem" class="li" id="20220914234232-s6za48n" updated="20220914234232"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234232-w9s66rh" data-type="NodeParagraph" class="p" id="20220914234232-w9s66rh" updated="20220914234236"><div contenteditable="false" spellcheck="false">Really most appropriate for data warehouse applications</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234241-12fd2a1" data-type="NodeListItem" class="li" updated="20220914234241" id="20220914234241-12fd2a1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234241-xvqtpe5" data-type="NodeParagraph" class="p" id="20220914234241-xvqtpe5" updated="20220914234247"><div contenteditable="false" spellcheck="false">Easy OLAP queries – WAY easier than writing MapReduce in Java</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-1vb52z6" data-type="NodeListItem" class="li" id="20220914234226-1vb52z6" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-auc5ir1" data-type="NodeParagraph" class="p" id="20220914234226-auc5ir1" updated="20220914234226"><div contenteditable="false" spellcheck="false">Highly optimized</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-6ofg0ve" data-type="NodeListItem" class="li" id="20220914234226-6ofg0ve" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-zuhepqo" data-type="NodeParagraph" class="p" id="20220914234226-zuhepqo" updated="20220914234226"><div contenteditable="false" spellcheck="false">Highly extensible</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220914234226-oswxivf" data-type="NodeList" class="list" id="20220914234226-oswxivf" updated="20220914234226"><div data-marker="*" data-subtype="u" data-node-id="20220914234226-1hktnof" data-type="NodeListItem" class="li" id="20220914234226-1hktnof" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-g5d9fdq" data-type="NodeParagraph" class="p" id="20220914234226-g5d9fdq" updated="20220914234302"><div contenteditable="false" spellcheck="false">User defined functions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-ddu0mg4" data-type="NodeListItem" class="li" id="20220914234226-ddu0mg4" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-62x2538" data-type="NodeParagraph" class="p" id="20220914234226-62x2538" updated="20220914234304"><div contenteditable="false" spellcheck="false">Thrift server</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220914234226-k4pnagj" data-type="NodeListItem" class="li" id="20220914234226-k4pnagj" updated="20220914234226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220914234226-ahf3q3k" data-type="NodeParagraph" class="p" id="20220914234226-ahf3q3k" updated="20220914234306"><div contenteditable="false" spellcheck="false">JDBC / ODBC driver</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000004-jgvo090" data-type="NodeListItem" class="li" id="20220915000004-jgvo090"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000004-k44esn3" data-type="NodeParagraph" class="p" id="20220915000004-k44esn3" updated="20220915000009"><div contenteditable="false" spellcheck="false">Why not Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915000016-3xjk6px" data-type="NodeList" class="list" id="20220915000016-3xjk6px" updated="20220915000016"><div data-marker="*" data-subtype="u" data-node-id="20220915000016-gykw8bt" data-type="NodeListItem" class="li" id="20220915000016-gykw8bt" updated="20220915000016"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000016-u9a7a1k" data-type="NodeParagraph" class="p" id="20220915000016-u9a7a1k" updated="20220915000042"><div contenteditable="false" spellcheck="false">High latency – not appropriate for OLTP (no latency situations)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000016-4sm12jz" data-type="NodeListItem" class="li" id="20220915000016-4sm12jz" updated="20220915000016"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000016-oscvg1x" data-type="NodeParagraph" class="p" updated="20220915000016" id="20220915000016-oscvg1x"><div contenteditable="false" spellcheck="false">Stores data de-normalized</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000016-lqni407" data-type="NodeListItem" class="li" id="20220915000016-lqni407" updated="20220915000016"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000016-zgtoysa" data-type="NodeParagraph" class="p" id="20220915000016-zgtoysa" updated="20220915000016"><div contenteditable="false" spellcheck="false">SQL is limited in what it can do</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915000016-xliyu69" data-type="NodeList" class="list" id="20220915000016-xliyu69" updated="20220915000020"><div data-marker="*" data-subtype="u" data-node-id="20220915000020-mlri7le" data-type="NodeListItem" class="li" id="20220915000020-mlri7le" updated="20220915000020"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000020-h42infc" data-type="NodeParagraph" class="p" id="20220915000020-h42infc" updated="20220915000020"><div contenteditable="false" spellcheck="false">Pig, Spark allows more complex stuff</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000023-nsid72j" data-type="NodeListItem" class="li" id="20220915000023-nsid72j" updated="20220915000023"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000023-1gh3cgf" data-type="NodeParagraph" class="p" id="20220915000023-1gh3cgf" updated="20220915000023"><div contenteditable="false" spellcheck="false">No transactions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000016-6s09gzg" data-type="NodeListItem" class="li" id="20220915000016-6s09gzg" updated="20220915000016"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000016-e5tc0rz" data-type="NodeParagraph" class="p" id="20220915000016-e5tc0rz" updated="20220915000016"><div contenteditable="false" spellcheck="false">No record-level updates, inserts, deletes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000158-fr248ul" data-type="NodeListItem" class="li" id="20220915000158-fr248ul"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000158-187zf5w" data-type="NodeParagraph" class="p" id="20220915000158-187zf5w" updated="20220915000202"><div contenteditable="false" spellcheck="false">HiveQL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915000209-70uunf6" data-type="NodeList" class="list" id="20220915000209-70uunf6" updated="20220915000209"><div data-marker="*" data-subtype="u" data-node-id="20220915000209-89x6lya" data-type="NodeListItem" class="li" id="20220915000209-89x6lya" updated="20220915000209"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000209-yjp37w1" data-type="NodeParagraph" class="p" id="20220915000209-yjp37w1" updated="20220915000209"><div contenteditable="false" spellcheck="false">Pretty much MySQL with some extensions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000209-vovelf1" data-type="NodeListItem" class="li" updated="20220915000209" id="20220915000209-vovelf1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000209-e82790p" data-type="NodeParagraph" class="p" id="20220915000209-e82790p" updated="20220915000310"><div contenteditable="false" spellcheck="false">For example: views (logical view)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915000209-nq45dmi" data-type="NodeList" class="list" id="20220915000209-nq45dmi" updated="20220915000213"><div data-marker="*" data-subtype="u" data-node-id="20220915000213-cq0euvb" data-type="NodeListItem" class="li" id="20220915000213-cq0euvb" updated="20220915000213"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000213-3xgme5h" data-type="NodeParagraph" class="p" id="20220915000213-3xgme5h" updated="20220915000219"><div contenteditable="false" spellcheck="false">Can store results of a query into a “view”, which subsequent queries can use as a table</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915000215-knuf56h" data-type="NodeListItem" class="li" id="20220915000215-knuf56h" updated="20220915000215"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915000215-w55ypo2" data-type="NodeParagraph" class="p" id="20220915000215-w55ypo2" updated="20220915000215"><div contenteditable="false" spellcheck="false">Allows you to specify how structured data is stored and partitioned</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915010302-ubjqvur" data-type="NodeListItem" class="li" id="20220915010302-ubjqvur"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915010302-3nztwf5" data-type="NodeParagraph" class="p" id="20220915010302-3nztwf5" updated="20220915010321"><div contenteditable="false" spellcheck="false">Hands-on: find the most rated movie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915010323-scw8qxd" data-type="NodeCodeBlock" class="code-block" id="20220915010323-scw8qxd" updated="20220915010325"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">CREATE VIEW topMovieIDs AS
SELECT movie_id, count(movie_id) AS ratingCount
FROM ratings
GROUP BY movie_id
ORDER BY ratingCount DESC;

SELECT n.title, t.ratingCount
FROM topMovieIDs t
JOIN names n
ON t.movie_id = n.movie_id;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915010544-8hxndsd" data-type="NodeTable" class="table" colgroup="|" id="20220915010544-8hxndsd" updated="20220915010544"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /></colgroup><thead><tr><th>n.title</th><th>t.ratingcount</th></tr></thead><tbody><tr><td>Star Wars (1977)</td><td>583</td></tr><tr><td>Contact (1997)</td><td>509</td></tr><tr><td>Fargo (1996)</td><td>508</td></tr><tr><td>Return of the Jedi (1983)</td><td>507</td></tr><tr><td>Liar Liar (1997)</td><td>485</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915010627-qjeovu4" data-type="NodeListItem" class="li" id="20220915010627-qjeovu4" updated="20220916000506"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915010627-lp5uhbj" data-type="NodeParagraph" class="p" updated="20220915010638" id="20220915010627-lp5uhbj"><div contenteditable="false" spellcheck="false">Mechanism</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915010639-awb420p" data-type="NodeList" class="list" id="20220915010639-awb420p" updated="20220915082551"><div data-marker="*" data-subtype="u" data-node-id="20220915010638-3fkgksy" data-type="NodeListItem" class="li" updated="20220915082551" id="20220915010638-3fkgksy"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915010638-2biounn" data-type="NodeParagraph" class="p" id="20220915010638-2biounn" updated="20220915082411"><div contenteditable="false" spellcheck="false">Schema on read</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915082421-glwvv8t" data-type="NodeList" class="list" id="20220915082421-glwvv8t" updated="20220915082551"><div data-marker="*" data-subtype="u" data-node-id="20220915082426-ruz5jag" data-type="NodeListItem" class="li" id="20220915082426-ruz5jag" updated="20220915082551"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915082426-jfaclz9" data-type="NodeParagraph" class="p" id="20220915082426-jfaclz9" updated="20220915082428"><div contenteditable="false" spellcheck="false">Hive maintains a “metastore” that imparts a structure you define on the unstructured data that is stored on HDFS etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915082442-l7aewzy" data-type="NodeCodeBlock" class="code-block" id="20220915082442-l7aewzy" updated="20220915082551"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">CREATE TABLE ratings (
	userID INT,
	movieID INT, 
	rating INT, 
	time INT)
ROW FORMAT DELIMTED 
FIELDS TERMINATED BY '\t' 
STORED AS TEXTFILE;

LOAD DATA LOCAL INPATH '${env:HOME}/ml-100k/u.data'
OVERWRITE INTO TABLE ratings;
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915083254-qb46lea" data-type="NodeList" class="list" id="20220915083254-qb46lea" updated="20220915084857"><div data-marker="*" data-subtype="u" data-node-id="20220915083256-u1so9wr" data-type="NodeListItem" class="li" id="20220915083256-u1so9wr" updated="20220915084857"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083301-hhev2i0" data-type="NodeParagraph" class="p" id="20220915083301-hhev2i0" updated="20220915083301"><div contenteditable="false" spellcheck="false">Where is the data?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915083256-tshcqtu" data-type="NodeList" class="list" id="20220915083256-tshcqtu" updated="20220915084857"><div data-marker="*" data-subtype="u" data-node-id="20220915083301-ub29ran" data-type="NodeListItem" class="li" updated="20220915084730" id="20220915083301-ub29ran"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083301-84ypbbu" data-type="NodeParagraph" class="p" id="20220915083301-84ypbbu" updated="20220915083301"><div contenteditable="false" spellcheck="false">LOAD DATA</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915083311-k7czldf" data-type="NodeList" class="list" id="20220915083311-k7czldf" updated="20220915084730"><div data-marker="*" data-subtype="u" data-node-id="20220915083305-wb4n49h" data-type="NodeListItem" class="li" id="20220915083305-wb4n49h" updated="20220915084730"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083305-telosbp" data-type="NodeParagraph" class="p" id="20220915083305-telosbp" updated="20220915084730"><div contenteditable="false" spellcheck="false">MOVES data from a distributed filesystem into Hive (only one copy on HDFS, just where Hive expects the data to be)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915083309-oau9696" data-type="NodeListItem" class="li" id="20220915083309-oau9696" updated="20220915084655"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083309-lgwyfhp" data-type="NodeParagraph" class="p" id="20220915083309-lgwyfhp"><div contenteditable="false" spellcheck="false">LOAD DATA LOCAL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915083316-zqc5i7j" data-type="NodeList" class="list" id="20220915083316-zqc5i7j" updated="20220915084655"><div data-marker="*" data-subtype="u" data-node-id="20220915083316-nnuzdno" data-type="NodeListItem" class="li" id="20220915083316-nnuzdno" updated="20220915084655"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083330-yeuzf4q" data-type="NodeParagraph" class="p" id="20220915083330-yeuzf4q" updated="20220915084655"><div contenteditable="false" spellcheck="false">COPIES data from your local filesystem into Hive (two copies on HDFS)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915083330-h97tooh" data-type="NodeListItem" class="li" id="20220915083330-h97tooh" updated="20220915084857"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915083330-m04ms24" data-type="NodeParagraph" class="p" id="20220915083330-m04ms24" updated="20220915083330"><div contenteditable="false" spellcheck="false">Managed vs. External tables</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915083338-3d1l467" data-type="NodeCodeBlock" class="code-block" id="20220915083338-3d1l467" updated="20220915084857"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">-- Data resides in origin path, no moving/copying
CREATE EXTERNAL TABLE IF NOT EXISTS ratings (
	userID INT,
	movieID INT, 
	rating INT, 
	time INT)
ROW FORMAT DELIMITED 
FIELDS TERMINATED BY '\t' 
LOCATION '/data/ml-100k/u.data';
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085116-k3l88ua" data-type="NodeList" class="list" updated="20220915085343" id="20220915085116-k3l88ua"><div data-marker="*" data-subtype="u" data-node-id="20220915085127-3t8da1i" data-type="NodeListItem" class="li" id="20220915085127-3t8da1i" updated="20220915085343"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085127-1mw24jw" data-type="NodeParagraph" class="p" id="20220915085127-1mw24jw" updated="20220915085130"><div contenteditable="false" spellcheck="false">Partitioning</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085127-g55molh" data-type="NodeList" class="list" id="20220915085127-g55molh" updated="20220915085343"><div data-marker="*" data-subtype="u" data-node-id="20220915085133-k90z6w3" data-type="NodeListItem" class="li" id="20220915085133-k90z6w3" updated="20220915085343"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085133-f7dfcs7" data-type="NodeParagraph" class="p" updated="20220915085133" id="20220915085133-f7dfcs7"><div contenteditable="false" spellcheck="false">You can store your data in partitioned subdirectories</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085146-6vd8u6n" data-type="NodeList" class="list" id="20220915085146-6vd8u6n"><div data-marker="*" data-subtype="u" data-node-id="20220915085146-aor9z2m" data-type="NodeListItem" class="li" id="20220915085146-aor9z2m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085146-3pg949i" data-type="NodeParagraph" class="p" id="20220915085146-3pg949i"><div contenteditable="false" spellcheck="false">Huge optimization if your queries are only on certain partitions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915085206-k942p8s" data-type="NodeCodeBlock" class="code-block" updated="20220915085343" id="20220915085206-k942p8s"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">CREATE TABLE customers ( 
	name STRING,
	address STRUCT&lt;street:STRING, city:STRING, state:STRING, zip:INT&gt; 
)
PARTITIONED BY (country STRING);

-- result
.../customers/country=CA/ 
.../customers/country=GB/
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085531-cp27526" data-type="NodeList" class="list" id="20220915085531-cp27526" updated="20220915085538"><div data-marker="*" data-subtype="u" data-node-id="20220915085533-fs8ej94" data-type="NodeListItem" class="li" id="20220915085533-fs8ej94" updated="20220915085538"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085533-qwbwjyy" data-type="NodeParagraph" class="p" id="20220915085533-qwbwjyy" updated="20220915085537"><div contenteditable="false" spellcheck="false">Ways to use Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085538-ixcyi9z" data-type="NodeList" class="list" id="20220915085538-ixcyi9z" updated="20220915085538"><div data-marker="*" data-subtype="u" data-node-id="20220915085538-yr63o4o" data-type="NodeListItem" class="li" id="20220915085538-yr63o4o" updated="20220915085538"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085538-nnb2cx4" data-type="NodeParagraph" class="p" id="20220915085538-nnb2cx4" updated="20220915085538"><div contenteditable="false" spellcheck="false">Interactive via hive&gt; prompt / Command line interface (CLI)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915085538-jszlpm0" data-type="NodeListItem" class="li" id="20220915085538-jszlpm0" updated="20220915085538"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085538-xbsbv1r" data-type="NodeParagraph" class="p" id="20220915085538-xbsbv1r" updated="20220915085538"><div contenteditable="false" spellcheck="false">Saved query files</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085538-2r576hs" data-type="NodeList" class="list" id="20220915085538-2r576hs" updated="20220915085543"><div data-marker="*" data-subtype="u" data-node-id="20220915085543-lyc5no3" data-type="NodeListItem" class="li" id="20220915085543-lyc5no3" updated="20220915085543"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085543-ib46nfr" data-type="NodeParagraph" class="p" id="20220915085543-ib46nfr" updated="20220915085543"><div contenteditable="false" spellcheck="false">hive –f /somepath/queries.hql</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915085545-zjj7bjd" data-type="NodeListItem" class="li" id="20220915085545-zjj7bjd" updated="20220915085545"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085545-r6q4q6l" data-type="NodeParagraph" class="p" id="20220915085545-r6q4q6l" updated="20220915085545"><div contenteditable="false" spellcheck="false">Through Ambari / Hue</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915085538-vyp4w6o" data-type="NodeListItem" class="li" id="20220915085538-vyp4w6o" updated="20220915085538"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085538-bdcm8qj" data-type="NodeParagraph" class="p" id="20220915085538-bdcm8qj" updated="20220915085538"><div contenteditable="false" spellcheck="false">Through JDBC/ODBC server</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915085538-g3ulau5" data-type="NodeListItem" class="li" updated="20220915085538" id="20220915085538-g3ulau5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085538-kbd3bdh" data-type="NodeParagraph" class="p" id="20220915085538-kbd3bdh" updated="20220915085538"><div contenteditable="false" spellcheck="false">Through Thrift service</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085538-ohoqnev" data-type="NodeList" class="list" id="20220915085538-ohoqnev" updated="20220915085551"><div data-marker="*" data-subtype="u" data-node-id="20220915085551-ht2gpim" data-type="NodeListItem" class="li" id="20220915085551-ht2gpim" updated="20220915085551"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085551-7tr0rll" data-type="NodeParagraph" class="p" id="20220915085551-7tr0rll" updated="20220915085551"><div contenteditable="false" spellcheck="false">But remember, Hive is not suitable for OLTP</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915085554-68vs7ag" data-type="NodeListItem" class="li" id="20220915085554-68vs7ag" updated="20220915085554"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085554-pog0n2e" data-type="NodeParagraph" class="p" id="20220915085554-pog0n2e" updated="20220915085554"><div contenteditable="false" spellcheck="false">Via Oozie</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915085730-3oq3s0z" data-type="NodeList" class="list" id="20220915085730-3oq3s0z" updated="20220915101410"><div data-marker="*" data-subtype="u" data-node-id="20220915085732-q8f9rg5" data-type="NodeListItem" class="li" id="20220915085732-q8f9rg5" updated="20220915101410"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915085732-wjxzooi" data-type="NodeParagraph" class="p" id="20220915085732-wjxzooi" updated="20220915085757"><div contenteditable="false" spellcheck="false">Hands-on: Find the movie with the highest average rating</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915085837-3qrwqig" data-type="NodeCodeBlock" class="code-block" id="20220915085837-3qrwqig" updated="20220915101332"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">SELECT r.movie_id, n.title, AVG(r.rating) as avgrating, COUNT(r.rating) as countrating
FROM ratings r, names n
WHERE r.movie_id = n.movie_id
GROUP BY r.movie_id, n.title
HAVING countrating &gt; 10
ORDER BY avgrating DESC</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915101410-1gfetef" data-type="NodeTable" class="table" updated="20220915101410" colgroup="|width: 286px;||" id="20220915101410-1gfetef"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col style="width: 286px;" /><col /><col /></colgroup><thead><tr><th>r.movie_id</th><th>n.title</th><th>avgrating</th><th>countrating</th></tr></thead><tbody><tr><td>408</td><td>Close Shave, A (1995)</td><td>4.491071428571429</td><td>112</td></tr><tr><td>318</td><td>Schindler's List (1993)</td><td>4.466442953020135</td><td>298</td></tr><tr><td>169</td><td>Wrong Trousers, The (1993)</td><td>4.466101694915254</td><td>118</td></tr><tr><td>483</td><td>Casablanca (1942)</td><td>4.45679012345679</td><td>243</td></tr><tr><td>114</td><td>Wallace &amp; Gromit: The Best of Aardman Animation (1996)</td><td>4.447761194029851</td><td>67</td></tr><tr><td>64</td><td>Shawshank Redemption, The (1994)</td><td>4.445229681978798</td><td>283</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915101527-dp5w2hr" data-type="NodeList" class="list" id="20220915101527-dp5w2hr" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220915101529-xsrd68k" data-type="NodeListItem" class="li" updated="20220916000506" id="20220915101529-xsrd68k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915101529-925magz" data-type="NodeParagraph" class="p" id="20220915101529-925magz" updated="20220915101538"><div contenteditable="false" spellcheck="false">Integrating MySQL &amp; Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915101539-oaly4nc" data-type="NodeList" class="list" id="20220915101539-oaly4nc" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220915104933-y5zwlw4" data-type="NodeListItem" class="li" id="20220915104933-y5zwlw4" updated="20220915104933"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104933-5a2q8vz" data-type="NodeParagraph" class="p" id="20220915104933-5a2q8vz" updated="20220915104934"><div contenteditable="false" spellcheck="false">MySQL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915104936-l74w7e9" data-type="NodeList" class="list" id="20220915104936-l74w7e9" updated="20220915104936"><div data-marker="*" data-subtype="u" data-node-id="20220915104936-qk54tok" data-type="NodeListItem" class="li" id="20220915104936-qk54tok" updated="20220915104936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104936-zs9tw03" data-type="NodeParagraph" class="p" updated="20220915104936" id="20220915104936-zs9tw03"><div contenteditable="false" spellcheck="false">Popular, free relational database</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915104936-xq61pjr" data-type="NodeListItem" class="li" id="20220915104936-xq61pjr" updated="20220915104936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104936-bgh3q8o" data-type="NodeParagraph" class="p" id="20220915104936-bgh3q8o" updated="20220915104936"><div contenteditable="false" spellcheck="false">Generally monolithic in nature</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915104936-6cgggd4" data-type="NodeListItem" class="li" id="20220915104936-6cgggd4" updated="20220915104936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104936-ah3rnub" data-type="NodeParagraph" class="p" id="20220915104936-ah3rnub" updated="20220915104936"><div contenteditable="false" spellcheck="false">But, can be used for OLTP – so exporting data into MySQL can be useful</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915104936-3wyvt4b" data-type="NodeListItem" class="li" id="20220915104936-3wyvt4b" updated="20220915104936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104936-yq9hac6" data-type="NodeParagraph" class="p" id="20220915104936-yq9hac6" updated="20220915104936"><div contenteditable="false" spellcheck="false">Existing data may exist in MySQL that you want to import to Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915104937-k6sndk0" data-type="NodeListItem" class="li" id="20220915104937-k6sndk0" updated="20220916000506"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915104937-fvwzumo" data-type="NodeParagraph" class="p" id="20220915104937-fvwzumo" updated="20220915105013"><div contenteditable="false" spellcheck="false">Sqoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915105014-j49lbyg" data-type="NodeList" class="list" id="20220915105014-j49lbyg" updated="20220915105021"><div data-marker="*" data-subtype="u" data-node-id="20220915105021-xosggh1" data-type="NodeListItem" class="li" updated="20220915105021" id="20220915105021-xosggh1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915105021-m48gz9l" data-type="NodeParagraph" class="p" id="20220915105021-m48gz9l" updated="20220915105021"><div contenteditable="false" spellcheck="false">Actually kicks off MapReduce jobs to handle importing or exporting your data!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915105022-7vlw9bi" data-type="NodeParagraph" class="p" updated="20220915105035" id="20220915105022-7vlw9bi"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 459px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220915105035-we5jqt4.png" data-src="assets/image-20220915105035-we5jqt4.png" alt="image" style="width: 449px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915105054-m0elicm" data-type="NodeList" class="list" id="20220915105054-m0elicm" updated="20220915114817"><div data-marker="*" data-subtype="u" data-node-id="20220915105052-5rfnluc" data-type="NodeListItem" class="li" id="20220915105052-5rfnluc" updated="20220915114817"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915105052-0zjx77r" data-type="NodeParagraph" class="p" id="20220915105052-0zjx77r" updated="20220915105111"><div contenteditable="false" spellcheck="false">Sqoop: Import data from MySQL to HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915105144-uu64h1g" data-type="NodeList" class="list" id="20220915105144-uu64h1g" updated="20220915110304"><div data-marker="*" data-subtype="u" data-node-id="20220915110235-97fj3ww" data-type="NodeListItem" class="li" id="20220915110235-97fj3ww" updated="20220915110235"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915110235-5fdqwhz" data-type="NodeParagraph" class="p" updated="20220915110235" id="20220915110235-5fdqwhz"><div contenteditable="false" spellcheck="false">export from DB, import to HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915110236-dk0ivwx" data-type="NodeListItem" class="li" id="20220915110236-dk0ivwx" updated="20220915110304"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915110236-3vog8sn" data-type="NodeParagraph" class="p" id="20220915110236-3vog8sn" updated="20220915110304"><div contenteditable="false" spellcheck="false">efficient on giant dataset, but not on lots of small datasets</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915105055-z1zxiro" data-type="NodeCodeBlock" class="code-block" id="20220915105055-z1zxiro" updated="20220915114817"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">## import to HDFS
sqoop import --connect jdbc:mysql://localhost/movielens \
--driver com.mysql.jdbc.Driver \
--table movies\

## import to Hive
sqoop import --connect jdbc:mysql://localhost/movielens \
--driver com.mysql.jdbc.Driver \
--table movies \
--hive-import
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915114619-c6fe4ts" data-type="NodeList" class="list" id="20220915114619-c6fe4ts" updated="20220915114630"><div data-marker="*" data-subtype="u" data-node-id="20220915114620-ssvb4xk" data-type="NodeListItem" class="li" id="20220915114620-ssvb4xk" updated="20220915114630"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915114620-33ezqjc" data-type="NodeParagraph" class="p" id="20220915114620-33ezqjc" updated="20220915114625"><div contenteditable="false" spellcheck="false">Incremental imports</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915114630-82e8mdy" data-type="NodeList" class="list" id="20220915114630-82e8mdy" updated="20220915114630"><div data-marker="*" data-subtype="u" data-node-id="20220915114630-zj227es" data-type="NodeListItem" class="li" id="20220915114630-zj227es" updated="20220915114630"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915114630-9s6vrtg" data-type="NodeParagraph" class="p" id="20220915114630-9s6vrtg" updated="20220915114630"><div contenteditable="false" spellcheck="false">You can keep your relational database and Hadoop in sync</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915114630-fgd4eub" data-type="NodeListItem" class="li" id="20220915114630-fgd4eub" updated="20220915114630"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915114630-bij0i5o" data-type="NodeParagraph" class="p" id="20220915114630-bij0i5o" updated="20220915114630"><div contenteditable="false" spellcheck="false">--check-column and -–last-value</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915114751-mjotzsz" data-type="NodeList" class="list" id="20220915114751-mjotzsz" updated="20220915114941"><div data-marker="*" data-subtype="u" data-node-id="20220915114752-sx4l5ko" data-type="NodeListItem" class="li" updated="20220915114941" id="20220915114752-sx4l5ko"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915114752-fuuodjz" data-type="NodeParagraph" class="p" id="20220915114752-fuuodjz" updated="20220915114758"><div contenteditable="false" spellcheck="false">Sqoop: Export data from Hive to MySQL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915114800-08znu5z" data-type="NodeCodeBlock" class="code-block" id="20220915114800-08znu5z" updated="20220915114912"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># -m how many mappers needed
sqoop export --connect jdbc:mysql://localhost/movielens -m 1 \
--driver com.mysql.jdbc.Driver \
--table exported_movies \
--export-dir /apps/hive/warehouse/movies \
--input-fields-terminated-by '\0001'
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915114940-qn9s77o" data-type="NodeList" class="list" id="20220915114940-qn9s77o" updated="20220915114941"><div data-marker="*" data-subtype="u" data-node-id="20220915114941-ji569yl" data-type="NodeListItem" class="li" id="20220915114941-ji569yl" updated="20220915114941"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915114941-ife23ca" data-type="NodeParagraph" class="p" id="20220915114941-ife23ca" updated="20220915114941"><div contenteditable="false" spellcheck="false">Target table must already exist in MySQL, with columns in expected order</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915115112-w0jjxyy" data-type="NodeList" class="list" id="20220915115112-w0jjxyy" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220915115114-h3tdjk5" data-type="NodeListItem" class="li" id="20220915115114-h3tdjk5" updated="20220916000506"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915115114-c2a4bt8" data-type="NodeParagraph" class="p" id="20220915115114-c2a4bt8" updated="20220915115118"><div contenteditable="false" spellcheck="false">Hands-on: Let’s play with MySQL and Sqoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915115151-jrzfhk9" data-type="NodeCodeBlock" class="code-block" id="20220915115151-jrzfhk9" updated="20220915224730"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">## cheatsheet
## On new HDP sandbixes, mysql's root account has no defualt password.
## Need to set one up the hard way first
su root
systemctl stop mysqld
systemctl set-environment MYSQLD_OPTS=&quot;--skip-grant-tables --skip-networking&quot;
systemctl start mysqld
mysql -u root
------- Mysql cmd 
FLUSH PRIVILEGES;
alter user 'root'@'localhost' IDENTIFIED BY 'hadoop';
FLUSH PRIVILEGES;
QUIT;
------ CMD
systemctl unset-environment MYSQLD_OPTS
systemctl restart mysqld
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915115122-6dg0gau" data-type="NodeList" class="list" id="20220915115122-6dg0gau" updated="20220915231216"><div data-marker="*" data-subtype="u" data-node-id="20220915224852-tgce8hl" data-type="NodeListItem" class="li" id="20220915224852-tgce8hl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915224852-m3zin0n" data-type="NodeParagraph" class="p" id="20220915224852-m3zin0n" updated="20220915224854"><div contenteditable="false" spellcheck="false">Prep</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915224855-d7jj7e5" data-type="NodeCodeBlock" class="code-block" id="20220915224855-d7jj7e5" updated="20220915224904"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# systemctl stop mysqld
[root@sandbox-hdp maria_dev]# systemctl set-environment MYSQLD_OPTS=&quot;--skip-grant-tables --skip-networking&quot;
[root@sandbox-hdp maria_dev]# systemctl start mysqld
[root@sandbox-hdp maria_dev]# mysql -u root
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.22 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.08 sec)

mysql&gt; alter user 'root'@'localhost' IDENTIFIED BY 'hadoop';
Query OK, 0 rows affected (0.02 sec)

mysql&gt; FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; QUIT;
Bye
[root@sandbox-hdp maria_dev]# systemctl unset-environment MYSQLD_OPTS
[root@sandbox-hdp maria_dev]# systemctl restart mysqld
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915115127-lv847a7" data-type="NodeListItem" class="li" id="20220915115127-lv847a7" updated="20220915231216"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915115127-b5916q5" data-type="NodeParagraph" class="p" id="20220915115127-b5916q5" updated="20220915115127"><div contenteditable="false" spellcheck="false">Import MovieLens data into a MySQL database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915230341-3ku5n20" data-type="NodeCodeBlock" class="code-block" id="20220915230341-3ku5n20" updated="20220915231216"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 35
Server version: 5.7.22 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; create database movielens;
Query OK, 1 row affected (0.01 sec)

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| druid              |
| hive               |
| movielens          |
| mysql              |
| performance_schema |
| ranger             |
| superset           |
| sys                |
+--------------------+
9 rows in set (0.01 sec)

mysql&gt; exit
Bye
[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/movielens.sql
[maria_dev@sandbox-hdp ~]$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 44
Server version: 5.7.22 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; SET NAMES 'utf8';
Query OK, 0 rows affected (0.02 sec)

mysql&gt; SET CHARACTER utf8;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'utf8' at line 1
mysql&gt; SET CHARACTER SET utf8;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; use movielens;
Database changed
mysql&gt; source movielens.sql;
Query OK, 0 rows affected (0.00 sec)

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected (0.02 sec)

Query OK, 21 rows affected (0.00 sec)
Records: 21  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected (0.02 sec)

Query OK, 943 rows affected (0.01 sec)
Records: 943  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

Query OK, 100000 rows affected (0.97 sec)
Records: 100000  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected, 1 warning (0.05 sec)

Query OK, 0 rows affected (0.05 sec)

Query OK, 1682 rows affected, 9 warnings (0.04 sec)
Records: 1682  Duplicates: 0  Warnings: 9

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

Query OK, 18 rows affected (0.00 sec)
Records: 18  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

Query OK, 2891 rows affected (0.02 sec)
Records: 2891  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected (0.00 sec)

mysql&gt; show tables;
+---------------------+
| Tables_in_movielens |
+---------------------+
| genres              |
| genres_movies       |
| movies              |
| occupations         |
| ratings             |
| users               |
+---------------------+
6 rows in set (0.00 sec)

mysql&gt; select * from movies limit 10;
+----+------------------------------------------------------+--------------+
| id | title                                                | release_date |
+----+------------------------------------------------------+--------------+
|  1 | Toy Story (1995)                                     | 1995-01-01   |
|  2 | GoldenEye (1995)                                     | 1995-01-01   |
|  3 | Four Rooms (1995)                                    | 1995-01-01   |
|  4 | Get Shorty (1995)                                    | 1995-01-01   |
|  5 | Copycat (1995)                                       | 1995-01-01   |
|  6 | Shanghai Triad (Yao a yao yao dao waipo qiao) (1995) | 1995-01-01   |
|  7 | Twelve Monkeys (1995)                                | 1995-01-01   |
|  8 | Babe (1995)                                          | 1995-01-01   |
|  9 | Dead Man Walking (1995)                              | 1995-01-01   |
| 10 | Richard III (1995)                                   | 1996-01-22   |
+----+------------------------------------------------------+--------------+
10 rows in set (0.00 sec)

mysql&gt; describe ratings;
+----------+-----------+------+-----+-------------------+-----------------------------+
| Field    | Type      | Null | Key | Default           | Extra                       |
+----------+-----------+------+-----+-------------------+-----------------------------+
| id       | int(11)   | NO   | PRI | NULL              |                             |
| user_id  | int(11)   | YES  |     | NULL              |                             |
| movie_id | int(11)   | YES  |     | NULL              |                             |
| rating   | int(11)   | YES  |     | NULL              |                             |
| rated_at | timestamp | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
+----------+-----------+------+-----+-------------------+-----------------------------+
5 rows in set (0.01 sec)

mysql&gt; SELECT r.movie_id, m.title, AVG(r.rating) as avgrating, COUNT(r.rating) as countrating
    -&gt; FROM ratings r, movies m
    -&gt; WHERE r.movie_id = m.id
    -&gt; GROUP BY r.movie_id, m.title
    -&gt; HAVING countrating &gt; 10
    -&gt; ORDER BY avgrating DESC;
+----------+---------------------------------------------------------------------------------+-----------+-------------+
| movie_id | title                                                                           | avgrating | countrating |
+----------+---------------------------------------------------------------------------------+-----------+-------------+
|      408 | Close Shave, A (1995)                                                           |    4.4911 |         112 |
|      318 | Schindler's List (1993)                                                         |    4.4664 |         298 |
|      169 | Wrong Trousers, The (1993)                                                      |    4.4661 |         118 |
|      483 | Casablanca (1942)                                                               |    4.4568 |         243 |
|      114 | Wallace &amp; Gromit: The Best of Aardman Animation (1996)                          |    4.4478 |          67 |
|       64 | Shawshank Redemption, The (1994)                                                |    4.4452 |         283 |
....
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915115122-7i20w2l" data-type="NodeList" class="list" id="20220915115122-7i20w2l" updated="20220916000506"><div data-marker="*" data-subtype="u" data-node-id="20220915115122-1azeyme" data-type="NodeListItem" class="li" id="20220915115122-1azeyme" updated="20220915115122"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915115122-hhxr5jn" data-type="NodeParagraph" class="p" id="20220915115122-hhxr5jn" updated="20220915115122"><div contenteditable="false" spellcheck="false">Import the movies to HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915231222-68rqalq" data-type="NodeCodeBlock" class="code-block" updated="20220915234203" id="20220915231222-68rqalq"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ sqoop import --connect jdbc:mysql://localhost/movielens --driver com.mysql.jdbc.Driver --table movies -m 1 --username root --password hadoop
Warning: /usr/hdp/2.6.5.0-292/accumulo does not exist! Accumulo imports will fail.
Please set $ACCUMULO_HOME to the root of your Accumulo installation.
22/09/15 15:18:30 INFO sqoop.Sqoop: Running Sqoop version: 1.4.6.2.6.5.0-292
22/09/15 15:18:31 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.
22/09/15 15:18:31 WARN sqoop.ConnFactory: Parameter --driver is set to an explicit driver however appropriate connection manager is not being set (via --connection-manager). Sqoop is going to fall back to org.apache.sqoop.manager.GenericJdbcManager. Please specify explicitly which connection manager should be used next time.
22/09/15 15:18:31 INFO manager.SqlManager: Using default fetchSize of 1000
22/09/15 15:18:31 INFO tool.CodeGenTool: Beginning code generation
Thu Sep 15 15:18:31 UTC 2022 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.
22/09/15 15:18:32 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM movies AS t WHERE 1=0
22/09/15 15:18:32 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM movies AS t WHERE 1=0
22/09/15 15:18:32 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/hdp/2.6.5.0-292/hadoop-mapreduce
Note: /tmp/sqoop-maria_dev/compile/cfd36910eae404a5461062068f189b6e/movies.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
22/09/15 15:18:37 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-maria_dev/compile/cfd36910eae404a5461062068f189b6e/movies.jar
22/09/15 15:18:37 INFO mapreduce.ImportJobBase: Beginning import of movies
22/09/15 15:18:37 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM movies AS t WHERE 1=0
22/09/15 15:18:39 INFO client.RMProxy: Connecting to ResourceManager at sandbox-hdp.hortonworks.com/172.18.0.2:8032
22/09/15 15:18:39 INFO client.AHSProxy: Connecting to Application History server at sandbox-hdp.hortonworks.com/172.18.0.2:10200
Thu Sep 15 15:18:57 UTC 2022 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.
22/09/15 15:18:58 INFO db.DBInputFormat: Using read commited transaction isolation
22/09/15 15:18:58 INFO mapreduce.JobSubmitter: number of splits:1
22/09/15 15:19:00 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1663252961477_0001
22/09/15 15:19:03 INFO impl.YarnClientImpl: Submitted application application_1663252961477_0001
22/09/15 15:19:03 INFO mapreduce.Job: The url to track the job: http://sandbox-hdp.hortonworks.com:8088/proxy/application_1663252961477_0001/
22/09/15 15:19:03 INFO mapreduce.Job: Running job: job_1663252961477_0001
22/09/15 15:19:43 INFO mapreduce.Job: Job job_1663252961477_0001 running in uber mode : false
22/09/15 15:19:43 INFO mapreduce.Job:  map 0% reduce 0%
22/09/15 15:19:55 INFO mapreduce.Job:  map 100% reduce 0%
22/09/15 15:19:56 INFO mapreduce.Job: Job job_1663252961477_0001 completed successfully
22/09/15 15:19:56 INFO mapreduce.Job: Counters: 30
	File System Counters
		FILE: Number of bytes read=0
		FILE: Number of bytes written=171639
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=87
		HDFS: Number of bytes written=66940
		HDFS: Number of read operations=4
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=1
		Other local map tasks=1
		Total time spent by all maps in occupied slots (ms)=7715
		Total time spent by all reduces in occupied slots (ms)=0
		Total time spent by all map tasks (ms)=7715
		Total vcore-milliseconds taken by all map tasks=7715
		Total megabyte-milliseconds taken by all map tasks=1928750
	Map-Reduce Framework
		Map input records=1682
		Map output records=1682
		Input split bytes=87
		Spilled Records=0
		Failed Shuffles=0
		Merged Map outputs=0
		GC time elapsed (ms)=116
		CPU time spent (ms)=3350
		Physical memory (bytes) snapshot=154779648
		Virtual memory (bytes) snapshot=1951809536
		Total committed heap usage (bytes)=37748736
	File Input Format Counters 
		Bytes Read=0
	File Output Format Counters 
		Bytes Written=66940
22/09/15 15:19:56 INFO mapreduce.ImportJobBase: Transferred 65.3711 KB in 77.1852 seconds (867.2646 bytes/sec)
22/09/15 15:19:56 INFO mapreduce.ImportJobBase: Retrieved 1682 records.
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915234311-e4x7xq4" data-type="NodeParagraph" class="p" id="20220915234311-e4x7xq4" updated="20220915234312"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220915234312-qigp4x1.png" data-src="assets/image-20220915234312-qigp4x1.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915234332-kooxufy" data-type="NodeParagraph" class="p" id="20220915234332-kooxufy" updated="20220915234335"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 469px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220915234335-8j0l1qv.png" data-src="assets/image-20220915234335-8j0l1qv.png" alt="image" style="width: 459px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915115122-p21h54h" data-type="NodeListItem" class="li" id="20220915115122-p21h54h" updated="20220915115122"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915115122-7inl4fh" data-type="NodeParagraph" class="p" id="20220915115122-7inl4fh" updated="20220915115122"><div contenteditable="false" spellcheck="false">Import the movies into Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915234644-qcc4ixh" data-type="NodeCodeBlock" class="code-block" id="20220915234644-qcc4ixh" updated="20220915234718"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ sqoop import --connect jdbc:mysql://localhost/movielens --driver com.mysql.jdbc.Driver --table movies -m 1 --username root --password hadoop --hive-import
Warning: /usr/hdp/2.6.5.0-292/accumulo does not exist! Accumulo imports will fail.
...
22/09/15 15:45:43 INFO hive.HiveImport: Loading uploaded data into Hive

Logging initialized using configuration in jar:file:/usr/hdp/2.6.5.0-292/hive/lib/hive-common-1.2.1000.2.6.5.0-292.jar!/hive-log4j.properties
OK
Time taken: 14.802 seconds
Loading data to table default.movies
Failed with exception org.apache.hadoop.security.AccessControlException: User null does not belong to hadoop
	at org.apache.hadoop.hdfs.server.namenode.FSDirAttrOp.setOwner(FSDirAttrOp.java:89)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.setOwner(FSNamesystem.java:1877)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.setOwner(NameNodeRpcServer.java:828)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.setOwner(ClientNamenodeProtocolServerSideTranslatorPB.java:476)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:640)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:982)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2351)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2347)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1869)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2347)

FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask

## actually succeed
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220915115122-lc2kojz" data-type="NodeListItem" class="li" id="20220915115122-lc2kojz" updated="20220916000506"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915115122-wzgns9q" data-type="NodeParagraph" class="p" id="20220915115122-wzgns9q" updated="20220915115122"><div contenteditable="false" spellcheck="false">Export the movies back into MySQL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220915234948-oih8oe2" data-type="NodeList" class="list" updated="20220915234949" id="20220915234948-oih8oe2"><div data-marker="*" data-subtype="u" data-node-id="20220915234949-akgmji1" data-type="NodeListItem" class="li" updated="20220915234949" id="20220915234949-akgmji1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220915234949-4dtkgtn" data-type="NodeParagraph" class="p" id="20220915234949-4dtkgtn" updated="20220915235022"><div contenteditable="false" spellcheck="false">The movies file actually resides in <code>/apps/hive/warehouse/movies/</code></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220915235125-rgqqmfh" data-type="NodeCodeBlock" class="code-block" id="20220915235125-rgqqmfh" updated="20220916000506"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 99
Server version: 5.7.22 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; use movielens;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; CREATE TABLE exported_movies (id INTEGER, title VARCHAR(255), releaseDate DATE);
Query OK, 0 rows affected (0.04 sec)

mysql&gt; exit
Bye

[maria_dev@sandbox-hdp ~]$ sqoop export --connect jdbc:mysql://localhost/movielens -m 1 --driver com.mysql.jdbc.Driver --table exported_movies --export-dir /apps/hive/warehouse/movies/ --input-fields-terminated-by '\001' --username root --password hadoop
...
22/09/15 16:00:38 INFO mapreduce.ExportJobBase: Transferred 65.5303 KB in 46.2457 seconds (1.417 KB/sec)
22/09/15 16:00:38 INFO mapreduce.ExportJobBase: Exported 1682 records.

[maria_dev@sandbox-hdp ~]$ mysql -u root -p
mysql&gt; select * from movielens.exported_movies limit 10;
+------+------------------------------------------------------+-------------+
| id   | title                                                | releaseDate |
+------+------------------------------------------------------+-------------+
|    1 | Toy Story (1995)                                     | 1995-01-01  |
|    2 | GoldenEye (1995)                                     | 1995-01-01  |
|    3 | Four Rooms (1995)                                    | 1995-01-01  |
|    4 | Get Shorty (1995)                                    | 1995-01-01  |
|    5 | Copycat (1995)                                       | 1995-01-01  |
|    6 | Shanghai Triad (Yao a yao yao dao waipo qiao) (1995) | 1995-01-01  |
|    7 | Twelve Monkeys (1995)                                | 1995-01-01  |
|    8 | Babe (1995)                                          | 1995-01-01  |
|    9 | Dead Man Walking (1995)                              | 1995-01-01  |
|   10 | Richard III (1995)                                   | 1996-01-22  |
+------+------------------------------------------------------+-------------+
10 rows in set (0.00 sec)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220914234016-eydsz0l" data-type="NodeParagraph" class="p" id="20220914234016-eydsz0l"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-zxfad5c" data-type="NodeHeading" class="h2" id="20220912014401-zxfad5c" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 6: Using non-relational data stores with Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916015502-3okfggw" data-type="NodeList" class="list" id="20220916015502-3okfggw" updated="20220918031841"><div data-marker="*" data-subtype="u" data-node-id="20220916015532-2m81r2c" data-type="NodeListItem" class="li" updated="20220918031841" id="20220916015532-2m81r2c"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916015532-annwwh0" data-type="NodeParagraph" class="p" id="20220916015532-annwwh0" updated="20220916015534"><div contenteditable="false" spellcheck="false">NoSQL</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916015608-au3ivja" data-type="NodeList" class="list" id="20220916015608-au3ivja" updated="20220918031841"><div data-marker="*" data-subtype="u" data-node-id="20220916015847-k9k4u3p" data-type="NodeListItem" class="li" id="20220916015847-k9k4u3p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916015847-surlp0u" data-type="NodeParagraph" class="p" id="20220916015847-surlp0u" updated="20220916015849"><div contenteditable="false" spellcheck="false">Features</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916015852-2xv0pn6" data-type="NodeList" class="list" id="20220916015852-2xv0pn6"><div data-marker="*" data-subtype="u" data-node-id="20220916015608-3y4qc7y" data-type="NodeListItem" class="li" id="20220916015608-3y4qc7y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916015608-e8pzt56" data-type="NodeParagraph" class="p" id="20220916015608-e8pzt56" updated="20220916015609"><div contenteditable="false" spellcheck="false">Random Access to Planet-Size Data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916015610-qj0lfvc" data-type="NodeListItem" class="li" id="20220916015610-qj0lfvc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916015610-6kp68zs" data-type="NodeParagraph" class="p" id="20220916015610-6kp68zs" updated="20220916015820"><div contenteditable="false" spellcheck="false">Speed up the answer on massive dataset under high transaction env</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020336-v7js80j" data-type="NodeListItem" class="li" id="20220916020336-v7js80j"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020336-bnlyn5h" data-type="NodeParagraph" class="p" id="20220916020336-bnlyn5h" updated="20220916020356"><div contenteditable="false" spellcheck="false"><code>Give me all the stuff of this key</code></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916015853-hviddtd" data-type="NodeListItem" class="li" id="20220916015853-hviddtd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916015853-uw7pj3a" data-type="NodeParagraph" class="p" id="20220916015853-uw7pj3a" updated="20220916020208"><div contenteditable="false" spellcheck="false">IF NOT -- Painful: Scaling up MySQL etc. to massive loads requires extreme measures</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916020139-hws2yf2" data-type="NodeList" class="list" id="20220916020139-hws2yf2" updated="20220916020139"><div data-marker="*" data-subtype="u" data-node-id="20220916020139-z2o7ayb" data-type="NodeListItem" class="li" id="20220916020139-z2o7ayb" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-r09b18h" data-type="NodeParagraph" class="p" updated="20220916020139" id="20220916020139-r09b18h"><div contenteditable="false" spellcheck="false">Denormalization</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020139-9bulfa6" data-type="NodeListItem" class="li" id="20220916020139-9bulfa6" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-whnk4ei" data-type="NodeParagraph" class="p" id="20220916020139-whnk4ei" updated="20220916020148"><div contenteditable="false" spellcheck="false">Caching layers (MemCached)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020139-ozcvik4" data-type="NodeListItem" class="li" id="20220916020139-ozcvik4" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-cwq0vr6" data-type="NodeParagraph" class="p" id="20220916020139-cwq0vr6" updated="20220916020139"><div contenteditable="false" spellcheck="false">Master/slave setups</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020139-vgcrzfu" data-type="NodeListItem" class="li" id="20220916020139-vgcrzfu" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-fu1eb4u" data-type="NodeParagraph" class="p" id="20220916020139-fu1eb4u" updated="20220916020139"><div contenteditable="false" spellcheck="false">Sharding</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020139-dd4jlbw" data-type="NodeListItem" class="li" id="20220916020139-dd4jlbw" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-dj94723" data-type="NodeParagraph" class="p" id="20220916020139-dj94723" updated="20220916020139"><div contenteditable="false" spellcheck="false">Materialized views</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020139-7n8a6cn" data-type="NodeListItem" class="li" id="20220916020139-7n8a6cn" updated="20220916020139"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020139-wk7kq6r" data-type="NodeParagraph" class="p" id="20220916020139-wk7kq6r" updated="20220916020139"><div contenteditable="false" spellcheck="false">Removing stored procedures</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020209-08n6mec" data-type="NodeListItem" class="li" id="20220916020209-08n6mec"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020209-ctbm5vr" data-type="NodeParagraph" class="p" id="20220916020209-ctbm5vr" updated="20220916020458"><div contenteditable="false" spellcheck="false">Sample Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916020458-eoxpx8c" data-type="NodeParagraph" class="p" id="20220916020458-eoxpx8c" updated="20220916020459"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 486px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916020459-937b92q.png" data-src="assets/image-20220916020459-937b92q.png" alt="image" style="width: 476px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020638-z2exirs" data-type="NodeListItem" class="li" id="20220916020638-z2exirs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020638-x9nm3b2" data-type="NodeParagraph" class="p" id="20220916020638-x9nm3b2"><div contenteditable="false" spellcheck="false">​Use the right tool for the job</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916020644-k9aa5tu" data-type="NodeList" class="list" id="20220916020644-k9aa5tu" updated="20220916020649"><div data-marker="*" data-subtype="u" data-node-id="20220916020649-k23yd4r" data-type="NodeListItem" class="li" id="20220916020649-k23yd4r" updated="20220916020649"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020649-nveybae" data-type="NodeParagraph" class="p" id="20220916020649-nveybae" updated="20220916020649"><div contenteditable="false" spellcheck="false">For analytic queries, Hive, Pig, Spark, etc. work great.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916020644-uq3u8ki" data-type="NodeList" class="list" id="20220916020644-uq3u8ki" updated="20220916020644"><div data-marker="*" data-subtype="u" data-node-id="20220916020644-p0wauud" data-type="NodeListItem" class="li" id="20220916020644-p0wauud" updated="20220916020644"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020644-o77uvf0" data-type="NodeParagraph" class="p" id="20220916020644-o77uvf0" updated="20220916020644"><div contenteditable="false" spellcheck="false">Exporting data to MySQL is plenty fast for most applications too.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020644-xl3xx6l" data-type="NodeListItem" class="li" id="20220916020644-xl3xx6l" updated="20220916020644"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020644-vrgwdfh" data-type="NodeParagraph" class="p" updated="20220916020653" id="20220916020644-vrgwdfh"><div contenteditable="false" spellcheck="false">But if you work at giant scale – export your data to a non-relational database for fast and scalable serving of that data to web applications, etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916020749-8ava01e" data-type="NodeListItem" class="li" id="20220916020749-8ava01e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916020749-hpc4ogs" data-type="NodeParagraph" class="p" id="20220916020749-hpc4ogs" updated="20220916020759"><div contenteditable="false" spellcheck="false">Sample Application Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916021048-908kiyn" data-type="NodeParagraph" class="p" id="20220916021048-908kiyn" updated="20220916021050"><div contenteditable="false" spellcheck="false">Choose a database design that meets your usage patterns</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916020759-wy5lyi4" data-type="NodeParagraph" class="p" id="20220916020759-wy5lyi4" updated="20220916020800"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 595px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916020800-1s4bk5q.png" data-src="assets/image-20220916020800-1s4bk5q.png" alt="image" style="width: 585px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021144-od1mrd2" data-type="NodeListItem" class="li" id="20220916021144-od1mrd2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021144-k3jm1in" data-type="NodeParagraph" class="p" updated="20220916021153" id="20220916021144-k3jm1in"><div contenteditable="false" spellcheck="false">HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021155-1jkrboi" data-type="NodeList" class="list" id="20220916021155-1jkrboi" updated="20220916021200"><div data-marker="*" data-subtype="u" data-node-id="20220916021200-zpuvsja" data-type="NodeListItem" class="li" id="20220916021200-zpuvsja" updated="20220916021200"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021200-4kwfkbz" data-type="NodeParagraph" class="p" id="20220916021200-4kwfkbz" updated="20220916021411"><div contenteditable="false" spellcheck="false">Non-relational, scalable database built on HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021209-q1bj8da" data-type="NodeListItem" class="li" id="20220916021209-q1bj8da"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021209-zl31iak" data-type="NodeParagraph" class="p" id="20220916021209-zl31iak" updated="20220916021209"><div contenteditable="false" spellcheck="false">Based on Google’s BigTable</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021329-160giga" data-type="NodeListItem" class="li" id="20220916021329-160giga"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021330-y581ja4" data-type="NodeParagraph" class="p" id="20220916021330-y581ja4" updated="20220916021330"><div contenteditable="false" spellcheck="false">CRUD</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021330-cuz66xp" data-type="NodeList" class="list" id="20220916021330-cuz66xp" updated="20220916021335"><div data-marker="*" data-subtype="u" data-node-id="20220916021335-b3f5hfw" data-type="NodeListItem" class="li" id="20220916021335-b3f5hfw" updated="20220916021335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021335-jc52d35" data-type="NodeParagraph" class="p" id="20220916021335-jc52d35" updated="20220916021335"><div contenteditable="false" spellcheck="false">Create</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021330-4p5rfcq" data-type="NodeList" class="list" id="20220916021330-4p5rfcq" updated="20220916021330"><div data-marker="*" data-subtype="u" data-node-id="20220916021330-64pqzc3" data-type="NodeListItem" class="li" id="20220916021330-64pqzc3" updated="20220916021330"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021330-jel2wp0" data-type="NodeParagraph" class="p" id="20220916021330-jel2wp0" updated="20220916021330"><div contenteditable="false" spellcheck="false">Read</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021330-hsrq9rt" data-type="NodeListItem" class="li" id="20220916021330-hsrq9rt" updated="20220916021330"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021330-lwe978u" data-type="NodeParagraph" class="p" id="20220916021330-lwe978u" updated="20220916021330"><div contenteditable="false" spellcheck="false">Update</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021330-7xgw1w5" data-type="NodeListItem" class="li" id="20220916021330-7xgw1w5" updated="20220916021330"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021330-1ow3ham" data-type="NodeParagraph" class="p" updated="20220916021330" id="20220916021330-1ow3ham"><div contenteditable="false" spellcheck="false">Delete</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021330-cn6nlve" data-type="NodeListItem" class="li" id="20220916021330-cn6nlve" updated="20220916021330"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021330-bikuuul" data-type="NodeParagraph" class="p" id="20220916021330-bikuuul" updated="20220916021330"><div contenteditable="false" spellcheck="false">There is no query language, only CRUD API’s!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021415-8fbq8uh" data-type="NodeListItem" class="li" id="20220916021415-8fbq8uh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021415-ajx13v2" data-type="NodeParagraph" class="p" id="20220916021415-ajx13v2" updated="20220916021422"><div contenteditable="false" spellcheck="false">HBase Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916021442-uuribpl" data-type="NodeParagraph" class="p" id="20220916021442-uuribpl" updated="20220916021456"><div contenteditable="false" spellcheck="false">Region: Range of keys (like sharding)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916021422-ahxoz3f" data-type="NodeParagraph" class="p" updated="20220916021423" id="20220916021422-ahxoz3f"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 579px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916021423-19h3psm.png" data-src="assets/image-20220916021423-19h3psm.png" alt="image" style="width: 569px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021713-bzz3q9y" data-type="NodeListItem" class="li" id="20220916021713-bzz3q9y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021713-amvczdn" data-type="NodeParagraph" class="p" id="20220916021713-amvczdn"><div contenteditable="false" spellcheck="false">​HBase data model</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021714-berk7vk" data-type="NodeList" class="list" id="20220916021714-berk7vk" updated="20220916021718"><div data-marker="*" data-subtype="u" data-node-id="20220916021718-9jr3fn8" data-type="NodeListItem" class="li" id="20220916021718-9jr3fn8" updated="20220916021718"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021718-7ok96cb" data-type="NodeParagraph" class="p" id="20220916021718-7ok96cb" updated="20220916021718"><div contenteditable="false" spellcheck="false">Fast access to any given ROW</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021714-d9gogkq" data-type="NodeList" class="list" id="20220916021714-d9gogkq" updated="20220916021714"><div data-marker="*" data-subtype="u" data-node-id="20220916021714-5vq2atz" data-type="NodeListItem" class="li" id="20220916021714-5vq2atz" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-hs2dyhf" data-type="NodeParagraph" class="p" id="20220916021714-hs2dyhf" updated="20220916021714"><div contenteditable="false" spellcheck="false">A ROW is referenced by a unique KEY</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021714-elzkwhl" data-type="NodeListItem" class="li" id="20220916021714-elzkwhl" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-d35uzni" data-type="NodeParagraph" class="p" id="20220916021714-d35uzni" updated="20220916021714"><div contenteditable="false" spellcheck="false">Each ROW has some small number of COLUMN FAMILIES</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916021819-gajyvnz" data-type="NodeList" class="list" id="20220916021819-gajyvnz"><div data-marker="*" data-subtype="u" data-node-id="20220916021819-wt91f2f" data-type="NodeListItem" class="li" id="20220916021819-wt91f2f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021819-2eaat4y" data-type="NodeParagraph" class="p" id="20220916021819-2eaat4y" updated="20220916021836"><div contenteditable="false" spellcheck="false">not defining a fixed set of columns for each row</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021714-k1krcqd" data-type="NodeListItem" class="li" id="20220916021714-k1krcqd" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-g01bxdw" data-type="NodeParagraph" class="p" updated="20220916021714" id="20220916021714-g01bxdw"><div contenteditable="false" spellcheck="false">A COLUMN FAMILY may contain arbitrary COLUMNS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021714-81mhb3p" data-type="NodeListItem" class="li" id="20220916021714-81mhb3p" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-4zjvzx8" data-type="NodeParagraph" class="p" id="20220916021714-4zjvzx8" updated="20220916021714"><div contenteditable="false" spellcheck="false">You can have a very large number of COLUMNS in a COLUMN FAMILY</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021714-bd6b7m3" data-type="NodeListItem" class="li" id="20220916021714-bd6b7m3" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-i6tn3je" data-type="NodeParagraph" class="p" id="20220916021714-i6tn3je" updated="20220916021714"><div contenteditable="false" spellcheck="false">Each CELL can have many VERSIONS with given timestamps</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916021714-h0d0sb8" data-type="NodeListItem" class="li" id="20220916021714-h0d0sb8" updated="20220916021714"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916021714-8bjdce5" data-type="NodeParagraph" class="p" id="20220916021714-8bjdce5" updated="20220916021944"><div contenteditable="false" spellcheck="false"><strong>Sparse data is A-OK</strong> – missing columns in a row consume no storage.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024553-22251fv" data-type="NodeListItem" class="li" id="20220916024553-22251fv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024553-9mo8qjo" data-type="NodeParagraph" class="p" id="20220916024553-9mo8qjo" updated="20220916024558"><div contenteditable="false" spellcheck="false">Example: One row of a web table</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916024609-hotiuw3" data-type="NodeParagraph" class="p" id="20220916024609-hotiuw3" updated="20220916024624"><div contenteditable="false" spellcheck="false">find out all pages linked to www.cnn.com</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916024558-96z1btw" data-type="NodeParagraph" class="p" id="20220916024558-96z1btw" updated="20220916024607"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916024607-yfsoj3r.png" data-src="assets/image-20220916024607-yfsoj3r.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024830-736n3jv" data-type="NodeListItem" class="li" id="20220916024830-736n3jv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024830-2tptf2j" data-type="NodeParagraph" class="p" id="20220916024830-2tptf2j" updated="20220916024830"><div contenteditable="false" spellcheck="false">Some ways to access HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916024830-j5ivilh" data-type="NodeList" class="list" id="20220916024830-j5ivilh" updated="20220916024834"><div data-marker="*" data-subtype="u" data-node-id="20220916024834-6xumrfi" data-type="NodeListItem" class="li" id="20220916024834-6xumrfi" updated="20220916024834"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024834-763yvuu" data-type="NodeParagraph" class="p" id="20220916024834-763yvuu" updated="20220916024834"><div contenteditable="false" spellcheck="false">HBase shell</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916024830-1apy9w5" data-type="NodeList" class="list" id="20220916024830-1apy9w5" updated="20220916024830"><div data-marker="*" data-subtype="u" data-node-id="20220916024830-ljgghpv" data-type="NodeListItem" class="li" id="20220916024830-ljgghpv" updated="20220916024830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024830-6kidu4t" data-type="NodeParagraph" class="p" id="20220916024830-6kidu4t" updated="20220916024830"><div contenteditable="false" spellcheck="false">Java API</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916024830-ewrvi3s" data-type="NodeList" class="list" id="20220916024830-ewrvi3s" updated="20220916024840"><div data-marker="*" data-subtype="u" data-node-id="20220916024840-f752jbl" data-type="NodeListItem" class="li" id="20220916024840-f752jbl" updated="20220916024840"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024840-hafgaiw" data-type="NodeParagraph" class="p" id="20220916024840-hafgaiw" updated="20220916024840"><div contenteditable="false" spellcheck="false">Wrappers for Python, Scala, etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024843-626apmb" data-type="NodeListItem" class="li" id="20220916024843-626apmb" updated="20220916024843"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024843-j02r055" data-type="NodeParagraph" class="p" id="20220916024843-j02r055" updated="20220916024843"><div contenteditable="false" spellcheck="false">Spark, Hive, Pig</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024830-q48dyyr" data-type="NodeListItem" class="li" id="20220916024830-q48dyyr" updated="20220916024830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024830-o9zek4t" data-type="NodeParagraph" class="p" id="20220916024830-o9zek4t" updated="20220916024830"><div contenteditable="false" spellcheck="false">REST service</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024830-16yrihl" data-type="NodeListItem" class="li" id="20220916024830-16yrihl" updated="20220916024830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024830-pf65gla" data-type="NodeParagraph" class="p" id="20220916024830-pf65gla" updated="20220916024830"><div contenteditable="false" spellcheck="false">Thrift service</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916024830-j49pb3a" data-type="NodeListItem" class="li" id="20220916024830-j49pb3a" updated="20220916024830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916024830-f6auvnl" data-type="NodeParagraph" class="p" updated="20220916024830" id="20220916024830-f6auvnl"><div contenteditable="false" spellcheck="false">Avro service</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916025402-lwn767u" data-type="NodeListItem" class="li" id="20220916025402-lwn767u"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916025402-l7lyrlx" data-type="NodeParagraph" class="p" updated="20220916025409" id="20220916025402-l7lyrlx"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916025420-swt1e7c" data-type="NodeList" class="list" id="20220916025420-swt1e7c" updated="20220916025420"><div data-marker="*" data-subtype="u" data-node-id="20220916025420-8yv79ny" data-type="NodeListItem" class="li" id="20220916025420-8yv79ny" updated="20220916025420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916025420-2yjdwbc" data-type="NodeParagraph" class="p" updated="20220916025420" id="20220916025420-2yjdwbc"><div contenteditable="false" spellcheck="false">Create a HBase table for movie ratings by user</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916025420-y95mcnp" data-type="NodeListItem" class="li" id="20220916025420-y95mcnp" updated="20220916025420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916025420-8jjzedq" data-type="NodeParagraph" class="p" id="20220916025420-8jjzedq" updated="20220916025420"><div contenteditable="false" spellcheck="false">Then show we can quickly query it for individual users</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916025420-g3mcy2y" data-type="NodeListItem" class="li" updated="20220916025420" id="20220916025420-g3mcy2y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916025420-v1jsymj" data-type="NodeParagraph" class="p" id="20220916025420-v1jsymj" updated="20220916025420"><div contenteditable="false" spellcheck="false">Good example of sparse data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916025438-57hymds" data-type="NodeParagraph" class="p" id="20220916025438-57hymds" updated="20220916025919"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 560px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916025439-nihg9pw.png" data-src="assets/image-20220916025439-nihg9pw.png" alt="image" style="width: 550px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span><span contenteditable="false" data-type="img" class="img" style="max-width: 181px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916025919-mtq8yhj.png" data-src="assets/image-20220916025919-mtq8yhj.png" alt="image" style="width: 171px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916030400-r7cb19r" data-type="NodeList" class="list" id="20220916030400-r7cb19r"><div data-marker="*" data-subtype="u" data-node-id="20220916025453-f6s2dgd" data-type="NodeListItem" class="li" id="20220916025453-f6s2dgd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916025453-995h3cw" data-type="NodeParagraph" class="p" id="20220916025453-995h3cw" updated="20220916030431"><div contenteditable="false" spellcheck="false">Add on port forwarding rule to virtualbox env -- HBase REST</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916030417-2gprzn3" data-type="NodeParagraph" class="p" id="20220916030417-2gprzn3" updated="20220916030418"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 492px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916030418-ik46co2.png" data-src="assets/image-20220916030418-ik46co2.png" alt="image" style="width: 482px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916032555-3uxhiee" data-type="NodeListItem" class="li" id="20220916032555-3uxhiee"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916032603-sebmb6d" data-type="NodeParagraph" class="p" id="20220916032603-sebmb6d" updated="20220916032614"><div contenteditable="false" spellcheck="false">operate on Python</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916032614-5eehvot" data-type="NodeCodeBlock" class="code-block" id="20220916032614-5eehvot" updated="20220916032724"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from starbase import Connection

c = Connection(&quot;127.0.0.1&quot;, &quot;8000&quot;)

# create table ratings
ratings = c.table('ratings')

if (ratings.exists()):
    print(&quot;Dropping existing ratings table\n&quot;)
    ratings.drop()

# create column family named rating
ratings.create('rating')

print(&quot;Parsing the ml-100k ratings data...\n&quot;)
ratingFile = open(&quot;/Users/Amphetamine/Downloads/Udemy-BigData/ml-100k/u.data&quot;, &quot;r&quot;)

batch = ratings.batch()

for line in ratingFile:
    (userID, movieID, rating, timestamp) = line.split()
    batch.update(userID, {'rating': {movieID: rating}})

ratingFile.close()

print (&quot;Committing ratings data to HBase via REST service\n&quot;)
batch.commit(finalize=True)

print (&quot;Get back ratings for some users...\n&quot;)
print (&quot;Ratings for user ID 1:\n&quot;)
print (ratings.fetch(&quot;1&quot;))
print (&quot;Ratings for user ID 33:\n&quot;)
print (ratings.fetch(&quot;33&quot;))

ratings.drop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916033039-a80moye" data-type="NodeCodeBlock" class="code-block" id="20220916033039-a80moye" updated="20220916034103"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false"># on hdp
[root@sandbox-hdp maria_dev]# /usr/hdp/current/hbase-master/bin/hbase-daemon.sh start rest -p 8000 --infoport 8002
starting rest, logging to /var/log/hbase/hbase-maria_dev-rest-sandbox-hdp.hortonworks.com.out





(base) Amphe-2:HadoopMaterials Amphetamine$ python HBaseExamples.py 
Parsing the ml-100k ratings data...

Committing ratings data to HBase via REST service

Get back ratings for some users...

Ratings for user ID 1:

{'rating': {'1': '5', '10': '3', '100': '5', '101': '2', .......,  '99': '3'}}
Ratings for user ID 33:

{'rating': {'245': '3', '258': '4', '260': '4', '271': '4', ......, '895': '3'}}


# on hdp
[root@sandbox-hdp maria_dev]# /usr/hdp/current/hbase-master/bin/hbase-daemon.sh stop rest
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916033424-96zwgot" data-type="NodeListItem" class="li" id="20220916033424-96zwgot"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916033427-tebfjnz" data-type="NodeParagraph" class="p" id="20220916033427-tebfjnz" updated="20220916033431"><div contenteditable="false" spellcheck="false">Hands-on: Integrating Pig with HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916033427-uikkdmk" data-type="NodeList" class="list" id="20220916033427-uikkdmk" updated="20220916033434"><div data-marker="*" data-subtype="u" data-node-id="20220916033434-n3xkna0" data-type="NodeListItem" class="li" id="20220916033434-n3xkna0" updated="20220916033434"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916033434-y9cxpmn" data-type="NodeParagraph" class="p" id="20220916033434-y9cxpmn" updated="20220916033434"><div contenteditable="false" spellcheck="false">Must create HBase table ahead of time</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916033427-k5pfrr9" data-type="NodeList" class="list" id="20220916033427-k5pfrr9" updated="20220916033427"><div data-marker="*" data-subtype="u" data-node-id="20220916033427-yorpjr2" data-type="NodeListItem" class="li" id="20220916033427-yorpjr2" updated="20220916033427"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916033427-hxxfyel" data-type="NodeParagraph" class="p" id="20220916033427-hxxfyel" updated="20220916033427"><div contenteditable="false" spellcheck="false">Your relation must have a unique key as its first column, followed by  
subsequent columns as you want them saved in Hbase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916033427-j84olx5" data-type="NodeListItem" class="li" id="20220916033427-j84olx5" updated="20220916033427"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916033427-vz49gb0" data-type="NodeParagraph" class="p" id="20220916033427-vz49gb0" updated="20220916033427"><div contenteditable="false" spellcheck="false">USING clause allows you to STORE into an HBase table</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916033427-m8a3af5" data-type="NodeListItem" class="li" id="20220916033427-m8a3af5" updated="20220916033427"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916033427-0msv30e" data-type="NodeParagraph" class="p" id="20220916033427-0msv30e" updated="20220916033448"><div contenteditable="false" spellcheck="false">Can work at scale – Hbase is transactional on rowsdd</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916033714-hz0mffl" data-type="NodeCodeBlock" class="code-block" id="20220916033714-hz0mffl" updated="20220916034906"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# hbase sehll
Error: Could not find or load main class sehll
[root@sandbox-hdp maria_dev]# hbase shell
HBase Shell; enter 'help&lt;RETURN&gt;' for list of supported commands.
Type &quot;exit&lt;RETURN&gt;&quot; to leave the HBase Shell
Version 1.1.2.2.6.5.0-292, r897822d4dd5956ca186974c10382e9094683fa29, Fri May 11 08:00:59 UTC 2018

hbase(main):001:0&gt; list
TABLE                                                                                                         
ATLAS_ENTITY_AUDIT_EVENTS                                                                                     
atlas_titan                                                                                                   
2 row(s) in 0.6920 seconds

=&gt; [&quot;ATLAS_ENTITY_AUDIT_EVENTS&quot;, &quot;atlas_titan&quot;]
hbase(main):002:0&gt; create 'users', 'userinfo'
0 row(s) in 2.3240 seconds

=&gt; Hbase::Table - users
hbase(main):003:0&gt; list
TABLE                                                                                                         
ATLAS_ENTITY_AUDIT_EVENTS                                                                                     
atlas_titan                                                                                                   
users                                                                                                         
3 row(s) in 0.0120 seconds

=&gt; [&quot;ATLAS_ENTITY_AUDIT_EVENTS&quot;, &quot;atlas_titan&quot;, &quot;users&quot;]
hbase(main):004:0&gt; exit

[root@sandbox-hdp maria_dev]# wget http://media.sundog-soft.com/hadoop/hbase.pig

## hbase.pig
	users = LOAD '/user/maria_dev/ml-100k/u.user' 
	USING PigStorage('|') 
	AS (userID:int, age:int, gender:chararray, occupation:chararray, zip:int);

	STORE users INTO 'hbase://users' 
	USING org.apache.pig.backend.hadoop.hbase.HBaseStorage (
	'userinfo:age,userinfo:gender,userinfo:occupation,userinfo:zip');

[root@sandbox-hdp maria_dev]# pig hbase.pig 
...
[root@sandbox-hdp maria_dev]# hbase shell
HBase Shell; enter 'help&lt;RETURN&gt;' for list of supported commands.
Type &quot;exit&lt;RETURN&gt;&quot; to leave the HBase Shell
Version 1.1.2.2.6.5.0-292, r897822d4dd5956ca186974c10382e9094683fa29, Fri May 11 08:00:59 UTC 2018

hbase(main):001:0&gt; list
TABLE                                                                                                         
ATLAS_ENTITY_AUDIT_EVENTS                                                                                     
atlas_titan                                                                                                   
users                                                                                                         
3 row(s) in 0.2680 seconds

=&gt; [&quot;ATLAS_ENTITY_AUDIT_EVENTS&quot;, &quot;atlas_titan&quot;, &quot;users&quot;]
hbase(main):002:0&gt; scan 'users'
ROW                           COLUMN+CELL                                                                     
 1                            column=userinfo:age, timestamp=1663271151696, value=24                          
 1                            column=userinfo:gender, timestamp=1663271151696, value=M                        
 1                            column=userinfo:occupation, timestamp=1663271151696, value=technician           
 1                            column=userinfo:zip, timestamp=1663271151696, value=85711                       
 10                           column=userinfo:age, timestamp=1663271151754, value=53                          
 10                           column=userinfo:gender, timestamp=1663271151754, value=M                        
 10                           column=userinfo:occupation, timestamp=1663271151754, value=lawyer               
 10                           column=userinfo:zip, timestamp=1663271151754, value=90703                       
 100                          column=userinfo:age, timestamp=1663271151852, value=36                          
 100                          column=userinfo:gender, timestamp=1663271151852, value=M     

hbase(main):003:0&gt; disable 'users'
hbase(main):003:0&gt; drop 'users'
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916104600-mq2v0kj" data-type="NodeListItem" class="li" id="20220916104600-mq2v0kj" updated="20220916190049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916104600-vwfdiwi" data-type="NodeParagraph" class="p" id="20220916104600-vwfdiwi" updated="20220916104741"><div contenteditable="false" spellcheck="false">Cassandra -- A distributed database with no single point of failure</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916104752-n2nudfd" data-type="NodeList" class="list" id="20220916104752-n2nudfd" updated="20220916190049"><div data-marker="*" data-subtype="u" data-node-id="20220916104742-onysu58" data-type="NodeListItem" class="li" id="20220916104742-onysu58"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916104756-goos3eg" data-type="NodeParagraph" class="p" id="20220916104756-goos3eg" updated="20220916104759"><div contenteditable="false" spellcheck="false">NoSQL with a twist</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916104756-tblqjf4" data-type="NodeList" class="list" updated="20220916104801" id="20220916104756-tblqjf4"><div data-marker="*" data-subtype="u" data-node-id="20220916104801-6whp91x" data-type="NodeListItem" class="li" id="20220916104801-6whp91x" updated="20220916104801"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916104801-ycrlc61" data-type="NodeParagraph" class="p" id="20220916104801-ycrlc61" updated="20220916104803"><div contenteditable="false" spellcheck="false">Unlike HBase, there is no master node at all – every node runs exactly the same software and performs the same functions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916104756-pt4svzi" data-type="NodeList" class="list" updated="20220916104756" id="20220916104756-pt4svzi"><div data-marker="*" data-subtype="u" data-node-id="20220916104756-e78y4hs" data-type="NodeListItem" class="li" id="20220916104756-e78y4hs" updated="20220916104756"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916104756-3e8j632" data-type="NodeParagraph" class="p" id="20220916104756-3e8j632" updated="20220916104756"><div contenteditable="false" spellcheck="false">Data model is similar to BigTable / Hbase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916104756-ya76wrb" data-type="NodeListItem" class="li" id="20220916104756-ya76wrb" updated="20220916104756"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916104756-pxyry85" data-type="NodeParagraph" class="p" id="20220916104756-pxyry85" updated="20220916110741"><div contenteditable="false" spellcheck="false">It’s non-relational, but has a limited CQL query language as its interface (like SQL, but limited to NoSQL)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916110836-k4uxg3i" data-type="NodeListItem" class="li" id="20220916110836-k4uxg3i" updated="20220916190049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110837-mg4k8uo" data-type="NodeParagraph" class="p" id="20220916110837-mg4k8uo" updated="20220916110837"><div contenteditable="false" spellcheck="false">Cassandra’s Design Choices</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916110837-16fbvpl" data-type="NodeList" class="list" id="20220916110837-16fbvpl" updated="20220916114011"><div data-marker="*" data-subtype="u" data-node-id="20220916110841-splj3uv" data-type="NodeListItem" class="li" id="20220916110841-splj3uv" updated="20220916114011"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110841-xgfz4xi" data-type="NodeParagraph" class="p" id="20220916110841-xgfz4xi" updated="20220916110930"><div contenteditable="false" spellcheck="false">The CAP Theorem says you can only have 2 out of 3: </div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916113800-czojt8m" data-type="NodeList" class="list" id="20220916113800-czojt8m" updated="20220916114011"><div data-marker="*" data-subtype="u" data-node-id="20220916113757-dtjylw5" data-type="NodeListItem" class="li" id="20220916113757-dtjylw5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916113757-j7z4u7n" data-type="NodeParagraph" class="p" id="20220916113757-j7z4u7n" updated="20220916113807"><div contenteditable="false" spellcheck="false"><strong>consistency</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916113807-kkpsmwz" data-type="NodeParagraph" class="p" id="20220916113807-kkpsmwz" updated="20220916113830"><div contenteditable="false" spellcheck="false">if writing new values, immediately expect the new values</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916113802-4albx7b" data-type="NodeListItem" class="li" id="20220916113802-4albx7b" updated="20220916113953"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916113802-feujmq9" data-type="NodeParagraph" class="p" updated="20220916113833" id="20220916113802-feujmq9"><div contenteditable="false" spellcheck="false"><strong>availability</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916113833-ekna33x" data-type="NodeParagraph" class="p" id="20220916113833-ekna33x" updated="20220916113953"><div contenteditable="false" spellcheck="false">reliable and always up and running, redundant</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916113804-k3zezmu" data-type="NodeListItem" class="li" id="20220916113804-k3zezmu" updated="20220916114011"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916113804-6s8idlu" data-type="NodeParagraph" class="p" id="20220916113804-6s8idlu"><div contenteditable="false" spellcheck="false"><strong>partition-tolerance</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916113836-1qzmbbu" data-type="NodeParagraph" class="p" id="20220916113836-1qzmbbu" updated="20220916114011"><div contenteditable="false" spellcheck="false">easily split up and distributed across clusters</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916110849-7pu7x8e" data-type="NodeList" class="list" id="20220916110849-7pu7x8e"><div data-marker="*" data-subtype="u" data-node-id="20220916110848-vg0hhjz" data-type="NodeListItem" class="li" id="20220916110848-vg0hhjz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110848-zlbqzl5" data-type="NodeParagraph" class="p" id="20220916110848-zlbqzl5" updated="20220916110852"><div contenteditable="false" spellcheck="false">And partition-tolerance is a requirement with “big data,” so you really only get to choose between consistency and availability</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916110837-isue29a" data-type="NodeList" class="list" id="20220916110837-isue29a" updated="20220916190049"><div data-marker="*" data-subtype="u" data-node-id="20220916110855-u8kbkcg" data-type="NodeListItem" class="li" updated="20220916110855" id="20220916110855-u8kbkcg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110855-qjczkaq" data-type="NodeParagraph" class="p" id="20220916110855-qjczkaq" updated="20220916110855"><div contenteditable="false" spellcheck="false">Cassandra favors availability over consistency</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916110906-86016r0" data-type="NodeList" class="list" id="20220916110906-86016r0"><div data-marker="*" data-subtype="u" data-node-id="20220916110905-3sakq25" data-type="NodeListItem" class="li" id="20220916110905-3sakq25"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110905-08044sd" data-type="NodeParagraph" class="p" id="20220916110905-08044sd" updated="20220916113921"><div contenteditable="false" spellcheck="false">It is “<strong>eventually consistent</strong>” (may delay a second or 2)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916110911-s9w5cf1" data-type="NodeListItem" class="li" id="20220916110911-s9w5cf1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916110911-j8kctib" data-type="NodeParagraph" class="p" id="20220916110911-j8kctib" updated="20220916110914"><div contenteditable="false" spellcheck="false">But you can specify your consistency requirements as part of your requests. So really it’s “tunable consistency”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916114251-hvcm34l" data-type="NodeParagraph" class="p" id="20220916114251-hvcm34l" updated="20220916114254"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 488px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916114254-hrp7vji.png" data-src="assets/image-20220916114254-hrp7vji.png" alt="image" style="width: 478px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220916114450-zei8cu8" data-type="NodeListItem" class="li" id="20220916114450-zei8cu8" updated="20220916190049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916114450-gh76swv" data-type="NodeParagraph" class="p" id="20220916114450-gh76swv" updated="20220916114455"><div contenteditable="false" spellcheck="false">Cassandra HA</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220916114511-h8jej5p" data-type="NodeList" class="list" id="20220916114511-h8jej5p" updated="20220916190049"><div data-marker="*" data-subtype="u" data-node-id="20220916190029-bixn45q" data-type="NodeListItem" class="li" id="20220916190029-bixn45q" updated="20220916190049"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220916190029-d08axlh" data-type="NodeParagraph" class="p" id="20220916190029-d08axlh" updated="20220917004113"><div contenteditable="false" spellcheck="false">Gossip protocol: every node in your cluster is communicating with each other every second to keep track. Every node is performing same operations and functions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004128-90nadez" data-type="NodeListItem" class="li" id="20220917004128-90nadez"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004128-wa0qfd9" data-type="NodeParagraph" class="p" id="20220917004128-wa0qfd9" updated="20220917004202"><div contenteditable="false" spellcheck="false">Talk to a node, get to know where the requested data sit then retrieve</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916114455-i4q38ag" data-type="NodeParagraph" class="p" id="20220916114455-i4q38ag" updated="20220917004030"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 407px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916114507-jsq5nix.png" data-src="assets/image-20220916114507-jsq5nix.png" alt="image" style="width: 397px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004030-k1hjqwe" data-type="NodeListItem" class="li" id="20220917004030-k1hjqwe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004031-gfg544x" data-type="NodeParagraph" class="p" id="20220917004031-gfg544x" updated="20220917004031"><div contenteditable="false" spellcheck="false">Cassandra and your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917004413-tttdv0w" data-type="NodeParagraph" class="p" id="20220917004413-tttdv0w" updated="20220917004414"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220917004414-9o910ng.png" data-src="assets/image-20220917004414-9o910ng.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004031-wemui8v" data-type="NodeList" class="list" updated="20220917004035" id="20220917004031-wemui8v"><div data-marker="*" data-subtype="u" data-node-id="20220917004035-ey54kcp" data-type="NodeListItem" class="li" id="20220917004035-ey54kcp" updated="20220917004035"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004035-nhlm0vi" data-type="NodeParagraph" class="p" id="20220917004035-nhlm0vi" updated="20220917004035"><div contenteditable="false" spellcheck="false">Cassandra’s great for fast access to rows of information</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004031-t02cii7" data-type="NodeList" class="list" updated="20220917004031" id="20220917004031-t02cii7"><div data-marker="*" data-subtype="u" data-node-id="20220917004031-u7f5avd" data-type="NodeListItem" class="li" id="20220917004031-u7f5avd" updated="20220917004031"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004031-n2zrqim" data-type="NodeParagraph" class="p" updated="20220917004458" id="20220917004031-n2zrqim"><div contenteditable="false" spellcheck="false">Get the best of both worlds – <strong>replicate Cassandra to a another ring that is used for analytics</strong> and Spark integration</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004508-yjas41z" data-type="NodeListItem" class="li" id="20220917004508-yjas41z"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-ou8x6ku" data-type="NodeParagraph" class="p" id="20220917004508-ou8x6ku" updated="20220917004511"><div contenteditable="false" spellcheck="false">CQL (Wait, I thought this was NoSQL!)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004508-cf3ixhy" data-type="NodeList" class="list" updated="20220917004513" id="20220917004508-cf3ixhy"><div data-marker="*" data-subtype="u" data-node-id="20220917004513-0g0587p" data-type="NodeListItem" class="li" updated="20220917004513" id="20220917004513-0g0587p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004513-37yzcsy" data-type="NodeParagraph" class="p" id="20220917004513-37yzcsy" updated="20220917004515"><div contenteditable="false" spellcheck="false">Cassandra’s API is CQL, which makes it easy to look like existing database drivers to applications.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004508-f5qy31r" data-type="NodeList" class="list" id="20220917004508-f5qy31r" updated="20220917004508"><div data-marker="*" data-subtype="u" data-node-id="20220917004508-cqq1ktn" data-type="NodeListItem" class="li" id="20220917004508-cqq1ktn" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-mqjfh3y" data-type="NodeParagraph" class="p" id="20220917004508-mqjfh3y" updated="20220917004508"><div contenteditable="false" spellcheck="false">CQL is like SQL, but with some big limitations!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004508-gv2ovzu" data-type="NodeList" class="list" id="20220917004508-gv2ovzu" updated="20220917004508"><div data-marker="*" data-subtype="u" data-node-id="20220917004508-1j9uaht" data-type="NodeListItem" class="li" id="20220917004508-1j9uaht" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-zb4xdeo" data-type="NodeParagraph" class="p" updated="20220917004524" id="20220917004508-zb4xdeo"><div contenteditable="false" spellcheck="false">NO JOINS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004508-ghdalv4" data-type="NodeList" class="list" id="20220917004508-ghdalv4" updated="20220917004508"><div data-marker="*" data-subtype="u" data-node-id="20220917004508-xo00key" data-type="NodeListItem" class="li" id="20220917004508-xo00key" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-xcs9iuv" data-type="NodeParagraph" class="p" id="20220917004508-xcs9iuv" updated="20220917004508"><div contenteditable="false" spellcheck="false">Your data must be de-normalized</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004508-tnfawsp" data-type="NodeListItem" class="li" id="20220917004508-tnfawsp" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-1hiijr4" data-type="NodeParagraph" class="p" id="20220917004508-1hiijr4" updated="20220917004508"><div contenteditable="false" spellcheck="false">So, it’s still non-relational</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004508-nn4tu4i" data-type="NodeListItem" class="li" id="20220917004508-nn4tu4i" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-1qrlnsy" data-type="NodeParagraph" class="p" id="20220917004508-1qrlnsy" updated="20220917004527"><div contenteditable="false" spellcheck="false">All queries must be on some primary key</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004508-vkmiqr6" data-type="NodeList" class="list" id="20220917004508-vkmiqr6" updated="20220917004534"><div data-marker="*" data-subtype="u" data-node-id="20220917004534-8wti3jr" data-type="NodeListItem" class="li" updated="20220917004534" id="20220917004534-8wti3jr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004534-k0gsg21" data-type="NodeParagraph" class="p" id="20220917004534-k0gsg21" updated="20220917004534"><div contenteditable="false" spellcheck="false">Secondary indices are supported, but...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004536-vsxqjhs" data-type="NodeListItem" class="li" id="20220917004536-vsxqjhs" updated="20220917004536"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004536-2tqkpo1" data-type="NodeParagraph" class="p" id="20220917004536-2tqkpo1" updated="20220917004536"><div contenteditable="false" spellcheck="false">CQLSH can be used on the command line to create tables, etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004508-9lfroea" data-type="NodeListItem" class="li" id="20220917004508-9lfroea" updated="20220917004508"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004508-xrucj4l" data-type="NodeParagraph" class="p" id="20220917004508-xrucj4l" updated="20220917004508"><div contenteditable="false" spellcheck="false">All tables must be in a keyspace – keyspaces are like databases</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004727-zjannpt" data-type="NodeListItem" class="li" id="20220917004727-zjannpt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-s14w1ky" data-type="NodeParagraph" class="p" id="20220917004728-s14w1ky" updated="20220917010231"><div contenteditable="false" spellcheck="false"><strong>Cassandra and Spark</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004728-f4crakk" data-type="NodeList" class="list" id="20220917004728-f4crakk" updated="20220917004731"><div data-marker="*" data-subtype="u" data-node-id="20220917004731-n5d37e4" data-type="NodeListItem" class="li" id="20220917004731-n5d37e4" updated="20220917004731"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004731-ciincxb" data-type="NodeParagraph" class="p" id="20220917004731-ciincxb" updated="20220917004731"><div contenteditable="false" spellcheck="false">DataStax offers a Spark-Cassandra connector</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004728-ze75ql0" data-type="NodeList" class="list" updated="20220917004728" id="20220917004728-ze75ql0"><div data-marker="*" data-subtype="u" data-node-id="20220917004728-y6mle2x" data-type="NodeListItem" class="li" updated="20220917004728" id="20220917004728-y6mle2x"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-r20czwm" data-type="NodeParagraph" class="p" id="20220917004728-r20czwm" updated="20220917010325"><div contenteditable="false" spellcheck="false">Allows you to read and write Cassandra tables as DataFrames (Spark - CQL translation)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004728-m92mena" data-type="NodeListItem" class="li" id="20220917004728-m92mena" updated="20220917004728"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-d4ih2zg" data-type="NodeParagraph" class="p" updated="20220917010316" id="20220917004728-d4ih2zg"><div contenteditable="false" spellcheck="false">Is smart about passing queries on those DataFrames down to the appropriate level</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004728-kx1alaq" data-type="NodeListItem" class="li" id="20220917004728-kx1alaq" updated="20220917004728"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-160w2hx" data-type="NodeParagraph" class="p" id="20220917004728-160w2hx" updated="20220917004728"><div contenteditable="false" spellcheck="false">Use cases:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917004728-v177fn3" data-type="NodeList" class="list" id="20220917004728-v177fn3" updated="20220917004728"><div data-marker="*" data-subtype="u" data-node-id="20220917004728-5ktmhf8" data-type="NodeListItem" class="li" id="20220917004728-5ktmhf8" updated="20220917004728"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-oxk1wz1" data-type="NodeParagraph" class="p" id="20220917004728-oxk1wz1" updated="20220917004735"><div contenteditable="false" spellcheck="false">Use Spark for analytics on data stored in Cassandra</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917004728-y144vca" data-type="NodeListItem" class="li" id="20220917004728-y144vca" updated="20220917004728"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917004728-jweik57" data-type="NodeParagraph" class="p" id="20220917004728-jweik57" updated="20220917004745"><div contenteditable="false" spellcheck="false">Use Spark to transform data and store it into Cassandra for transactional use</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917010605-lac6mm6" data-type="NodeListItem" class="li" id="20220917010605-lac6mm6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917010605-i1j5ez8" data-type="NodeParagraph" class="p" id="20220917010605-i1j5ez8" updated="20220917010609"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-v03l9f8" data-type="NodeBlockquote" class="bq" id="20220917010702-v03l9f8"><div data-node-id="20220917010702-ujtz87l" data-type="NodeParagraph" class="p" id="20220917010702-ujtz87l" updated="20220917010702"><div contenteditable="false" spellcheck="false">In the next lecture, we'll install Cassandra into your sandbox. It's a complicated process, and a lot can go wrong. Really, if you're not pretty comfortable with Linux, you might want to just watch the exercises that involve Cassandra instead of running them yourself.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-c03vnz3" data-type="NodeParagraph" class="p" id="20220917010702-c03vnz3" updated="20220917010702"><div contenteditable="false" spellcheck="false">One common issue is ending up in a state where your RPM database (which keeps track of what packages you have installed on your system) becomes corrupt. You'll experience this as seeing an error message like this:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-su5neem" data-type="NodeParagraph" class="p" id="20220917010702-su5neem" updated="20220917010702"><div contenteditable="false" spellcheck="false"><code>rpmts_HdrFromFdno – error: rpmdbNextIterator – Header V3 RSA/SHA1 Signature, key ID BAD</code></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-8v0yp5m" data-type="NodeParagraph" class="p" id="20220917010702-8v0yp5m" updated="20220917010702"><div contenteditable="false" spellcheck="false">If you encounter this, &quot;yum&quot; will no longer work at all. But, there is a way to fix it.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-iwhxn5o" data-type="NodeParagraph" class="p" id="20220917010702-iwhxn5o" updated="20220917010702"><div contenteditable="false" spellcheck="false">Just enter the following commands (you can paste them into PuTTY by right-clicking in the PuTTY terminal window after copying them; and be sure you've already run &quot;<code>su root</code>&quot; to run the following as the root user:)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010713-efbu4zu" data-type="NodeCodeBlock" class="code-block" updated="20220917010721" id="20220917010713-efbu4zu"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">cd ~
 
wget http://mirror.centos.org/centos/6/os/x86_64/Packages/nss-softokn-freebl-3.14.3-23.3.el6_8.x86_64.rpm
 
rpm2cpio http://mirror.centos.org/centos/6/os/x86_64/Packages/nss-softokn-freebl-3.14.3-23.3.el6_8.x86_64.rpm | cpio -idmv
 
cp ./lib64/libfreeblpriv3.* /lib64
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-1pgmo6n" data-type="NodeParagraph" class="p" id="20220917010702-1pgmo6n" updated="20220917010702"><div contenteditable="false" spellcheck="false">Now, yum should work again. Note that if you do a big &quot;yum update&quot; and the ssl library is updated, you may lose your connection via PuTTY. If you're disconnected, wait a couple of minutes to allow yum to finish what it's doing, issue an ACPI Shutdown command to the virtual machine (via the Machine menu,) restart the sandbox, and connect again.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917010702-6qeisih" data-type="NodeParagraph" class="p" id="20220917010702-6qeisih" updated="20220917010702"><div contenteditable="false" spellcheck="false">And if <em>that</em> didn't work, you can try following the similar instructions at <a target="_blank" href="https://techjourney.net/centos-yum-rpm-error-rpmts_hdrfromfdno-rpmdbnextiterator-header-v3-rsasha1-signature-key-id-bad/">https://techjourney.net/centos-yum-rpm-error-rpmts_hdrfromfdno-rpmdbnextiterator-header-v3-rsasha1-signature-key-id-bad/</a> instead (follow the steps for x64 CentOS.)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917010611-1c2rmxo" data-type="NodeList" class="list" id="20220917010611-1c2rmxo" updated="20220917010611"><div data-marker="*" data-subtype="u" data-node-id="20220917010611-uoe9pp5" data-type="NodeListItem" class="li" id="20220917010611-uoe9pp5" updated="20220917010611"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917010611-gn5elqr" data-type="NodeParagraph" class="p" id="20220917010611-gn5elqr" updated="20220917010611"><div contenteditable="false" spellcheck="false">Install Cassandra on our virtual Hadoop node</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917011406-nh0m98d" data-type="NodeCodeBlock" class="code-block" id="20220917011406-nh0m98d" updated="20220917015010"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ su root
Password: 
[root@sandbox-hdp maria_dev]# python --version
Python 2.7.5
[root@sandbox-hdp maria_dev]# cd /etc/yum.repos.d
[root@sandbox-hdp yum.repos.d]# ls
CentOS-Base.repo       CentOS-fasttrack.repo  ius-archive.repo
CentOS-CR.repo         ambari-hdp-1.repo      ius-testing.repo
CentOS-Debuginfo.repo  ambari.repo            ius.repo
CentOS-Media.repo      epel-testing.repo      mysql.repo
CentOS-Sources.repo    epel.repo
CentOS-Vault.repo      hdp-solr.repo
[root@sandbox-hdp yum.repos.d]# vi datastax.repo
[root@sandbox-hdp yum.repos.d]# cat datastax.repo 
[datastax]
name = DataStax Repo for Apache Cassandra
baseurl = http://rpm.datastax.com/community
enabled = 1
gpgcheck = 0


[root@sandbox-hdp yum.repos.d]# yum install dsc30
... 
Loading mirror speeds from cached hostfile
 * base: mirror.vodien.com
 * epel: download.nus.edu.sg
 * extras: mirror.vodien.com
 * updates: mirror.vodien.com
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package dsc30.noarch 0:3.0.9-1 will be installed
--&gt; Processing Dependency: cassandra30 = 3.0.9 for package: dsc30-3.0.9-1.noarch
--&gt; Running transaction check
---&gt; Package cassandra30.noarch 0:3.0.9-1 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package              Arch            Version           Repository         Size
================================================================================
Installing:
 dsc30                noarch          3.0.9-1           datastax          1.9 k
Installing for dependencies:
 cassandra30          noarch          3.0.9-1           datastax           24 M

Transaction Summary
================================================================================
Install  1 Package (+1 Dependent package)

Total download size: 24 M
Installed size: 31 M
Is this ok [y/d/N]: y
Downloading packages:
(1/2): dsc30-3.0.9-1.noarch.rpm                            | 1.9 kB   00:01   
(2/2): cassandra30-3.0.9-1.noarch.rpm                      |  24 MB   00:25   
--------------------------------------------------------------------------------
Total                                              969 kB/s |  24 MB  00:25   
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : cassandra30-3.0.9-1.noarch                                   1/2 
  Installing : dsc30-3.0.9-1.noarch                                         2/2 
  Verifying  : cassandra30-3.0.9-1.noarch                                   1/2 
  Verifying  : dsc30-3.0.9-1.noarch                                         2/2 

Installed:
  dsc30.noarch 0:3.0.9-1                                                      

Dependency Installed:
  cassandra30.noarch 0:3.0.9-1                                                

Complete!

[root@sandbox-hdp yum.repos.d]# service cassandra start
Reloading systemd:                                         [  OK  ]
Starting cassandra (via systemctl):                        [  OK  ]
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917010611-nfjofh3" data-type="NodeListItem" class="li" id="20220917010611-nfjofh3" updated="20220917010611"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917010611-1jhzc3z" data-type="NodeParagraph" class="p" id="20220917010611-1jhzc3z" updated="20220917010611"><div contenteditable="false" spellcheck="false">Set up a table for MovieLens users</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917015012-uybvyb0" data-type="NodeCodeBlock" class="code-block" id="20220917015012-uybvyb0" updated="20220917015021"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp yum.repos.d]# cqlsh --cqlversion=&quot;3.4.0&quot;
Connected to Test Cluster at 127.0.0.1:9042.
[cqlsh 5.0.1 | Cassandra 3.0.9 | CQL spec 3.4.0 | Native protocol v4]
Use HELP for help.

cqlsh&gt; CREATE KEYSPACE movielens WITH replication = {'class': 'SimpleStrategy', 'replication_factor': '1'} AND durable_writes = true;
cqlsh&gt; USE movielens;
cqlsh:movielens&gt; CREATE TABLE users (user_id int, age int, gender text, occupation text, zip text, PRIMARY KEY (user_id));
cqlsh:movielens&gt; DESCRIBE TABLE users;

CREATE TABLE movielens.users (
    user_id int PRIMARY KEY,
    age int,
    gender text,
    occupation text,
    zip text
) WITH bloom_filter_fp_chance = 0.01
    AND caching = {'keys': 'ALL', 'rows_per_partition': 'NONE'}
    AND comment = ''
    AND compaction = {'class': 'org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy', 'max_threshold': '32', 'min_threshold': '4'}
    AND compression = {'chunk_length_in_kb': '64', 'class': 'org.apache.cassandra.io.compress.LZ4Compressor'}
    AND crc_check_chance = 1.0
    AND dclocal_read_repair_chance = 0.1
    AND default_time_to_live = 0
    AND gc_grace_seconds = 864000
    AND max_index_interval = 2048
    AND memtable_flush_period_in_ms = 0
    AND min_index_interval = 128
    AND read_repair_chance = 0.0
    AND speculative_retry = '99PERCENTILE';

cqlsh:movielens&gt; SELECT * FROM users;

 user_id | age | gender | occupation | zip
---------+-----+--------+------------+-----

(0 rows)

</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917010611-xtn4ho6" data-type="NodeListItem" class="li" id="20220917010611-xtn4ho6" updated="20220917010611"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917010611-5ury8ps" data-type="NodeParagraph" class="p" updated="20220917010611" id="20220917010611-5ury8ps"><div contenteditable="false" spellcheck="false">Write into that table and query it from Spark!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917015843-316l9bs" data-type="NodeCodeBlock" class="code-block" id="20220917015843-316l9bs" updated="20220917015846"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from pyspark.sql import SparkSession
from pyspark.sql import Row
from pyspark.sql import functions

def parseInput(line):
    fields = line.split('|')
    return Row(user_id = int(fields[0]), age = int(fields[1]), gender = fields[2], occupation = fields[3], zip = fields[4])

if __name__ == &quot;__main__&quot;:
    # Create a SparkSession
    spark = SparkSession.builder.appName(&quot;CassandraIntegration&quot;).config(&quot;spark.cassandra.connection.host&quot;, &quot;127.0.0.1&quot;).getOrCreate()

    # Get the raw data
    lines = spark.sparkContext.textFile(&quot;hdfs:///user/maria_dev/ml-100k/u.user&quot;)
    # Convert it to a RDD of Row objects with (userID, age, gender, occupation, zip)
    users = lines.map(parseInput)
    # Convert that to a DataFrame
    usersDataset = spark.createDataFrame(users)

    # Write it into Cassandra
    usersDataset.write\
        .format(&quot;org.apache.spark.sql.cassandra&quot;)\
        .mode('append')\
        .options(table=&quot;users&quot;, keyspace=&quot;movielens&quot;)\
        .save()

    # Read it back from Cassandra into a new Dataframe
    readUsers = spark.read\
    .format(&quot;org.apache.spark.sql.cassandra&quot;)\
    .options(table=&quot;users&quot;, keyspace=&quot;movielens&quot;)\
    .load()

    readUsers.createOrReplaceTempView(&quot;users&quot;)

    sqlDF = spark.sql(&quot;SELECT * FROM users WHERE age &lt; 20&quot;)
    sqlDF.show()

    # Stop the session
    spark.stop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917015813-9dszjfc" data-type="NodeCodeBlock" class="code-block" id="20220917015813-9dszjfc" updated="20220917021944"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp yum.repos.d]# wget http://media.sundog-soft.com/hadoop/CassandraSpark.py
[root@sandbox-hdp yum.repos.d]# export SPARK_MAJOR_VERSION=2
[root@sandbox-hdp yum.repos.d]# spark-submit --packages com.datastax.spark:spark-cassandra-connector_2.11:2.3.0 CassandraSpark.py 
SPARK_MAJOR_VERSION is set to 2, using Spark2
Ivy Default Cache set to: /root/.ivy2/cache
The jars for the packages stored in: /root/.ivy2/jars
...
downloading https://repo1.maven.org/maven2/com/datastax/spark/spark-cassandra-connector_2.11/2.3.0/spark-cassandra-connector_2.11-2.3.0.jar ...
	[SUCCESSFUL ] com.datastax.spark#spark-cassandra-connector_2.11;2.3.0!spark-cassandra-connector_2.11.jar (28303ms)
downloading https://repo1.maven.org/maven2/com/twitter/jsr166e/1.1.0/jsr166e-1.1.0.jar ...
	[SUCCESSFUL ] com.twitter#jsr166e;1.1.0!jsr166e.jar (445ms)
downloading https://repo1.maven.org/maven2/commons-beanutils/commons-beanutils/1.9.3/commons-beanutils-1.9.3.jar ...
	[SUCCESSFUL ] commons-beanutils#commons-beanutils;1.9.3!commons-beanutils.jar (635ms)
downloading https://repo1.maven.org/maven2/joda-time/joda-time/2.3/joda-time-2.3.jar ...
	[SUCCESSFUL ] joda-time#joda-time;2.3!joda-time.jar (1063ms)
downloading https://repo1.maven.org/maven2/org/joda/joda-convert/1.2/joda-convert-1.2.jar ...
	[SUCCESSFUL ] org.joda#joda-convert;1.2!joda-convert.jar (264ms)
downloading https://repo1.maven.org/maven2/io/netty/netty-all/4.0.33.Final/netty-all-4.0.33.Final.jar ...
	[SUCCESSFUL ] io.netty#netty-all;4.0.33.Final!netty-all.jar (3802ms)
downloading https://repo1.maven.org/maven2/org/scala-lang/scala-reflect/2.11.8/scala-reflect-2.11.8.jar ...
	[SUCCESSFUL ] org.scala-lang#scala-reflect;2.11.8!scala-reflect.jar (12473ms)
downloading https://repo1.maven.org/maven2/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar ...
	[SUCCESSFUL ] commons-collections#commons-collections;3.2.2!commons-collections.jar (1943ms)
:: resolution report :: resolve 19432ms :: artifacts dl 48958ms
	:: modules in use:
	com.datastax.spark#spark-cassandra-connector_2.11;2.3.0 from central in [default]
	com.twitter#jsr166e;1.1.0 from central in [default]
	commons-beanutils#commons-beanutils;1.9.3 from central in [default]
	commons-collections#commons-collections;3.2.2 from central in [default]
	io.netty#netty-all;4.0.33.Final from central in [default]
	joda-time#joda-time;2.3 from central in [default]
	org.joda#joda-convert;1.2 from central in [default]
	org.scala-lang#scala-reflect;2.11.8 from central in [default]
	---------------------------------------------------------------------
	|                  |            modules            ||   artifacts   |
	|       conf       | number| search|dwnlded|evicted|| number|dwnlded|
	---------------------------------------------------------------------
	|      default     |   8   |   8   |   8   |   0   ||   8   |   8   |
	---------------------------------------------------------------------
22/09/16 18:16:03 INFO DAGScheduler: Job 3 finished: showString at NativeMethodAccessorImpl.java:0, took 0.346564 s
+-------+---+------+-------------+-----+
|user_id|age|gender|   occupation|  zip|
+-------+---+------+-------------+-----+
|    223| 19|     F|      student|47906|
|    462| 19|     F|      student|02918|
|    550| 16|     F|      student|95453|
|    289| 11|     M|         none|94619|
|    521| 19|     M|      student|02146|
|    281| 15|     F|      student|06059|
|     36| 19|     F|      student|93117|
|    347| 18|     M|      student|90210|
|     68| 19|     M|      student|22904|
|    341| 17|     F|      student|44405|
|    179| 15|     M|entertainment|20755|
|    620| 18|     F|       writer|81648|
|    863| 17|     M|      student|60089|
|    904| 17|     F|      student|61073|
|    588| 18|     F|      student|93063|
|     30|  7|     M|      student|55436|
|    528| 18|     M|      student|55104|
|    674| 13|     F|      student|55337|
|    375| 17|     M|entertainment|37777|
|    851| 18|     M|        other|29646|
+-------+---+------+-------------+-----+
only showing top 20 rows


[root@sandbox-hdp yum.repos.d]# cqlsh --cqlversion=&quot;3.4.0&quot;
Connected to Test Cluster at 127.0.0.1:9042.
[cqlsh 5.0.1 | Cassandra 3.0.9 | CQL spec 3.4.0 | Native protocol v4]
Use HELP for help.
cqlsh&gt; USE movielens;
cqlsh:movielens&gt; SELECT * FROM users LIMIT 10;

 user_id | age | gender | occupation | zip
---------+-----+--------+------------+-------
     769 |  39 |      M |  executive | 06927
      23 |  30 |      F |     artist | 48197
     114 |  27 |      M | programmer | 75013
     660 |  26 |      M |    student | 77380
     893 |  25 |      M |    student | 95823
      53 |  26 |      M | programmer | 55414
     878 |  50 |      F |   educator | 98027
     110 |  19 |      M |    student | 77840
      91 |  55 |      M |  marketing | 01913
     128 |  24 |      F |  marketing | 20009

(10 rows)


[root@sandbox-hdp yum.repos.d]# service cassandra stop
Stopping cassandra (via systemctl):                        [  OK  ]
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917022050-gv6hvsd" data-type="NodeListItem" class="li" id="20220917022050-gv6hvsd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022050-17a8iv8" data-type="NodeParagraph" class="p" id="20220917022050-17a8iv8" updated="20220917022054"><div contenteditable="false" spellcheck="false">MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917022226-f7de2c5" data-type="NodeParagraph" class="p" id="20220917022226-f7de2c5" updated="20220917022227"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 488px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916114254-hrp7vji.png" data-src="assets/image-20220916114254-hrp7vji.png" alt="image" style="width: 478px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022231-7ocuwj2" data-type="NodeList" class="list" id="20220917022231-7ocuwj2"><div data-marker="*" data-subtype="u" data-node-id="20220917022230-p1ngwly" data-type="NodeListItem" class="li" id="20220917022230-p1ngwly"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022230-3uwp5bu" data-type="NodeParagraph" class="p" id="20220917022230-3uwp5bu" updated="20220917022410"><div contenteditable="false" spellcheck="false">Example of MongoDB documet</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917022411-2ss3v7l" data-type="NodeCodeBlock" class="code-block" id="20220917022411-2ss3v7l" updated="20220917022936"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">json</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">## Looks like JSON. Example: 
{
	&quot;_id&quot; : ObjectID(&quot;7b33e366ae32223aee34fd3&quot;), 
	&quot;title&quot; : &quot;A blog post about MongoDB&quot;, 
	&quot;content&quot; : &quot;This is a blog post about MongoDB&quot;, 
	&quot;comments&quot;: [
			{
			&quot;name&quot; : &quot;Frank&quot;,
			&quot;email&quot; : &quot;fkane@sundog-soft.com&quot;,
			&quot;content&quot; : &quot;This is the best article ever written!&quot;.
			&quot;rating&quot; : 1
 			}
		]
}
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022949-x28v0kg" data-type="NodeList" class="list" id="20220917022949-x28v0kg" updated="20220917022957"><div data-marker="*" data-subtype="u" data-node-id="20220917022957-sl3t6n2" data-type="NodeListItem" class="li" id="20220917022957-sl3t6n2" updated="20220917022957"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022958-dxl2wwe" data-type="NodeParagraph" class="p" id="20220917022958-dxl2wwe" updated="20220917131838"><div contenteditable="false" spellcheck="false">No real schema is enforced. (if defined, MongoDB will adhere to it)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022958-l160itu" data-type="NodeList" class="list" id="20220917022958-l160itu" updated="20220917023000"><div data-marker="*" data-subtype="u" data-node-id="20220917023000-0cc5fi1" data-type="NodeListItem" class="li" id="20220917023000-0cc5fi1" updated="20220917023000"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917023000-xa2sqvb" data-type="NodeParagraph" class="p" updated="20220917131850" id="20220917023000-xa2sqvb"><div contenteditable="false" spellcheck="false">You can have different fields in every document if you want to (sacrifice speed querying)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022958-69qzi6t" data-type="NodeList" class="list" id="20220917022958-69qzi6t" updated="20220917022958"><div data-marker="*" data-subtype="u" data-node-id="20220917022958-lf3zklt" data-type="NodeListItem" class="li" id="20220917022958-lf3zklt" updated="20220917022958"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022958-nv8godu" data-type="NodeParagraph" class="p" id="20220917022958-nv8godu" updated="20220917131910"><div contenteditable="false" spellcheck="false">No single “key” as in other databases (auto add on unique ID)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022958-w0rlzov" data-type="NodeList" class="list" id="20220917022958-w0rlzov" updated="20220917022958"><div data-marker="*" data-subtype="u" data-node-id="20220917022958-1qyn9cv" data-type="NodeListItem" class="li" id="20220917022958-1qyn9cv" updated="20220917022958"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022958-xdhm5c6" data-type="NodeParagraph" class="p" id="20220917022958-xdhm5c6" updated="20220917023006"><div contenteditable="false" spellcheck="false">But you can create indices on any fields you want, or even combinations of fields.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917022958-kdgllm9" data-type="NodeListItem" class="li" id="20220917022958-kdgllm9" updated="20220917022958"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022958-539wmaq" data-type="NodeParagraph" class="p" id="20220917022958-539wmaq" updated="20220917023005"><div contenteditable="false" spellcheck="false">If you want to “shard”, then you must do so on some index.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917022958-3vfl10i" data-type="NodeListItem" class="li" id="20220917022958-3vfl10i" updated="20220917022958"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917022958-ld4j01i" data-type="NodeParagraph" class="p" updated="20220917022958" id="20220917022958-ld4j01i"><div contenteditable="false" spellcheck="false">Results in a lot of flexibility</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917022958-suo0oxr" data-type="NodeList" class="list" id="20220917022958-suo0oxr" updated="20220917023009"><div data-marker="*" data-subtype="u" data-node-id="20220917023009-imd2ill" data-type="NodeListItem" class="li" id="20220917023009-imd2ill" updated="20220917023009"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917023009-b7gnari" data-type="NodeParagraph" class="p" id="20220917023009-b7gnari" updated="20220917023009"><div contenteditable="false" spellcheck="false">But with great power comes great responsibility</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132128-5iyq3mx" data-type="NodeListItem" class="li" id="20220917132128-5iyq3mx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132158-hjew2zu" data-type="NodeParagraph" class="p" id="20220917132158-hjew2zu" updated="20220917132201"><div contenteditable="false" spellcheck="false">MongoDB terminology</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917132158-88wdb1y" data-type="NodeList" class="list" id="20220917132158-88wdb1y" updated="20220917132204"><div data-marker="*" data-subtype="u" data-node-id="20220917132204-nw1la1b" data-type="NodeListItem" class="li" id="20220917132204-nw1la1b" updated="20220917132204"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132204-j9hj49i" data-type="NodeParagraph" class="p" updated="20220917132206" id="20220917132204-j9hj49i"><div contenteditable="false" spellcheck="false">Databases</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132206-b79bw9t" data-type="NodeListItem" class="li" id="20220917132206-b79bw9t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132206-agipirk" data-type="NodeParagraph" class="p" updated="20220917132237" id="20220917132206-agipirk"><div contenteditable="false" spellcheck="false">Collections (same level as tables)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132208-uxpmlb6" data-type="NodeListItem" class="li" id="20220917132208-uxpmlb6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132208-0s6w814" data-type="NodeParagraph" class="p" id="20220917132208-0s6w814" updated="20220917132242"><div contenteditable="false" spellcheck="false">Documents (same level as rows)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132400-ycljrzt" data-type="NodeListItem" class="li" id="20220917132400-ycljrzt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132400-pypjyam" data-type="NodeParagraph" class="p" id="20220917132400-pypjyam" updated="20220917132407"><div contenteditable="false" spellcheck="false">MongoDB’s kinda corporate-y</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132410-mcsybka" data-type="NodeListItem" class="li" id="20220917132410-mcsybka"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132410-4h6wzxk" data-type="NodeParagraph" class="p" id="20220917132410-4h6wzxk" updated="20220917132532"><div contenteditable="false" spellcheck="false">Replication Sets (<strong>Prefer consistency over availability</strong>)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917132427-i4a2d0l" data-type="NodeList" class="list" id="20220917132427-i4a2d0l" updated="20220917132430"><div data-marker="*" data-subtype="u" data-node-id="20220917132430-778gw4w" data-type="NodeListItem" class="li" id="20220917132430-778gw4w" updated="20220917132430"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132430-ds6p3w1" data-type="NodeParagraph" class="p" id="20220917132430-ds6p3w1" updated="20220917132430"><div contenteditable="false" spellcheck="false">Single-master!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917132427-7iv2e98" data-type="NodeList" class="list" updated="20220917132432" id="20220917132427-7iv2e98"><div data-marker="*" data-subtype="u" data-node-id="20220917132432-mw5cvj1" data-type="NodeListItem" class="li" id="20220917132432-mw5cvj1" updated="20220917132432"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132432-sd2cq9k" data-type="NodeParagraph" class="p" id="20220917132432-sd2cq9k" updated="20220917132445"><div contenteditable="false" spellcheck="false">Maintains backup copies of your database instance</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917132552-xondttr" data-type="NodeParagraph" class="p" id="20220917132552-xondttr" updated="20220917132553"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 470px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220917132553-zdl631k.png" data-src="assets/image-20220917132553-zdl631k.png" alt="image" style="width: 460px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917132446-6im4rl6" data-type="NodeList" class="list" id="20220917132446-6im4rl6"><div data-marker="*" data-subtype="u" data-node-id="20220917132446-56n043p" data-type="NodeListItem" class="li" id="20220917132446-56n043p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132446-emrwipt" data-type="NodeParagraph" class="p" updated="20220917132449" id="20220917132446-emrwipt"><div contenteditable="false" spellcheck="false">Secondaries can elect a new primary within seconds if your primary goes down</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917132455-rvlmt6q" data-type="NodeListItem" class="li" id="20220917132455-rvlmt6q"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917132455-k26zrzl" data-type="NodeParagraph" class="p" id="20220917132455-k26zrzl" updated="20220917132457"><div contenteditable="false" spellcheck="false">But make sure your operation log is long enough to give you time to recover the primary when it comes back...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917142128-z9vwq9u" data-type="NodeListItem" class="li" id="20220917142128-z9vwq9u"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142139-bga0tug" data-type="NodeParagraph" class="p" id="20220917142139-bga0tug" updated="20220917142139"><div contenteditable="false" spellcheck="false">Replica Set Quirks</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142139-3okebh8" data-type="NodeList" class="list" id="20220917142139-3okebh8" updated="20220917142142"><div data-marker="*" data-subtype="u" data-node-id="20220917142142-ik9r52o" data-type="NodeListItem" class="li" id="20220917142142-ik9r52o" updated="20220917142142"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142142-kw8e7w1" data-type="NodeParagraph" class="p" id="20220917142142-kw8e7w1" updated="20220917142142"><div contenteditable="false" spellcheck="false">A majority of the servers in your set must agree on the primary</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142210-fqm9xhf" data-type="NodeList" class="list" id="20220917142210-fqm9xhf"><div data-marker="*" data-subtype="u" data-node-id="20220917142209-7mdhc6y" data-type="NodeListItem" class="li" id="20220917142209-7mdhc6y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142209-9c6jsjl" data-type="NodeParagraph" class="p" id="20220917142209-9c6jsjl" updated="20220917142210"><div contenteditable="false" spellcheck="false">Even numbers of servers (like 2) don’t work well</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917142219-hak1p0e" data-type="NodeListItem" class="li" id="20220917142219-hak1p0e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142219-sekuoyw" data-type="NodeParagraph" class="p" id="20220917142219-sekuoyw" updated="20220917142220"><div contenteditable="false" spellcheck="false">Don’t want to spend money on 3 servers? You can set up an ‘arbiter’ node</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142228-8nmq1o6" data-type="NodeList" class="list" id="20220917142228-8nmq1o6"><div data-marker="*" data-subtype="u" data-node-id="20220917142228-zaimswr" data-type="NodeListItem" class="li" id="20220917142228-zaimswr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142228-89stba2" data-type="NodeParagraph" class="p" id="20220917142228-89stba2"><div contenteditable="false" spellcheck="false">But only one</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142139-yz47nka" data-type="NodeList" class="list" updated="20220917142238" id="20220917142139-yz47nka"><div data-marker="*" data-subtype="u" data-node-id="20220917142238-qc0en02" data-type="NodeListItem" class="li" id="20220917142238-qc0en02" updated="20220917142238"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142238-ymal1ej" data-type="NodeParagraph" class="p" id="20220917142238-ymal1ej" updated="20220917142249"><div contenteditable="false" spellcheck="false">Apps must know about enough servers in the replica set to be able to reach one to learn who’s primary</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917142257-wv39zse" data-type="NodeListItem" class="li" id="20220917142257-wv39zse"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142257-n86ku5o" data-type="NodeParagraph" class="p" id="20220917142257-n86ku5o"><div contenteditable="false" spellcheck="false">Replicas only address durability, not your ability to scale</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142304-348o3ci" data-type="NodeList" class="list" id="20220917142304-348o3ci"><div data-marker="*" data-subtype="u" data-node-id="20220917142303-fglp17d" data-type="NodeListItem" class="li" id="20220917142303-fglp17d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142303-n8ovhl0" data-type="NodeParagraph" class="p" updated="20220917142308" id="20220917142303-n8ovhl0"><div contenteditable="false" spellcheck="false">Well, unless you can take advantage of reading from secondaries – which generally isn’t recommended</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917142313-4xzaesr" data-type="NodeListItem" class="li" id="20220917142313-4xzaesr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142313-yc0lsb5" data-type="NodeParagraph" class="p" id="20220917142313-yc0lsb5" updated="20220917142316"><div contenteditable="false" spellcheck="false">And your DB will still go into read-only mode for a bit while a new primary is elected</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142139-d66xlgc" data-type="NodeList" class="list" updated="20220917142319" id="20220917142139-d66xlgc"><div data-marker="*" data-subtype="u" data-node-id="20220917142319-kko4gqg" data-type="NodeListItem" class="li" updated="20220917142319" id="20220917142319-kko4gqg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142319-bpqqkao" data-type="NodeParagraph" class="p" updated="20220917142319" id="20220917142319-bpqqkao"><div contenteditable="false" spellcheck="false">Delayed secondaries can be set up as insurance against people doing dumb things</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917142146-0g00pv6" data-type="NodeListItem" class="li" id="20220917142146-0g00pv6" updated="20220917142146"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142819-t7jltz6" data-type="NodeParagraph" class="p" id="20220917142819-t7jltz6" updated="20220917142819"><div contenteditable="false" spellcheck="false">Sharding</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917142844-svndgt1" data-type="NodeParagraph" class="p" id="20220917142844-svndgt1" updated="20220917142846"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220917142846-6qrg5km.png" data-src="assets/image-20220917142846-6qrg5km.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142819-7z8fqbi" data-type="NodeList" class="list" id="20220917142819-7z8fqbi" updated="20220917142821"><div data-marker="*" data-subtype="u" data-node-id="20220917142821-4f7u093" data-type="NodeListItem" class="li" updated="20220917142821" id="20220917142821-4f7u093"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142821-356y8xt" data-type="NodeParagraph" class="p" id="20220917142821-356y8xt" updated="20220917142821"><div contenteditable="false" spellcheck="false">Finally – “big data”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917142819-10l1457" data-type="NodeList" class="list" id="20220917142819-10l1457" updated="20220917142819"><div data-marker="*" data-subtype="u" data-node-id="20220917142819-7g75zzt" data-type="NodeListItem" class="li" id="20220917142819-7g75zzt" updated="20220917142819"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917142819-wyz2x5p" data-type="NodeParagraph" class="p" id="20220917142819-wyz2x5p" updated="20220917142819"><div contenteditable="false" spellcheck="false">Ranges of some indexed value you specify are assigned to different replica sets</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143116-6he0mzt" data-type="NodeListItem" class="li" id="20220917143116-6he0mzt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143121-hek9qv0" data-type="NodeParagraph" class="p" id="20220917143121-hek9qv0" updated="20220917143121"><div contenteditable="false" spellcheck="false">Sharding Quirks</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143121-3zybtaz" data-type="NodeList" class="list" updated="20220917143124" id="20220917143121-3zybtaz"><div data-marker="*" data-subtype="u" data-node-id="20220917143124-qrr1ndj" data-type="NodeListItem" class="li" updated="20220917143124" id="20220917143124-qrr1ndj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143124-b8sfpw8" data-type="NodeParagraph" class="p" id="20220917143124-b8sfpw8" updated="20220917143124"><div contenteditable="false" spellcheck="false">Auto-sharding sometimes doesn’t work</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143150-0e8xpdl" data-type="NodeList" class="list" id="20220917143150-0e8xpdl"><div data-marker="*" data-subtype="u" data-node-id="20220917143127-yptd2sg" data-type="NodeListItem" class="li" id="20220917143127-yptd2sg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143127-vggkch6" data-type="NodeParagraph" class="p" id="20220917143127-vggkch6"><div contenteditable="false" spellcheck="false">Split storms, mongos processes restarted too often</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143121-jsvv8f2" data-type="NodeList" class="list" id="20220917143121-jsvv8f2" updated="20220917143153"><div data-marker="*" data-subtype="u" data-node-id="20220917143153-524vwzr" data-type="NodeListItem" class="li" updated="20220917143153" id="20220917143153-524vwzr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143153-4qyku84" data-type="NodeParagraph" class="p" id="20220917143153-4qyku84" updated="20220917143428"><div contenteditable="false" spellcheck="false">You must have 3 config servers (MongoDB &lt; 3.2)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143158-4vrrjrv" data-type="NodeList" class="list" id="20220917143158-4vrrjrv"><div data-marker="*" data-subtype="u" data-node-id="20220917143158-pqbcgpb" data-type="NodeListItem" class="li" id="20220917143158-pqbcgpb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143158-lu0yla5" data-type="NodeParagraph" class="p" id="20220917143158-lu0yla5"><div contenteditable="false" spellcheck="false">And if any one goes down, your DB is down</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143204-0p0uwlz" data-type="NodeListItem" class="li" id="20220917143204-0p0uwlz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143204-ym2ro5e" data-type="NodeParagraph" class="p" id="20220917143204-ym2ro5e"><div contenteditable="false" spellcheck="false">This is on top of the single-master design of replica sets</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143429-vf6ohqh" data-type="NodeListItem" class="li" id="20220917143429-vf6ohqh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143429-hj1ap5o" data-type="NodeParagraph" class="p" id="20220917143429-hj1ap5o" updated="20220917143508"><div contenteditable="false" spellcheck="false">In Current versions config servers are part of replica set, it just has to have a primary</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143121-2v840mu" data-type="NodeList" class="list" id="20220917143121-2v840mu" updated="20220917143121"><div data-marker="*" data-subtype="u" data-node-id="20220917143121-6o0e4va" data-type="NodeListItem" class="li" id="20220917143121-6o0e4va" updated="20220917143121"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143121-gbiqkje" data-type="NodeParagraph" class="p" id="20220917143121-gbiqkje" updated="20220917143121"><div contenteditable="false" spellcheck="false">MongoDB’s loose document model can be at odds with effective sharding</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143613-k8sgkxe" data-type="NodeListItem" class="li" id="20220917143613-k8sgkxe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-g38lybq" data-type="NodeParagraph" class="p" id="20220917143614-g38lybq" updated="20220917143614"><div contenteditable="false" spellcheck="false">Neat Things About MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143614-hbc8l6s" data-type="NodeList" class="list" id="20220917143614-hbc8l6s" updated="20220917143623"><div data-marker="*" data-subtype="u" data-node-id="20220917143623-n5s08nb" data-type="NodeListItem" class="li" id="20220917143623-n5s08nb" updated="20220917143623"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143623-9r7mcnh" data-type="NodeParagraph" class="p" id="20220917143623-9r7mcnh" updated="20220917143623"><div contenteditable="false" spellcheck="false">It’s not just a NoSQL database – very flexible document model</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143614-mh1x7xu" data-type="NodeList" class="list" id="20220917143614-mh1x7xu" updated="20220917143614"><div data-marker="*" data-subtype="u" data-node-id="20220917143614-bgwrpuc" data-type="NodeListItem" class="li" id="20220917143614-bgwrpuc" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-r0c0jv4" data-type="NodeParagraph" class="p" id="20220917143614-r0c0jv4" updated="20220917143614"><div contenteditable="false" spellcheck="false">Shell is a full JavaScript interpreter</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-y1g7t34" data-type="NodeListItem" class="li" id="20220917143614-y1g7t34" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-fvd0wu7" data-type="NodeParagraph" class="p" id="20220917143614-fvd0wu7" updated="20220917143614"><div contenteditable="false" spellcheck="false">Supports many indices</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143614-7vgh3ed" data-type="NodeList" class="list" id="20220917143614-7vgh3ed" updated="20220917143614"><div data-marker="*" data-subtype="u" data-node-id="20220917143614-kwddohp" data-type="NodeListItem" class="li" id="20220917143614-kwddohp" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-72fx2qa" data-type="NodeParagraph" class="p" id="20220917143614-72fx2qa" updated="20220917143627"><div contenteditable="false" spellcheck="false">But only one can be used for sharding</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-301xk0m" data-type="NodeListItem" class="li" id="20220917143614-301xk0m" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-58wbfp8" data-type="NodeParagraph" class="p" id="20220917143614-58wbfp8" updated="20220917143630"><div contenteditable="false" spellcheck="false">More than 2-3 are still discouraged</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-e9m981b" data-type="NodeListItem" class="li" id="20220917143614-e9m981b" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-k6q2wrc" data-type="NodeParagraph" class="p" id="20220917143614-k6q2wrc" updated="20220917143632"><div contenteditable="false" spellcheck="false">Full-text indices for text searches</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-u34nymn" data-type="NodeListItem" class="li" id="20220917143614-u34nymn" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-vcq6so1" data-type="NodeParagraph" class="p" updated="20220917143717" id="20220917143614-vcq6so1"><div contenteditable="false" spellcheck="false">Spatial indices (latitudes and longtitudes)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-2dnz76i" data-type="NodeListItem" class="li" id="20220917143614-2dnz76i" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-uek08kd" data-type="NodeParagraph" class="p" updated="20220917143614" id="20220917143614-uek08kd"><div contenteditable="false" spellcheck="false">Built-in aggregation capabilities, MapReduce, GridFS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917143614-yoszvkq" data-type="NodeList" class="list" updated="20220917143614" id="20220917143614-yoszvkq"><div data-marker="*" data-subtype="u" data-node-id="20220917143614-z0sv843" data-type="NodeListItem" class="li" id="20220917143614-z0sv843" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-uc0gpcj" data-type="NodeParagraph" class="p" id="20220917143614-uc0gpcj" updated="20220917143649"><div contenteditable="false" spellcheck="false">For some applications you might not need Hadoop at all</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-j7w5t6o" data-type="NodeListItem" class="li" id="20220917143614-j7w5t6o" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-gzylerw" data-type="NodeParagraph" class="p" id="20220917143614-gzylerw" updated="20220917143651"><div contenteditable="false" spellcheck="false">But MongoDB still integrates with Hadoop, Spark, and most languages</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917143614-qp2njac" data-type="NodeListItem" class="li" id="20220917143614-qp2njac" updated="20220917143614"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917143614-fjeayy0" data-type="NodeParagraph" class="p" id="20220917143614-fjeayy0" updated="20220917143614"><div contenteditable="false" spellcheck="false">A SQL connector is available</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917143614-yt1vozq" data-type="NodeParagraph" class="p" id="20220917143614-yt1vozq" updated="20220917143614"><div contenteditable="false" spellcheck="false">– But MongoDB still isn’t designed for joins and normalized data really.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220917144505-x6wydkf" data-type="NodeListItem" class="li" id="20220917144505-x6wydkf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917144505-31mdcy8" data-type="NodeParagraph" class="p" updated="20220917144510" id="20220917144505-31mdcy8"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917144539-zdnrzzl" data-type="NodeList" class="list" id="20220917144539-zdnrzzl" updated="20220917144539"><div data-marker="*" data-subtype="u" data-node-id="20220917144539-q4xpuea" data-type="NodeListItem" class="li" updated="20220917144539" id="20220917144539-q4xpuea"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917144539-ea40pan" data-type="NodeParagraph" class="p" id="20220917144539-ea40pan" updated="20220917144539"><div contenteditable="false" spellcheck="false">integrate MongoDB with Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917144519-3esgmze" data-type="NodeCodeBlock" class="code-block" id="20220917144519-3esgmze" updated="20220917145531"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# cd /var/lib/ambari-server/resources/stacks
[root@sandbox-hdp stacks]# ls
BigInsights  service_advisor.py   service_advisor.pyo  stack_advisor.pyc
HDP          service_advisor.pyc  stack_advisor.py     stack_advisor.pyo
[root@sandbox-hdp stacks]# cd HDP/
[root@sandbox-hdp HDP]# ls
2.0  2.0.6  2.0.6.GlusterFS  2.1  2.1.GlusterFS  2.2  2.3  2.3.ECS  2.3.GlusterFS  2.4  2.5  2.6
[root@sandbox-hdp HDP]# cd 2.6
[root@sandbox-hdp 2.6]# cd services
[root@sandbox-hdp services]# pwd
/var/lib/ambari-server/resources/stacks/HDP/2.6/services
[root@sandbox-hdp services]# git clone https://github.com/nikunjness/mongo-ambari.git
Cloning into 'mongo-ambari'...
remote: Enumerating objects: 121, done.
remote: Total 121 (delta 0), reused 0 (delta 0), pack-reused 121
Receiving objects: 100% (121/121), 615.88 KiB | 0 bytes/s, done.
Resolving deltas: 100% (35/35), done.

[root@sandbox-hdp services]# sudo service ambari-server restart
Using python  /usr/bin/python
Restarting ambari-server
Waiting for server stop...
Ambari Server stopped
Ambari Server running with administrator privileges.
Organizing resource files at /var/lib/ambari-server/resources...
Ambari database consistency check started...
Server PID at: /var/run/ambari-server/ambari-server.pid
Server out at: /var/log/ambari-server/ambari-server.out
Server log at: /var/log/ambari-server/ambari-server.log
Waiting for server start............................................
Server started listening on 8080

DB configs consistency check: no errors and warnings were found.
[root@sandbox-hdp services]# sudo service ambari-agent restart
Restarting ambari-agent
Verifying Python version compatibility...
Using python  /usr/bin/python
Found ambari-agent PID: 370
Stopping ambari-agent
Removing PID file at /run/ambari-agent/ambari-agent.pid
ambari-agent successfully stopped
Verifying Python version compatibility...
Using python  /usr/bin/python
Checking for previously running Ambari Agent...
Checking ambari-common dir...
Starting ambari-agent
Verifying ambari-agent process status...
Ambari Agent successfully started
Agent PID at: /run/ambari-agent/ambari-agent.pid
Agent out at: /var/log/ambari-agent/ambari-agent.out
Agent log at: /var/log/ambari-agent/ambari-agent.log

[root@sandbox-hdp services]# pip install pymongo==3.4.0
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220917144603-zeg92cr" data-type="NodeList" class="list" id="20220917144603-zeg92cr" updated="20220917144603"><div data-marker="*" data-subtype="u" data-node-id="20220917144603-n8986hx" data-type="NodeListItem" class="li" updated="20220917144603" id="20220917144603-n8986hx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220917144603-gzpjcmm" data-type="NodeParagraph" class="p" id="20220917144603-gzpjcmm" updated="20220917144603"><div contenteditable="false" spellcheck="false">play around with the resulting database in the mongo shell</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917164109-n0qotf6" data-type="NodeCodeBlock" class="code-block" id="20220917164109-n0qotf6" updated="20220917164121"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">from pyspark.sql import SparkSession
from pyspark.sql import Row
from pyspark.sql import functions

def parseInput(line):
    fields = line.split('|')
    return Row(user_id = int(fields[0]), age = int(fields[1]), gender = fields[2], occupation = fields[3], zip = fields[4])

if __name__ == &quot;__main__&quot;:
    # Create a SparkSession
    spark = SparkSession.builder.appName(&quot;MongoDBIntegration&quot;).getOrCreate()

    # Get the raw data
    lines = spark.sparkContext.textFile(&quot;hdfs:///user/maria_dev/ml-100k/u.user&quot;)
    # Convert it to a RDD of Row objects with (userID, age, gender, occupation, zip)
    users = lines.map(parseInput)
    # Convert that to a DataFrame
    usersDataset = spark.createDataFrame(users)

    # Write it into MongoDB
    usersDataset.write\
        .format(&quot;com.mongodb.spark.sql.DefaultSource&quot;)\
        .option(&quot;uri&quot;,&quot;mongodb://127.0.0.1/movielens.users&quot;)\
        .mode('append')\
        .save()

    # Read it back from MongoDB into a new Dataframe
    readUsers = spark.read\
    .format(&quot;com.mongodb.spark.sql.DefaultSource&quot;)\
    .option(&quot;uri&quot;,&quot;mongodb://127.0.0.1/movielens.users&quot;)\
    .load()

    readUsers.createOrReplaceTempView(&quot;users&quot;)

    sqlDF = spark.sql(&quot;SELECT * FROM users WHERE age &lt; 20&quot;)
    sqlDF.show()

    # Stop the session
    spark.stop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220917164102-z15yux1" data-type="NodeCodeBlock" class="code-block" id="20220917164102-z15yux1" updated="20220918023637"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/MongoSpark.py
[maria_dev@sandbox-hdp ~]$ export SPARK_MAJOR_VERSION=2
[maria_dev@sandbox-hdp ~]$ spark-submit --packages org.mongodb.spark:mongo-spark-connector_2.11:2.3.3 MongoSpark.py 
SPARK_MAJOR_VERSION is set to 2, using Spark2
...
	:: modules in use:
	org.mongodb#mongo-java-driver;3.10.2 from central in [default]
	org.mongodb.spark#mongo-spark-connector_2.11;2.3.3 from central in [default]
	---------------------------------------------------------------------
	|                  |            modules            ||   artifacts   |
	|       conf       | number| search|dwnlded|evicted|| number|dwnlded|
	---------------------------------------------------------------------
	|      default     |   2   |   2   |   2   |   0   ||   2   |   2   |
	---------------------------------------------------------------------
22/09/17 06:17:57 INFO DAGScheduler: Job 3 finished: showString at NativeMethodAccessorImpl.java:0, took 0.067224 s
+--------------------+---+------+-------------+-------+-----+
|                 _id|age|gender|   occupation|user_id|  zip|
+--------------------+---+------+-------------+-------+-----+
|[63256691a77df07d...|  7|     M|      student|     30|55436|
|[63256691a77df07d...| 19|     F|      student|     36|93117|
|[63256691a77df07d...| 18|     F|      student|     52|55105|
|[63256691a77df07d...| 16|     M|         none|     57|84010|
|[63256691a77df07d...| 17|     M|      student|     67|60402|
|[63256691a77df07d...| 19|     M|      student|     68|22904|
|[63256691a77df07d...| 15|     M|      student|    101|05146|
|[63256691a77df07d...| 19|     M|      student|    110|77840|
|[63256691a77df07d...| 13|     M|        other|    142|48118|
|[63256691a77df07d...| 15|     M|entertainment|    179|20755|
|[63256691a77df07d...| 14|     F|      student|    206|53115|
|[63256691a77df07d...| 19|     M|      student|    221|20685|
|[63256691a77df07d...| 19|     F|      student|    223|47906|
|[63256691a77df07d...| 19|     M|      student|    246|28734|
|[63256691a77df07d...| 17|     M|      student|    257|77005|
|[63256691a77df07d...| 19|     F|      student|    258|77801|
|[63256691a77df07d...| 19|     F|      student|    262|78264|
|[63256691a77df07d...| 18|     F|      student|    270|63119|
|[63256691a77df07d...| 15|     F|      student|    281|06059|
|[63256691a77df07d...| 11|     M|         none|    289|94619|
+--------------------+---+------+-------------+-------+-----+
only showing top 20 rows



# using MongoDB Shell

[maria_dev@sandbox-hdp ~]$ export LC_ALL=C
[maria_dev@sandbox-hdp ~]$ mongo
MongoDB shell version: 3.2.22
connecting to: test
Welcome to the MongoDB shell.
For interactive help, type &quot;help&quot;.
For more comprehensive documentation, see
	http://docs.mongodb.org/
Questions? Try the support group
	http://groups.google.com/group/mongodb-user
Server has startup warnings: 
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] 
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] 
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] ** WARNING: soft rlimits too low. rlimits set to 4096 processes, 64000 files. Number of processes should be at least 32000 : 0.5 times number of files.
2022-09-17T06:05:25.905+0000 I CONTROL  [initandlisten] 
&gt; use movielens
switched to db movielens

&gt; db.users.find( {user_id: 100} )
{ &quot;_id&quot; : ObjectId(&quot;63256691a77df07de9446051&quot;), &quot;age&quot; : NumberLong(36), &quot;gender&quot; : &quot;M&quot;, &quot;occupation&quot; : &quot;executive&quot;, &quot;user_id&quot; : NumberLong(100), &quot;zip&quot; : &quot;90254&quot; }

## to explain what is under the hood
&gt; db.users.find( {user_id: 100} )
{ &quot;_id&quot; : ObjectId(&quot;63256691a77df07de9446051&quot;), &quot;age&quot; : NumberLong(36), &quot;gender&quot; : &quot;M&quot;, &quot;occupation&quot; : &quot;executive&quot;, &quot;user_id&quot; : NumberLong(100), &quot;zip&quot; : &quot;90254&quot; }

# full scan on whole DB and find out user_id 100
&gt; db.users.explain().find( {user_id: 100} )
{
	&quot;queryPlanner&quot; : {
		&quot;plannerVersion&quot; : 1,
		&quot;namespace&quot; : &quot;movielens.users&quot;,
		&quot;indexFilterSet&quot; : false,
		&quot;parsedQuery&quot; : {
			&quot;user_id&quot; : {
				&quot;$eq&quot; : 100
			}
		},
		&quot;winningPlan&quot; : {
			&quot;stage&quot; : &quot;COLLSCAN&quot;,
			&quot;filter&quot; : {
				&quot;user_id&quot; : {
					&quot;$eq&quot; : 100
				}
			},
			&quot;direction&quot; : &quot;forward&quot;
		},
		&quot;rejectedPlans&quot; : [ ]
	},
	&quot;serverInfo&quot; : {
		&quot;host&quot; : &quot;sandbox-hdp.hortonworks.com&quot;,
		&quot;port&quot; : 27017,
		&quot;version&quot; : &quot;3.2.22&quot;,
		&quot;gitVersion&quot; : &quot;105acca0d443f9a47c1a5bd608fd7133840a58dd&quot;
	},
	&quot;ok&quot; : 1
}


# to add on index, 1 means ascending 
&gt; db.users.createIndex( {user_id: 1} )
{
	&quot;createdCollectionAutomatically&quot; : false,
	&quot;numIndexesBefore&quot; : 1,
	&quot;numIndexesAfter&quot; : 2,
	&quot;ok&quot; : 1
}

# instead of COLLSCAN, it uses IXSCAN (index)
&gt; db.users.explain().find( {user_id: 100} )
{
	&quot;queryPlanner&quot; : {
		&quot;plannerVersion&quot; : 1,
		&quot;namespace&quot; : &quot;movielens.users&quot;,
		&quot;indexFilterSet&quot; : false,
		&quot;parsedQuery&quot; : {
			&quot;user_id&quot; : {
				&quot;$eq&quot; : 100
			}
		},
		&quot;winningPlan&quot; : {
			&quot;stage&quot; : &quot;FETCH&quot;,
			&quot;inputStage&quot; : {
				&quot;stage&quot; : &quot;IXSCAN&quot;,
				&quot;keyPattern&quot; : {
					&quot;user_id&quot; : 1
				},
				&quot;indexName&quot; : &quot;user_id_1&quot;,
				&quot;isMultiKey&quot; : false,
				&quot;isUnique&quot; : false,
				&quot;isSparse&quot; : false,
				&quot;isPartial&quot; : false,
				&quot;indexVersion&quot; : 1,
				&quot;direction&quot; : &quot;forward&quot;,
				&quot;indexBounds&quot; : {
					&quot;user_id&quot; : [
						&quot;[100.0, 100.0]&quot;
					]
				}
			}
		},
		&quot;rejectedPlans&quot; : [ ]
	},
	&quot;serverInfo&quot; : {
		&quot;host&quot; : &quot;sandbox-hdp.hortonworks.com&quot;,
		&quot;port&quot; : 27017,
		&quot;version&quot; : &quot;3.2.22&quot;,
		&quot;gitVersion&quot; : &quot;105acca0d443f9a47c1a5bd608fd7133840a58dd&quot;
	},
	&quot;ok&quot; : 1
}



&gt; db.users.aggregate( [
... { $group: { _id: { occupation: &quot;$occupation&quot;}, avgAge: { $avg: &quot;$age&quot; } } }
... ] )
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;doctor&quot; }, &quot;avgAge&quot; : 43.57142857142857 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;healthcare&quot; }, &quot;avgAge&quot; : 41.5625 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;none&quot; }, &quot;avgAge&quot; : 26.555555555555557 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;engineer&quot; }, &quot;avgAge&quot; : 36.38805970149254 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;homemaker&quot; }, &quot;avgAge&quot; : 32.57142857142857 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;marketing&quot; }, &quot;avgAge&quot; : 37.61538461538461 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;artist&quot; }, &quot;avgAge&quot; : 31.392857142857142 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;librarian&quot; }, &quot;avgAge&quot; : 40 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;entertainment&quot; }, &quot;avgAge&quot; : 29.22222222222222 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;scientist&quot; }, &quot;avgAge&quot; : 35.54838709677419 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;salesman&quot; }, &quot;avgAge&quot; : 35.666666666666664 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;educator&quot; }, &quot;avgAge&quot; : 42.01052631578948 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;lawyer&quot; }, &quot;avgAge&quot; : 36.75 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;student&quot; }, &quot;avgAge&quot; : 22.081632653061224 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;programmer&quot; }, &quot;avgAge&quot; : 33.121212121212125 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;administrator&quot; }, &quot;avgAge&quot; : 38.74683544303797 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;writer&quot; }, &quot;avgAge&quot; : 36.31111111111111 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;retired&quot; }, &quot;avgAge&quot; : 63.07142857142857 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;executive&quot; }, &quot;avgAge&quot; : 38.71875 }
{ &quot;_id&quot; : { &quot;occupation&quot; : &quot;other&quot; }, &quot;avgAge&quot; : 34.523809523809526 }
Type &quot;it&quot; for more

&gt; db.users.count()
943
&gt; db.getCollectionInfos()
[ { &quot;name&quot; : &quot;users&quot;, &quot;options&quot; : { } } ]
&gt; db.users.drop()

</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918024011-sx1lfyx" data-type="NodeListItem" class="li" id="20220918024011-sx1lfyx" updated="20220918031841"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024011-9qvp2mt" data-type="NodeParagraph" class="p" id="20220918024011-9qvp2mt" updated="20220918024020"><div contenteditable="false" spellcheck="false">Choosing a database technology</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918031826-qswyd6m" data-type="NodeParagraph" class="p" id="20220918031826-qswyd6m" updated="20220918031827"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 488px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220916114254-hrp7vji.png" data-src="assets/image-20220916114254-hrp7vji.png" alt="image" style="width: 478px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918024021-hrcspgq" data-type="NodeList" class="list" id="20220918024021-hrcspgq" updated="20220918031841"><div data-marker="*" data-subtype="u" data-node-id="20220918031121-gtaxdxl" data-type="NodeListItem" class="li" id="20220918031121-gtaxdxl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031121-xjserl3" data-type="NodeParagraph" class="p" updated="20220918031126" id="20220918031121-xjserl3"><div contenteditable="false" spellcheck="false">Factors</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031128-h6kfy3i" data-type="NodeList" class="list" id="20220918031128-h6kfy3i"><div data-marker="*" data-subtype="u" data-node-id="20220918024021-nqkh69a" data-type="NodeListItem" class="li" id="20220918024021-nqkh69a"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024021-abau2rq" data-type="NodeParagraph" class="p" id="20220918024021-abau2rq" updated="20220918024028"><div contenteditable="false" spellcheck="false">Integration considerations</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918024302-xjlr2sp" data-type="NodeListItem" class="li" id="20220918024302-xjlr2sp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024302-0gqrj6a" data-type="NodeParagraph" class="p" id="20220918024302-0gqrj6a" updated="20220918024307"><div contenteditable="false" spellcheck="false">Scaling requirements</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918024412-49pvdqc" data-type="NodeListItem" class="li" id="20220918024412-49pvdqc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024412-c7uq0ug" data-type="NodeParagraph" class="p" updated="20220918024419" id="20220918024412-c7uq0ug"><div contenteditable="false" spellcheck="false">Support considerations</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918024526-kig7kqg" data-type="NodeListItem" class="li" id="20220918024526-kig7kqg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024526-ihfkbw3" data-type="NodeParagraph" class="p" id="20220918024526-ihfkbw3" updated="20220918024531"><div contenteditable="false" spellcheck="false">Budget considerations</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918024606-k2svrop" data-type="NodeListItem" class="li" id="20220918024606-k2svrop"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918024606-6juazsg" data-type="NodeParagraph" class="p" id="20220918024606-6juazsg" updated="20220918024608"><div contenteditable="false" spellcheck="false">CAP considerations</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031114-cgfq2db" data-type="NodeListItem" class="li" id="20220918031114-cgfq2db" updated="20220918031841"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031114-71h3vv8" data-type="NodeParagraph" class="p" id="20220918031114-71h3vv8" updated="20220918031134"><div contenteditable="false" spellcheck="false">Examples</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031136-4id2jpc" data-type="NodeList" class="list" id="20220918031136-4id2jpc" updated="20220918031841"><div data-marker="*" data-subtype="u" data-node-id="20220918031134-n41it3k" data-type="NodeListItem" class="li" id="20220918031134-n41it3k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031136-8zouf7c" data-type="NodeParagraph" class="p" id="20220918031136-8zouf7c" updated="20220918031139"><div contenteditable="false" spellcheck="false">You’re building an internal phone directory app</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031136-kbubpgn" data-type="NodeList" class="list" id="20220918031136-kbubpgn" updated="20220918031144"><div data-marker="*" data-subtype="u" data-node-id="20220918031144-bbkndy1" data-type="NodeListItem" class="li" id="20220918031144-bbkndy1" updated="20220918031144"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031144-q1shppx" data-type="NodeParagraph" class="p" id="20220918031144-q1shppx" updated="20220918031144"><div contenteditable="false" spellcheck="false">Scale: limited</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031136-c7xoj9x" data-type="NodeList" class="list" id="20220918031136-c7xoj9x" updated="20220918031136"><div data-marker="*" data-subtype="u" data-node-id="20220918031136-yrj9uwh" data-type="NodeListItem" class="li" id="20220918031136-yrj9uwh" updated="20220918031136"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031136-6zl4axe" data-type="NodeParagraph" class="p" id="20220918031136-6zl4axe" updated="20220918031146"><div contenteditable="false" spellcheck="false">Consistency: Eventual is fine</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031136-so08vec" data-type="NodeListItem" class="li" id="20220918031136-so08vec" updated="20220918031136"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031136-mz22nyx" data-type="NodeParagraph" class="p" id="20220918031136-mz22nyx" updated="20220918031149"><div contenteditable="false" spellcheck="false">Availability requirements: not mission critical</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031136-xyc9v9x" data-type="NodeListItem" class="li" id="20220918031136-xyc9v9x" updated="20220918031136"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031136-0dn6xwt" data-type="NodeParagraph" class="p" id="20220918031136-0dn6xwt" updated="20220918031151"><div contenteditable="false" spellcheck="false">MySQL is probably already installed on your web server...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031441-fkxejx5" data-type="NodeListItem" class="li" id="20220918031441-fkxejx5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031441-irt68bv" data-type="NodeParagraph" class="p" id="20220918031441-irt68bv" updated="20220918031447"><div contenteditable="false" spellcheck="false"><strong>MySQL</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031317-2s85bbs" data-type="NodeListItem" class="li" id="20220918031317-2s85bbs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031318-fdoa5se" data-type="NodeParagraph" class="p" id="20220918031318-fdoa5se" updated="20220918031318"><div contenteditable="false" spellcheck="false">You want to mine web server logs for interesting patterns</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031318-b8eghcu" data-type="NodeList" class="list" updated="20220918031318" id="20220918031318-b8eghcu"><div data-marker="*" data-subtype="u" data-node-id="20220918031318-bq4c8ut" data-type="NodeListItem" class="li" id="20220918031318-bq4c8ut" updated="20220918031318"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031318-i5mrk15" data-type="NodeParagraph" class="p" id="20220918031318-i5mrk15" updated="20220918031326"><div contenteditable="false" spellcheck="false">What are the most popular times of day? What’s the average session length? Etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031448-udbh8p6" data-type="NodeListItem" class="li" id="20220918031448-udbh8p6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031448-6em314r" data-type="NodeParagraph" class="p" id="20220918031448-6em314r" updated="20220918031558"><div contenteditable="false" spellcheck="false"><strong>None of the above, can just use Hive/Spark on Hadoop</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031507-g145flu" data-type="NodeListItem" class="li" id="20220918031507-g145flu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-lo8ntc1" data-type="NodeParagraph" class="p" id="20220918031515-lo8ntc1" updated="20220918031520"><div contenteditable="false" spellcheck="false">You have a big Spark job that produces movie recommendations for end users nightly</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031515-y9mqoyf" data-type="NodeList" class="list" id="20220918031515-y9mqoyf" updated="20220918031515"><div data-marker="*" data-subtype="u" data-node-id="20220918031515-cwxxxn0" data-type="NodeListItem" class="li" id="20220918031515-cwxxxn0" updated="20220918031515"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-755f7st" data-type="NodeParagraph" class="p" id="20220918031515-755f7st" updated="20220918031515"><div contenteditable="false" spellcheck="false">Something needs to vend this data to your web applications</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031515-iftsm7q" data-type="NodeListItem" class="li" id="20220918031515-iftsm7q" updated="20220918031515"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-wnv2zw5" data-type="NodeParagraph" class="p" id="20220918031515-wnv2zw5" updated="20220918031515"><div contenteditable="false" spellcheck="false">You work for some huge company with massive scale</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031515-erj34a8" data-type="NodeListItem" class="li" id="20220918031515-erj34a8" updated="20220918031515"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-4pebiy1" data-type="NodeParagraph" class="p" id="20220918031515-4pebiy1" updated="20220918031639"><div contenteditable="false" spellcheck="false">Downtime is not tolerated (availability)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031515-wa2hwqa" data-type="NodeListItem" class="li" id="20220918031515-wa2hwqa" updated="20220918031515"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-lkkz668" data-type="NodeParagraph" class="p" id="20220918031515-lkkz668" updated="20220918031515"><div contenteditable="false" spellcheck="false">Must be fast</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031515-fq53i2w" data-type="NodeListItem" class="li" id="20220918031515-fq53i2w" updated="20220918031515"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031515-s9j0sdf" data-type="NodeParagraph" class="p" id="20220918031515-s9j0sdf" updated="20220918031515"><div contenteditable="false" spellcheck="false">Eventual consistency OK – it’s just reads</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031614-yu7632w" data-type="NodeListItem" class="li" id="20220918031614-yu7632w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031614-a1yepwq" data-type="NodeParagraph" class="p" updated="20220918031620" id="20220918031614-a1yepwq"><div contenteditable="false" spellcheck="false"><strong>Cassandra</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031721-krp08bh" data-type="NodeListItem" class="li" id="20220918031721-krp08bh" updated="20220918031841"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031722-mgt4td2" data-type="NodeParagraph" class="p" id="20220918031722-mgt4td2" updated="20220918031722"><div contenteditable="false" spellcheck="false">You’re building a massive stock trading system</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918031722-0m46z5g" data-type="NodeList" class="list" updated="20220918031841" id="20220918031722-0m46z5g"><div data-marker="*" data-subtype="u" data-node-id="20220918031722-lqfcny0" data-type="NodeListItem" class="li" updated="20220918031722" id="20220918031722-lqfcny0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031722-ezptlnr" data-type="NodeParagraph" class="p" id="20220918031722-ezptlnr" updated="20220918031722"><div contenteditable="false" spellcheck="false">Consistency is more important than anything</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031722-58fu6sn" data-type="NodeListItem" class="li" id="20220918031722-58fu6sn" updated="20220918031722"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031722-1114pi3" data-type="NodeParagraph" class="p" id="20220918031722-1114pi3" updated="20220918031722"><div contenteditable="false" spellcheck="false">“Big data” is present</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031722-1t790ce" data-type="NodeListItem" class="li" id="20220918031722-1t790ce" updated="20220918031722"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031722-e2s8694" data-type="NodeParagraph" class="p" id="20220918031722-e2s8694" updated="20220918031738"><div contenteditable="false" spellcheck="false">It’s really, really important – so having access to professional support might be a good idea. And you have enough budget to pay for it.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918031751-trqgedg" data-type="NodeListItem" class="li" updated="20220918031841" id="20220918031751-trqgedg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918031751-odc3hg6" data-type="NodeParagraph" class="p" id="20220918031751-odc3hg6" updated="20220918031841"><div contenteditable="false" spellcheck="false"><strong>MongoDB</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220916015503-htfez1h" data-type="NodeParagraph" class="p" id="20220916015503-htfez1h"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918023959-ieovacz" data-type="NodeParagraph" class="p" id="20220918023959-ieovacz"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-sjeiq1j" data-type="NodeHeading" class="h2" id="20220912014401-sjeiq1j" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 7: Querying your Data Interactively</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918154102-6n552hr" data-type="NodeList" class="list" updated="20220924144520" id="20220918154102-6n552hr"><div data-marker="*" data-subtype="u" data-node-id="20220918154104-0qid33d" data-type="NodeListItem" class="li" updated="20220918154104" id="20220918154104-0qid33d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918154104-hzij4v3" data-type="NodeParagraph" class="p" id="20220918154104-hzij4v3" updated="20220918154113"><div contenteditable="false" spellcheck="false">Where we stand</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918154114-eexmo64" data-type="NodeParagraph" class="p" id="20220918154114-eexmo64" updated="20220918154114"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220918154114-wf87tm0.png" data-src="assets/image-20220918154114-wf87tm0.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918154115-fl739hp" data-type="NodeListItem" class="li" id="20220918154115-fl739hp" updated="20220924144520"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918154115-g53qp57" data-type="NodeParagraph" class="p" id="20220918154115-g53qp57" updated="20220918154213"><div contenteditable="false" spellcheck="false">Query Engines</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918154856-kfy2mj9" data-type="NodeParagraph" class="p" id="20220918154856-kfy2mj9" updated="20220918154857"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 414px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220918154857-v9nxz92.png" data-src="assets/image-20220918154857-v9nxz92.png" alt="image" style="width: 404px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155159-6ov5y7s" data-type="NodeList" class="list" id="20220918155159-6ov5y7s" updated="20220919013839"><div data-marker="*" data-subtype="u" data-node-id="20220918155158-z956mfb" data-type="NodeListItem" class="li" id="20220918155158-z956mfb" updated="20220919013839"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155158-enpnxep" data-type="NodeParagraph" class="p" id="20220918155158-enpnxep" updated="20220918155204"><div contenteditable="false" spellcheck="false">Apache Drill</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155207-5z9ywzw" data-type="NodeList" class="list" id="20220918155207-5z9ywzw" updated="20220919013839"><div data-marker="*" data-subtype="u" data-node-id="20220918160057-31rug1g" data-type="NodeListItem" class="li" id="20220918160057-31rug1g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160057-5vu3fmp" data-type="NodeParagraph" class="p" id="20220918160057-5vu3fmp" updated="20220918160103"><div contenteditable="false" spellcheck="false">Features</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918160108-9rswr63" data-type="NodeList" class="list" id="20220918160108-9rswr63"><div data-marker="*" data-subtype="u" data-node-id="20220918155216-jon9d2m" data-type="NodeListItem" class="li" id="20220918155216-jon9d2m" updated="20220918155216"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155216-bz2zlwg" data-type="NodeParagraph" class="p" id="20220918155216-bz2zlwg" updated="20220918155216"><div contenteditable="false" spellcheck="false">A SQL query engine for a variety of non-relational databases and data files</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155220-dzg5f03" data-type="NodeList" class="list" id="20220918155220-dzg5f03"><div data-marker="*" data-subtype="u" data-node-id="20220918155220-a0atejd" data-type="NodeListItem" class="li" id="20220918155220-a0atejd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155220-9hsbhv6" data-type="NodeParagraph" class="p" id="20220918155220-9hsbhv6"><div contenteditable="false" spellcheck="false">Hive, MongoDB, HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918155233-s0z9rpe" data-type="NodeListItem" class="li" id="20220918155233-s0z9rpe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155233-nzfnus4" data-type="NodeParagraph" class="p" id="20220918155233-nzfnus4" updated="20220918155237"><div contenteditable="false" spellcheck="false">Even flat JSON or Parquet files on HDFS, S3, Azure, Google cloud, local file system</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918160111-4omer2r" data-type="NodeListItem" class="li" id="20220918160111-4omer2r"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160111-hagzyrq" data-type="NodeParagraph" class="p" id="20220918160111-hagzyrq"><div contenteditable="false" spellcheck="false">Based on Google’s Dremel</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918155239-cftugib" data-type="NodeListItem" class="li" id="20220918155239-cftugib"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155307-9ob1dul" data-type="NodeParagraph" class="p" id="20220918155307-9ob1dul" updated="20220918155402"><div contenteditable="false" spellcheck="false">It’s real SQL (somehow can replace Hive)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155307-r170oqh" data-type="NodeList" class="list" id="20220918155307-r170oqh" updated="20220918155309"><div data-marker="*" data-subtype="u" data-node-id="20220918155309-9fj9l97" data-type="NodeListItem" class="li" id="20220918155309-9fj9l97" updated="20220918155309"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155309-b1wrlxk" data-type="NodeParagraph" class="p" id="20220918155309-b1wrlxk" updated="20220918155309"><div contenteditable="false" spellcheck="false">Not SQL-Like</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155307-qyeppk9" data-type="NodeList" class="list" id="20220918155307-qyeppk9" updated="20220918155307"><div data-marker="*" data-subtype="u" data-node-id="20220918155307-vnvooxr" data-type="NodeListItem" class="li" id="20220918155307-vnvooxr" updated="20220918155307"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155307-fuga7qw" data-type="NodeParagraph" class="p" id="20220918155307-fuga7qw" updated="20220918155351"><div contenteditable="false" spellcheck="false">And it has a ODBC / JDBC driver so other tools can connect to it just like any relational database</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918155324-zl3nm7j" data-type="NodeListItem" class="li" id="20220918155324-zl3nm7j"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155325-4go8a8d" data-type="NodeParagraph" class="p" id="20220918155325-4go8a8d" updated="20220918155325"><div contenteditable="false" spellcheck="false">It’s fast and pretty easy to set up.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155325-830wy8l" data-type="NodeList" class="list" updated="20220918155327" id="20220918155325-830wy8l"><div data-marker="*" data-subtype="u" data-node-id="20220918155327-mtm3vwc" data-type="NodeListItem" class="li" id="20220918155327-mtm3vwc" updated="20220918155327"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155327-2iqe0rv" data-type="NodeParagraph" class="p" id="20220918155327-2iqe0rv" updated="20220918155329"><div contenteditable="false" spellcheck="false">But remember, these are still non-relational databases under the hood!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155325-fpnfacx" data-type="NodeList" class="list" updated="20220918155325" id="20220918155325-fpnfacx"><div data-marker="*" data-subtype="u" data-node-id="20220918155325-jfdyhj1" data-type="NodeListItem" class="li" updated="20220918155325" id="20220918155325-jfdyhj1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155325-sqekczx" data-type="NodeParagraph" class="p" id="20220918155325-sqekczx" updated="20220918155451"><div contenteditable="false" spellcheck="false">Allows SQL analysis of disparate data source without having to transform and load it first</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918155457-ob1x4l7" data-type="NodeList" class="list" id="20220918155457-ob1x4l7"><div data-marker="*" data-subtype="u" data-node-id="20220918155456-2jd02fi" data-type="NodeListItem" class="li" id="20220918155456-2jd02fi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918155456-qmglgv3" data-type="NodeParagraph" class="p" id="20220918155456-qmglgv3"><div contenteditable="false" spellcheck="false">Internally data is represented as JSON and so has no fixed schema</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918160004-ryympzs" data-type="NodeListItem" class="li" id="20220918160004-ryympzs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160005-ru848ru" data-type="NodeParagraph" class="p" id="20220918160005-ru848ru" updated="20220918160010"><div contenteditable="false" spellcheck="false">You can even do joins across different database technologies</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918160014-lsokejx" data-type="NodeList" class="list" id="20220918160014-lsokejx"><div data-marker="*" data-subtype="u" data-node-id="20220918160013-3clvqgt" data-type="NodeListItem" class="li" id="20220918160013-3clvqgt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160013-pclnrgu" data-type="NodeParagraph" class="p" id="20220918160013-pclnrgu"><div contenteditable="false" spellcheck="false">Or with flat JSON files that are just sitting around</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918160217-em5ai0n" data-type="NodeListItem" class="li" id="20220918160217-em5ai0n" updated="20220919013839"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160217-lbb0b6g" data-type="NodeParagraph" class="p" id="20220918160217-lbb0b6g" updated="20220918160225"><div contenteditable="false" spellcheck="false">Hands-on: </div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918160234-mu1npwe" data-type="NodeList" class="list" id="20220918160234-mu1npwe" updated="20220919013839"><div data-marker="*" data-subtype="u" data-node-id="20220918160232-w9sfyec" data-type="NodeListItem" class="li" id="20220918160232-w9sfyec"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160234-r5w4gir" data-type="NodeParagraph" class="p" id="20220918160234-r5w4gir" updated="20220918160234"><div contenteditable="false" spellcheck="false">import data into Hive and MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918163840-vori4n4" data-type="NodeList" class="list" id="20220918163840-vori4n4"><div data-marker="*" data-subtype="u" data-node-id="20220918163725-wepf36k" data-type="NodeListItem" class="li" id="20220918163725-wepf36k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918163725-d49p37f" data-type="NodeParagraph" class="p" id="20220918163725-d49p37f" updated="20220918163858"><div contenteditable="false" spellcheck="false">prep: drop from mongodb</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918163843-orim10j" data-type="NodeCodeBlock" class="code-block" id="20220918163843-orim10j" updated="20220918163848"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">&gt; db.getCollectionInfos()
[ ]
&gt; use movielens
switched to db movielens
&gt; db.getCollectionInfos()
[ { &quot;name&quot; : &quot;users&quot;, &quot;options&quot; : { } } ]
&gt; db.users.drop()
true
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918164000-xmcgha4" data-type="NodeList" class="list" id="20220918164000-xmcgha4" updated="20220918164002"><div data-marker="*" data-subtype="u" data-node-id="20220918164002-1gj0llz" data-type="NodeListItem" class="li" id="20220918164002-1gj0llz" updated="20220918164002"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918164002-zhui50i" data-type="NodeParagraph" class="p" id="20220918164002-zhui50i" updated="20220918164004"><div contenteditable="false" spellcheck="false">Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918164004-i0vb93k" data-type="NodeCodeBlock" class="code-block" id="20220918164004-i0vb93k" updated="20220918164400"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">CREATE DATABASE movielens;

## upload u.data as movielens.ratings
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918165049-cy0lar0" data-type="NodeList" class="list" id="20220918165049-cy0lar0" updated="20220918165050"><div data-marker="*" data-subtype="u" data-node-id="20220918165050-5paszcn" data-type="NodeListItem" class="li" id="20220918165050-5paszcn" updated="20220918165050"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918165050-8wqv2wl" data-type="NodeParagraph" class="p" id="20220918165050-8wqv2wl" updated="20220918165053"><div contenteditable="false" spellcheck="false">MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918165054-5kkluyz" data-type="NodeCodeBlock" class="code-block" updated="20220918165316" id="20220918165054-5kkluyz"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ su root
Password: 
[root@sandbox-hdp maria_dev]# ls
LowestRatedMovieDataFrame.py         TopMovies.py
LowestRatedMovieSpark.py             exported_movies.java
LowestRatedPopularMovieDataFrame.py  hbase.pig
LowestRatedPopularMovieSpark.py      ml-100k
MongoSpark.py                        movielens.sql
MovieCount.py                        movies.java
MovieRecommendationsALS.py           spark-warehouse
RatingsBreakdown.py                  u.data
Spark.zip
[root@sandbox-hdp maria_dev]# export SPARK_MAJOR_VERSION=2
[root@sandbox-hdp maria_dev]# spark-submit --packages org.mongodb.spark:mongo-spark-connector_2.11:2.3.3 MongoSpark.py 
22/09/18 08:53:06 INFO DAGScheduler: Job 3 finished: showString at NativeMethodAccessorImpl.java:0, took 0.073679 s
+--------------------+---+------+----------+-------+-----+
|                 _id|age|gender|occupation|user_id|  zip|
+--------------------+---+------+----------+-------+-----+
|[6326dc7028f0a136...| 18|     F|   student|    482|40256|
|[6326dc7028f0a136...| 18|     F|    writer|    507|28450|
|[6326dc7028f0a136...| 19|     M|   student|    521|02146|
|[6326dc7028f0a136...| 18|     M|   student|    528|55104|
|[6326dc7028f0a136...| 19|     F|   student|    541|84302|
|[6326dc7028f0a136...| 16|     F|   student|    550|95453|
|[6326dc7028f0a136...| 16|     M|   student|    580|17961|
|[6326dc7028f0a136...| 17|     M|   student|    582|93003|
|[6326dc7028f0a136...| 18|     F|   student|    588|93063|
|[6326dc7028f0a136...| 18|     M|   student|    592|97520|
|[6326dc7028f0a136...| 19|     F|    artist|    601|99687|
|[6326dc7028f0a136...| 13|     F|   student|    609|55106|
|[6326dc7028f0a136...| 15|     F|   student|    618|44212|
|[6326dc7028f0a136...| 17|     M|   student|    619|44134|
|[6326dc7028f0a136...| 18|     F|    writer|    620|81648|
|[6326dc7028f0a136...| 17|     M|   student|    621|60402|
|[6326dc7028f0a136...| 19|     M|   student|    624|30067|
|[6326dc7028f0a136...| 13|     M|      none|    628|94306|
|[6326dc7028f0a136...| 18|     F|   student|    631|38866|
|[6326dc7028f0a136...| 18|     M|   student|    632|55454|
+--------------------+---+------+----------+-------+-----+
only showing top 20 rows
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918160234-bqxelf3" data-type="NodeListItem" class="li" updated="20220918160234" id="20220918160234-bqxelf3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160234-n74lkvs" data-type="NodeParagraph" class="p" id="20220918160234-n74lkvs" updated="20220918160234"><div contenteditable="false" spellcheck="false">Set up Drill on top of both</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918165332-m8ca20o" data-type="NodeList" class="list" id="20220918165332-m8ca20o" updated="20220918165333"><div data-marker="*" data-subtype="u" data-node-id="20220918165333-tqohqel" data-type="NodeListItem" class="li" id="20220918165333-tqohqel" updated="20220918165333"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918165333-lfvgdfo" data-type="NodeParagraph" class="p" id="20220918165333-lfvgdfo" updated="20220918165334"><div contenteditable="false" spellcheck="false">Drill</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918165335-qc4hbw1" data-type="NodeCodeBlock" class="code-block" id="20220918165335-qc4hbw1" updated="20220918172410"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# wget http://archive.apache.org/dist/drill/drill-1.12.0/apache-drill-1.12.0.tar.gz
[root@sandbox-hdp maria_dev]# tar -xvf apache-drill-1.12.0.tar.gz
...
[root@sandbox-hdp maria_dev]# cd apache-drill-1.12.0

[root@sandbox-hdp apache-drill-1.12.0]# bin/drillbit.sh stop -Ddrill.exec.http.port=8765
Stopping drillbit
.
[root@sandbox-hdp apache-drill-1.12.0]# bin/drillbit.sh start -Ddrill.exec.http.port=8086
Starting drillbit, logging to /home/maria_dev/apache-drill-1.12.0/log/drillbit.out


</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220918231237-qzdfw2i" data-type="NodeList" class="list" id="20220918231237-qzdfw2i" updated="20220918231239"><div data-marker="*" data-subtype="u" data-node-id="20220918231239-uanj3ww" data-type="NodeListItem" class="li" id="20220918231239-uanj3ww" updated="20220918231239"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918231239-ppkh79w" data-type="NodeParagraph" class="p" id="20220918231239-ppkh79w" updated="20220918231245"><div contenteditable="false" spellcheck="false">Turn on storage</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918231257-hmrhm91" data-type="NodeParagraph" class="p" id="20220918231257-hmrhm91" updated="20220918231258"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 335px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220918231258-al6brhj.png" data-src="assets/image-20220918231258-al6brhj.png" alt="image" style="width: 325px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918231446-k8yfc32" data-type="NodeListItem" class="li" id="20220918231446-k8yfc32"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918231446-jzjujgf" data-type="NodeParagraph" class="p" id="20220918231446-jzjujgf" updated="20220918231452"><div contenteditable="false" spellcheck="false">Config Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918231453-nq3froq" data-type="NodeCodeBlock" class="code-block" id="20220918231453-nq3froq" updated="20220918231456"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">json</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">{
  &quot;type&quot;: &quot;hive&quot;,
  &quot;enabled&quot;: true,
  &quot;configProps&quot;: {
    &quot;hive.metastore.uris&quot;: &quot;thrift://localhost:9083&quot;,
    &quot;javax.jdo.option.ConnectionURL&quot;: &quot;jdbc:derby:;databaseName=../sample-data/drill_hive_db;create=true&quot;,
    &quot;hive.metastore.warehouse.dir&quot;: &quot;/tmp/drill_hive_wh&quot;,
    &quot;fs.default.name&quot;: &quot;file:///&quot;,
    &quot;hive.metastore.sasl.enabled&quot;: &quot;false&quot;
  }
}
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220918160244-2oqfco3" data-type="NodeListItem" class="li" id="20220918160244-2oqfco3" updated="20220919013839"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220918160244-ha45wkd" data-type="NodeParagraph" class="p" id="20220918160244-ha45wkd" updated="20220918160244"><div contenteditable="false" spellcheck="false">And do some queries!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919011945-qaxqvgo" data-type="NodeCodeBlock" class="code-block" id="20220919011945-qaxqvgo" updated="20220919011958"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">SHOW DATABASES;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919011935-w294nva" data-type="NodeTable" class="table" updated="20220919011944" colgroup="width: 264px;" id="20220919011935-w294nva"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col style="width: 264px;" /></colgroup><thead><tr><th colspan="1">SCHEMA_NAME</th></tr></thead><tbody><tr><td>INFORMATION_SCHEMA</td></tr><tr><td>cp.default</td></tr><tr><td>dfs.default</td></tr><tr><td>dfs.root</td></tr><tr><td>dfs.tmp</td></tr><tr><td>hive.default</td></tr><tr><td>hive.foodmart</td></tr><tr><td>hive.movielens</td></tr><tr><td>mongo.local</td></tr><tr><td>mongo.movielens</td></tr><tr><td>sys</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919012111-1yxuptc" data-type="NodeCodeBlock" class="code-block" id="20220919012111-1yxuptc" updated="20220919012114"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">SELECT * FROM hive.movielens.ratings LIMIT 10;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919012229-h58yk2c" data-type="NodeTable" class="table" colgroup="|||" id="20220919012229-h58yk2c" updated="20220919012252"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>user_id</th><th>movie_id</th><th>rating</th><th>epoch_seconds</th></tr></thead><tbody><tr><td>0</td><td>50</td><td>5</td><td>881250949</td></tr><tr><td>0</td><td>172</td><td>5</td><td>881250949</td></tr><tr><td>0</td><td>133</td><td>1</td><td>881250949</td></tr><tr><td>196</td><td>242</td><td>3</td><td>881250949</td></tr><tr><td>186</td><td>302</td><td>3</td><td>891717742</td></tr><tr><td>22</td><td>377</td><td>1</td><td>878887116</td></tr><tr><td>244</td><td>51</td><td>2</td><td>880606923</td></tr><tr><td>166</td><td>346</td><td>1</td><td>886397596</td></tr><tr><td>298</td><td>474</td><td>4</td><td>884182806</td></tr><tr><td>115</td><td>265</td><td>2</td><td>881171488</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919012519-ic6mgt1" data-type="NodeCodeBlock" class="code-block" id="20220919012519-ic6mgt1" updated="20220919012521"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">SELECT * FROM mongo.movielens.users LIMIT 10;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919012535-oo6k29j" data-type="NodeTable" class="table" updated="20220919012548" colgroup="|||||" id="20220919012535-oo6k29j"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>_id</th><th>age</th><th>gender</th><th>occupation</th><th>user_id</th><th>zip</th></tr></thead><tbody><tr><td>[B@5a96209f</td><td>24</td><td>M</td><td>student</td><td>472</td><td>87544</td></tr><tr><td>[B@64d66e20</td><td>29</td><td>M</td><td>student</td><td>473</td><td>94708</td></tr><tr><td>[B@41e482ac</td><td>51</td><td>M</td><td>executive</td><td>474</td><td>93711</td></tr><tr><td>[B@1d49f645</td><td>30</td><td>M</td><td>programmer</td><td>475</td><td>75230</td></tr><tr><td>[B@76b0bfab</td><td>28</td><td>M</td><td>student</td><td>476</td><td>60440</td></tr><tr><td>[B@21407833</td><td>23</td><td>F</td><td>student</td><td>477</td><td>02125</td></tr><tr><td>[B@44546f55</td><td>29</td><td>M</td><td>other</td><td>478</td><td>10019</td></tr><tr><td>[B@16fd5244</td><td>30</td><td>M</td><td>educator</td><td>479</td><td>55409</td></tr><tr><td>[B@6543ead7</td><td>57</td><td>M</td><td>retired</td><td>480</td><td>98257</td></tr><tr><td>[B@47e087ac</td><td>73</td><td>M</td><td>retired</td><td>481</td><td>37771</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919013456-crfj3f0" data-type="NodeCodeBlock" class="code-block" id="20220919013456-crfj3f0" updated="20220919013521"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">-- how many ratings were provided by each occupation

SELECT u.occupation, COUNT(*)
FROM hive.movielens.ratings r 
JOIN mongo.movielens.users u
ON r.user_id = u.user_id
GROUP BY u.occupation;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919013544-gawt44k" data-type="NodeTable" class="table" colgroup="|" id="20220919013544-gawt44k" updated="20220919013554"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /></colgroup><thead><tr><th>occupation</th><th>EXPR$1</th></tr></thead><tbody><tr><td>none</td><td>901</td></tr><tr><td>technician</td><td>3506</td></tr><tr><td>retired</td><td>1609</td></tr><tr><td>doctor</td><td>540</td></tr><tr><td>other</td><td>10663</td></tr><tr><td>healthcare</td><td>2804</td></tr><tr><td>scientist</td><td>2058</td></tr><tr><td>educator</td><td>9442</td></tr><tr><td>artist</td><td>2308</td></tr><tr><td>lawyer</td><td>1345</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919013802-q18y8i0" data-type="NodeCodeBlock" class="code-block" id="20220919013802-q18y8i0" updated="20220919013839"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# cd apache-drill-1.12.0
[root@sandbox-hdp apache-drill-1.12.0]# bin/drillbit.sh stop
Stopping drillbit
..
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919013907-5wzyzi8" data-type="NodeList" class="list" id="20220919013907-5wzyzi8" updated="20220924144520"><div data-marker="*" data-subtype="u" data-node-id="20220919013909-02tf164" data-type="NodeListItem" class="li" id="20220919013909-02tf164" updated="20220924144520"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919013909-r4turwe" data-type="NodeParagraph" class="p" id="20220919013909-r4turwe" updated="20220924144520"><div contenteditable="false" spellcheck="false">Apache Phoenix<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://phoenix.apache.org/images/phoenix-logo-small.png" data-src="https://phoenix.apache.org/images/phoenix-logo-small.png" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919014903-bzzps9v" data-type="NodeList" class="list" id="20220919014903-bzzps9v" updated="20220919025632"><div data-marker="*" data-subtype="u" data-node-id="20220919014902-joqc6yb" data-type="NodeListItem" class="li" id="20220919014902-joqc6yb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-mcpskwk" data-type="NodeParagraph" class="p" id="20220919014904-mcpskwk" updated="20220919014904"><div contenteditable="false" spellcheck="false">What is Phoenix?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919014904-f3fuwxj" data-type="NodeList" class="list" id="20220919014904-f3fuwxj" updated="20220919014907"><div data-marker="*" data-subtype="u" data-node-id="20220919014907-ug6az3u" data-type="NodeListItem" class="li" id="20220919014907-ug6az3u" updated="20220919014907"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014907-3hf2v2b" data-type="NodeParagraph" class="p" id="20220919014907-3hf2v2b" updated="20220919014917"><div contenteditable="false" spellcheck="false">A SQL driver for <strong>HBase</strong> that supports transactions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919014904-s6nagpq" data-type="NodeList" class="list" id="20220919014904-s6nagpq" updated="20220919014904"><div data-marker="*" data-subtype="u" data-node-id="20220919014904-pw6zrfm" data-type="NodeListItem" class="li" id="20220919014904-pw6zrfm" updated="20220919014904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-82ujddk" data-type="NodeParagraph" class="p" id="20220919014904-82ujddk" updated="20220919014904"><div contenteditable="false" spellcheck="false">Fast, low-latency – OLTP support</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919014904-c3zo3jv" data-type="NodeListItem" class="li" id="20220919014904-c3zo3jv" updated="20220919014904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-33l36mi" data-type="NodeParagraph" class="p" id="20220919014904-33l36mi" updated="20220919015042"><div contenteditable="false" spellcheck="false">Originally developed by <strong>Salesforce</strong>, then open-sourced</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919014904-jptdjov" data-type="NodeListItem" class="li" id="20220919014904-jptdjov" updated="20220919014904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-qrhfnuy" data-type="NodeParagraph" class="p" id="20220919014904-qrhfnuy" updated="20220919015043"><div contenteditable="false" spellcheck="false">Exposes a <strong>JDBC</strong> connector for HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919014904-9107mtf" data-type="NodeListItem" class="li" id="20220919014904-9107mtf" updated="20220919014904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-457lwyy" data-type="NodeParagraph" class="p" id="20220919014904-457lwyy" updated="20220919014904"><div contenteditable="false" spellcheck="false">Supports secondary indices and user-defined functions</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919014904-7d9ej2m" data-type="NodeListItem" class="li" id="20220919014904-7d9ej2m" updated="20220919014904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919014904-qeco4ra" data-type="NodeParagraph" class="p" id="20220919014904-qeco4ra" updated="20220919015117"><div contenteditable="false" spellcheck="false">Integrates with <strong>MapReduce, Spark, Hive, Pig, and Flume</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919015119-1lpjuoe" data-type="NodeListItem" class="li" id="20220919015119-1lpjuoe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015121-y30yued" data-type="NodeParagraph" class="p" id="20220919015121-y30yued" updated="20220919015121"><div contenteditable="false" spellcheck="false">Why Phoenix?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919015121-gz998d8" data-type="NodeList" class="list" id="20220919015121-gz998d8" updated="20220919015124"><div data-marker="*" data-subtype="u" data-node-id="20220919015124-td5gf7k" data-type="NodeListItem" class="li" id="20220919015124-td5gf7k" updated="20220919015124"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015124-ldfvd7v" data-type="NodeParagraph" class="p" updated="20220919015126" id="20220919015124-ldfvd7v"><div contenteditable="false" spellcheck="false">It’s really fast. You probably won’t pay a performance cost from having this extra layer on top of Hbase.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919015121-nnnvw9c" data-type="NodeList" class="list" updated="20220919015121" id="20220919015121-nnnvw9c"><div data-marker="*" data-subtype="u" data-node-id="20220919015121-v1ubzkk" data-type="NodeListItem" class="li" updated="20220919015121" id="20220919015121-v1ubzkk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015121-59h21tr" data-type="NodeParagraph" class="p" id="20220919015121-59h21tr" updated="20220919015121"><div contenteditable="false" spellcheck="false">Why Phoenix and not Drill?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919015121-xeaycwe" data-type="NodeList" class="list" id="20220919015121-xeaycwe" updated="20220919015129"><div data-marker="*" data-subtype="u" data-node-id="20220919015129-m5580pd" data-type="NodeListItem" class="li" updated="20220919015129" id="20220919015129-m5580pd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015129-s9cvxcl" data-type="NodeParagraph" class="p" id="20220919015129-s9cvxcl" updated="20220919021829"><div contenteditable="false" spellcheck="false">Phoenix exclusively for HBase (more optimized), but Drill is comprehensive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919015132-f9n3wpr" data-type="NodeListItem" class="li" updated="20220919015132" id="20220919015132-f9n3wpr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015132-uztt3dw" data-type="NodeParagraph" class="p" id="20220919015132-uztt3dw" updated="20220919015132"><div contenteditable="false" spellcheck="false">Why Phoenix and not HBase’s native clients?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919021733-t3hun5v" data-type="NodeList" class="list" id="20220919021733-t3hun5v"><div data-marker="*" data-subtype="u" data-node-id="20220919021730-ek9yh66" data-type="NodeListItem" class="li" id="20220919021730-ek9yh66"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919021730-40zsb3r" data-type="NodeParagraph" class="p" id="20220919021730-40zsb3r" updated="20220919021732"><div contenteditable="false" spellcheck="false">Your apps, and analysts, may find SQL easier to work with.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919015121-jwmidzv" data-type="NodeListItem" class="li" id="20220919015121-jwmidzv" updated="20220919015121"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919015121-dq1a0gm" data-type="NodeParagraph" class="p" updated="20220919021737" id="20220919015121-dq1a0gm"><div contenteditable="false" spellcheck="false">Phoenix can do the work of optimizing more complex queries for you</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919015121-vn3lud6" data-type="NodeList" class="list" id="20220919015121-vn3lud6" updated="20220919021740"><div data-marker="*" data-subtype="u" data-node-id="20220919021740-e7wkgxt" data-type="NodeListItem" class="li" id="20220919021740-e7wkgxt" updated="20220919021740"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919021740-tq7htp6" data-type="NodeParagraph" class="p" id="20220919021740-tq7htp6" updated="20220919021740"><div contenteditable="false" spellcheck="false">But remember HBase is still fundamentally non-relational!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022006-xyezoch" data-type="NodeListItem" class="li" id="20220919022006-xyezoch"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022006-pdfwy4b" data-type="NodeParagraph" class="p" id="20220919022006-pdfwy4b" updated="20220919022020"><div contenteditable="false" spellcheck="false">Phoneix Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919022020-p0sbpnj" data-type="NodeParagraph" class="p" id="20220919022020-p0sbpnj" updated="20220919022021"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 580px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220919022021-nv3p81f.png" data-src="assets/image-20220919022021-nv3p81f.png" alt="image" style="width: 570px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022041-j2rh5jj" data-type="NodeListItem" class="li" id="20220919022041-j2rh5jj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022041-i9z4839" data-type="NodeParagraph" class="p" id="20220919022041-i9z4839"><div contenteditable="false" spellcheck="false">​Using Phoenix</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919022041-y9msvvb" data-type="NodeList" class="list" id="20220919022041-y9msvvb" updated="20220919022100"><div data-marker="*" data-subtype="u" data-node-id="20220919022100-7fyka03" data-type="NodeListItem" class="li" id="20220919022100-7fyka03" updated="20220919022100"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022100-5zsdjby" data-type="NodeParagraph" class="p" id="20220919022100-5zsdjby" updated="20220919022100"><div contenteditable="false" spellcheck="false">Command-Line Interface (CLI)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919022041-7rhxyva" data-type="NodeList" class="list" updated="20220919022041" id="20220919022041-7rhxyva"><div data-marker="*" data-subtype="u" data-node-id="20220919022041-n5tbvc8" data-type="NodeListItem" class="li" id="20220919022041-n5tbvc8" updated="20220919022041"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022041-b76xjse" data-type="NodeParagraph" class="p" id="20220919022041-b76xjse" updated="20220919022041"><div contenteditable="false" spellcheck="false">Phoenix API for Java</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022041-ru5g2gb" data-type="NodeListItem" class="li" id="20220919022041-ru5g2gb" updated="20220919022041"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022041-wt2f6ad" data-type="NodeParagraph" class="p" id="20220919022041-wt2f6ad" updated="20220919022041"><div contenteditable="false" spellcheck="false">JDBC Driver (thick client)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022041-wedk13o" data-type="NodeListItem" class="li" id="20220919022041-wedk13o" updated="20220919022041"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022041-vrej9s1" data-type="NodeParagraph" class="p" id="20220919022041-vrej9s1" updated="20220919022041"><div contenteditable="false" spellcheck="false">Phoenix Query Server (PQS) (thin client)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919022041-qt4jfn6" data-type="NodeList" class="list" id="20220919022041-qt4jfn6" updated="20220919022105"><div data-marker="*" data-subtype="u" data-node-id="20220919022105-5gq21cf" data-type="NodeListItem" class="li" id="20220919022105-5gq21cf" updated="20220919022105"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022105-tyjt11j" data-type="NodeParagraph" class="p" id="20220919022105-tyjt11j" updated="20220919022105"><div contenteditable="false" spellcheck="false">Intended to eventually enable non-JVM access</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022107-6ewb6jr" data-type="NodeListItem" class="li" id="20220919022107-6ewb6jr" updated="20220919022107"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022107-gap2b62" data-type="NodeParagraph" class="p" id="20220919022107-gap2b62" updated="20220919022107"><div contenteditable="false" spellcheck="false">JAR’s for MapReduce, Hive, Pig, Flume, Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022119-0lu6kqo" data-type="NodeListItem" class="li" id="20220919022119-0lu6kqo" updated="20220919025632"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022119-6h6py6m" data-type="NodeParagraph" class="p" id="20220919022119-6h6py6m" updated="20220919022122"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919022125-rl3unbx" data-type="NodeList" class="list" id="20220919022125-rl3unbx" updated="20220919025632"><div data-marker="*" data-subtype="u" data-node-id="20220919022125-9rbhhdf" data-type="NodeListItem" class="li" id="20220919022125-9rbhhdf" updated="20220919022125"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022125-9f1d9a6" data-type="NodeParagraph" class="p" id="20220919022125-9f1d9a6" updated="20220919022125"><div contenteditable="false" spellcheck="false">Install Phoenix on our Hortonworks Sandbox</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919024103-mpe7zox" data-type="NodeListItem" class="li" id="20220919024103-mpe7zox" updated="20220919024103"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919024103-59evn3y" data-type="NodeParagraph" class="p" id="20220919024103-59evn3y" updated="20220919024103"><div contenteditable="false" spellcheck="false">Mess around with the CLI</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919023243-m8kgqrz" data-type="NodeCodeBlock" class="code-block" id="20220919023243-m8kgqrz" updated="20220919024043"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# cd /usr/hdp/current/phoenix-client/bin
[root@sandbox-hdp bin]# ls
daemon.py         performance.py       phoenix_utils.py  sqlline-thin.py
end2endTest.py    pherf-cluster.py     psql.py           sqlline.py
log4j.properties  pherf-standalone.py  queryserver.py    traceserver.py
[root@sandbox-hdp bin]# python sqlline.py 
Setting property: [incremental, false]
Setting property: [isolation, TRANSACTION_READ_COMMITTED]
issuing: !connect jdbc:phoenix: none none org.apache.phoenix.jdbc.PhoenixDriver
Connecting to jdbc:phoenix:
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/usr/hdp/2.6.5.0-292/phoenix/phoenix-4.7.0.2.6.5.0-292-client.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/usr/hdp/2.6.5.0-292/hadoop/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
22/09/18 18:33:08 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
22/09/18 18:33:10 WARN shortcircuit.DomainSocketFactory: The short-circuit local reads feature cannot be used because libhadoop cannot be loaded.
Connected to: Phoenix (version 4.7)
Driver: PhoenixEmbeddedDriver (version 4.7)
Autocommit status: true
Transaction isolation: TRANSACTION_READ_COMMITTED
Building list of tables and columns for tab-completion (set fastconnect to true to skip)...
84/84 (100%) Done
Done
sqlline version 1.1.8

0: jdbc:phoenix:&gt; CREATE TABLE IF NOT EXISTS us_population(
. . . . . . . . &gt; state CHAR(2) NOT NULL,
. . . . . . . . &gt; city VARCHAR NOT NULL,
. . . . . . . . &gt; population BIGINT
. . . . . . . . &gt; CONSTRAINT my_pk PRIMARY KEY (state, city));
No rows affected (2.309 seconds)
0: jdbc:phoenix:&gt;  !tables
+------------+--------------+----------------+---------------+----------+------+
| TABLE_CAT  | TABLE_SCHEM  |   TABLE_NAME   |  TABLE_TYPE   | REMARKS  | TYPE |
+------------+--------------+----------------+---------------+----------+------+
|            | SYSTEM       | CATALOG        | SYSTEM TABLE  |          |      |
|            | SYSTEM       | FUNCTION       | SYSTEM TABLE  |          |      |
|            | SYSTEM       | SEQUENCE       | SYSTEM TABLE  |          |      |
|            | SYSTEM       | STATS          | SYSTEM TABLE  |          |      |
|            |              | US_POPULATION  | TABLE         |          |      |
+------------+--------------+----------------+---------------+----------+------+

## no insert keyword, only upsert available
0: jdbc:phoenix:&gt; UPSERT INTO US_POPULATION VALUES ('NY', 'New York', 8143197);
1 row affected (0.113 seconds)
0: jdbc:phoenix:&gt; UPSERT INTO US_POPULATION VALUES ('CA', 'Los Angeles', 3844829);
1 row affected (0.007 seconds)
0: jdbc:phoenix:&gt; SELECT * FROM US_POPULATION
. . . . . . . . &gt; ;
+--------+--------------+-------------+
| STATE  |     CITY     | POPULATION  |
+--------+--------------+-------------+
| CA     | Los Angeles  | 3844829     |
| NY     | New York     | 8143197     |
+--------+--------------+-------------+
2 rows selected (0.084 seconds)
0: jdbc:phoenix:&gt; SELECT * FROM US_POPULATION WHERE STATE = 'CA';
+--------+--------------+-------------+
| STATE  |     CITY     | POPULATION  |
+--------+--------------+-------------+
| CA     | Los Angeles  | 3844829     |
+--------+--------------+-------------+
1 row selected (0.047 seconds)
0: jdbc:phoenix:&gt; !quit
Closing: org.apache.phoenix.jdbc.PhoenixConnection
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022125-qh3i4u6" data-type="NodeListItem" class="li" id="20220919022125-qh3i4u6" updated="20220919022125"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022125-gk6bl12" data-type="NodeParagraph" class="p" id="20220919022125-gk6bl12" updated="20220919022125"><div contenteditable="false" spellcheck="false">Set up a users table for MovieLens</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919022125-ih5akl7" data-type="NodeListItem" class="li" id="20220919022125-ih5akl7" updated="20220919025632"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919022125-9z35d1m" data-type="NodeParagraph" class="p" updated="20220919022125" id="20220919022125-9z35d1m"><div contenteditable="false" spellcheck="false">Store and load data to it through the Pig integration</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919024203-m714v9i" data-type="NodeCodeBlock" class="code-block" id="20220919024203-m714v9i" updated="20220919025632"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp bin]# python sqlline.py 
...

0: jdbc:phoenix:&gt; CREATE TABLE users( USERID INTEGER NOT NULL, AGE INTEGER, GENDER CHAR(1), OCCUPATION VARCHAR, ZIP VARCHAR CONSTRAINT pk PRIMARY KEY(USERID));
No rows affected (3.277 seconds)


[root@sandbox-hdp maria_dev]# wget http://media.sundof-soft.com/hadoop/phoenix.pig
[root@sandbox-hdp maria_dev]# cat phoenix.pig 

set zookeeper.znode.parent '/hbase-unsecure'
REGISTER /usr/hdp/current/phoenix-client/phoenix-client.jar

users = LOAD '/user/maria_dev/ml-100k/u.user' 
USING PigStorage('|') 
AS (USERID:int, AGE:int, GENDER:chararray, OCCUPATION:chararray, ZIP:chararray);

STORE users into 'hbase://users' using
    org.apache.phoenix.pig.PhoenixHBaseStorage('localhost','-batchSize 5000');

## tweak a bit, just retrieve USERID,OCCUPATION
occupations = load 'hbase://table/users/USERID,OCCUPATION' using org.apache.phoenix.pig.PhoenixHBaseLoader('localhost');

grpd = GROUP occupations BY OCCUPATION; 
cnt = FOREACH grpd GENERATE group AS OCCUPATION,COUNT(occupations);
DUMP cnt;  

[root@sandbox-hdp maria_dev]# pig phoenix.pig 

...
(none,9)
(other,105)
(artist,28)
(doctor,7)
(lawyer,12)
(writer,45)
(retired,14)
(student,196)
(educator,95)
(engineer,67)
(salesman,12)
(executive,32)
(homemaker,7)
(librarian,51)
(marketing,26)
(scientist,31)
(healthcare,16)
(programmer,66)
(technician,27)
(administrator,79)
(entertainment,18)
...

[root@sandbox-hdp maria_dev]# cd /usr/hdp/current/phoenix-client/bin
[root@sandbox-hdp bin]# python sqlline.py

0: jdbc:phoenix:&gt; SELECT * FROM USERS LIMIT 10;
+---------+------+---------+----------------+--------+
| USERID  | AGE  | GENDER  |   OCCUPATION   |  ZIP   |
+---------+------+---------+----------------+--------+
| 1       | 24   | M       | technician     | 85711  |
| 2       | 53   | F       | other          | 94043  |
| 3       | 23   | M       | writer         | 32067  |
| 4       | 24   | M       | technician     | 43537  |
| 5       | 33   | F       | other          | 15213  |
| 6       | 42   | M       | executive      | 98101  |
| 7       | 57   | M       | administrator  | 91344  |
| 8       | 36   | M       | administrator  | 05201  |
| 9       | 29   | M       | student        | 01002  |
| 10      | 53   | M       | lawyer         | 90703  |
+---------+------+---------+----------------+--------+
10 rows selected (0.408 seconds)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919084127-a2duwp7" data-type="NodeList" class="list" id="20220919084127-a2duwp7" updated="20220924144359"><div data-marker="*" data-subtype="u" data-node-id="20220919084129-a0mjttz" data-type="NodeListItem" class="li" id="20220919084129-a0mjttz" updated="20220924144359"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919084129-8onpdty" data-type="NodeParagraph" class="p" id="20220919084129-8onpdty" updated="20220924144359"><div contenteditable="false" spellcheck="false">Presto<span contenteditable="false" data-type="img" class="img" style="max-width: 308px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://prestodb.io/img/logo-presto-white.svg" data-src="https://prestodb.io/img/logo-presto-white.svg" style="width: 298px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092422-rpz4uw9" data-type="NodeList" class="list" id="20220919092422-rpz4uw9" updated="20220920013918"><div data-marker="*" data-subtype="u" data-node-id="20220919092421-b7zxw69" data-type="NodeListItem" class="li" id="20220919092421-b7zxw69"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092423-jmxcfzw" data-type="NodeParagraph" class="p" id="20220919092423-jmxcfzw" updated="20220919092423"><div contenteditable="false" spellcheck="false">What is Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092423-3wzt5fa" data-type="NodeList" class="list" id="20220919092423-3wzt5fa" updated="20220919092427"><div data-marker="*" data-subtype="u" data-node-id="20220919092427-46ymm3l" data-type="NodeListItem" class="li" id="20220919092427-46ymm3l" updated="20220919092427"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092427-xvezoev" data-type="NodeParagraph" class="p" id="20220919092427-xvezoev" updated="20220919092427"><div contenteditable="false" spellcheck="false">It’s a lot like Drill</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092432-kpjugbu" data-type="NodeList" class="list" id="20220919092432-kpjugbu"><div data-marker="*" data-subtype="u" data-node-id="20220919092432-mphnr6h" data-type="NodeListItem" class="li" id="20220919092432-mphnr6h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092432-phvhagr" data-type="NodeParagraph" class="p" updated="20220919092443" id="20220919092432-phvhagr"><div contenteditable="false" spellcheck="false">It can connect to many different “big data” databases and data stores at once, and query across them</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092435-zd10kmo" data-type="NodeListItem" class="li" id="20220919092435-zd10kmo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092435-syn1tee" data-type="NodeParagraph" class="p" id="20220919092435-syn1tee"><div contenteditable="false" spellcheck="false">Familiar SQL syntax</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092439-jz5bis6" data-type="NodeListItem" class="li" id="20220919092439-jz5bis6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092439-gs3zqrm" data-type="NodeParagraph" class="p" id="20220919092439-gs3zqrm"><div contenteditable="false" spellcheck="false">Optimized for OLAP – analytical queries, data warehousing</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092423-jl2dpvl" data-type="NodeList" class="list" id="20220919092423-jl2dpvl" updated="20220919092423"><div data-marker="*" data-subtype="u" data-node-id="20220919092423-5mkmlek" data-type="NodeListItem" class="li" id="20220919092423-5mkmlek" updated="20220919092423"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092423-u4xb3xm" data-type="NodeParagraph" class="p" updated="20220919092423" id="20220919092423-u4xb3xm"><div contenteditable="false" spellcheck="false">Developed, and still partially maintained by Facebook</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092423-9q59ujr" data-type="NodeListItem" class="li" id="20220919092423-9q59ujr" updated="20220919092423"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092423-kf8zcyu" data-type="NodeParagraph" class="p" id="20220919092423-kf8zcyu" updated="20220919092423"><div contenteditable="false" spellcheck="false">Exposes JDBC, Command-Line, and Tableau interfaces</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092700-jo7byof" data-type="NodeListItem" class="li" id="20220919092700-jo7byof"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-pi97uew" data-type="NodeParagraph" class="p" id="20220919092701-pi97uew" updated="20220919092701"><div contenteditable="false" spellcheck="false">Why Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092701-xpppj76" data-type="NodeList" class="list" id="20220919092701-xpppj76" updated="20220919092704"><div data-marker="*" data-subtype="u" data-node-id="20220919092704-xjvnsin" data-type="NodeListItem" class="li" id="20220919092704-xjvnsin" updated="20220919092704"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092704-r5c17gh" data-type="NodeParagraph" class="p" id="20220919092704-r5c17gh" updated="20220919092704"><div contenteditable="false" spellcheck="false">Vs. Drill? Well, it has a Cassandra connector for one thing.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092701-ban0vk8" data-type="NodeList" class="list" id="20220919092701-ban0vk8" updated="20220919092701"><div data-marker="*" data-subtype="u" data-node-id="20220919092701-8vpc6ql" data-type="NodeListItem" class="li" id="20220919092701-8vpc6ql" updated="20220919092701"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-z945j0d" data-type="NodeParagraph" class="p" id="20220919092701-z945j0d" updated="20220919092701"><div contenteditable="false" spellcheck="false">If it’s good enough for Facebook...</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092701-yx2kio7" data-type="NodeList" class="list" id="20220919092701-yx2kio7" updated="20220919092701"><div data-marker="*" data-subtype="u" data-node-id="20220919092701-6gvv3pa" data-type="NodeListItem" class="li" updated="20220919092701" id="20220919092701-6gvv3pa"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-kd8enm5" data-type="NodeParagraph" class="p" id="20220919092701-kd8enm5" updated="20220919092720"><div contenteditable="false" spellcheck="false">“Facebook uses Presto for interactive queries against several internal data stores, including their 300PB data warehouse. Over 1,000 Facebook employees use Presto daily to run more than 30,000 queries that in total scan over a petabyte each per day.”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092701-oot4xho" data-type="NodeListItem" class="li" updated="20220919092701" id="20220919092701-oot4xho"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-vfyzfbl" data-type="NodeParagraph" class="p" id="20220919092701-vfyzfbl" updated="20220919092714"><div contenteditable="false" spellcheck="false">Also used by DropBox and AirBNB</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092701-9xlrry4" data-type="NodeListItem" class="li" id="20220919092701-9xlrry4" updated="20220919092701"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-w17o3qz" data-type="NodeParagraph" class="p" id="20220919092701-w17o3qz" updated="20220919092725"><div contenteditable="false" spellcheck="false">“A single Presto query can combine data from multiple sources, allowing for analytics across your entire organization.”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092701-lqcm2yn" data-type="NodeListItem" class="li" id="20220919092701-lqcm2yn" updated="20220919092701"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092701-esaio6k" data-type="NodeParagraph" class="p" updated="20220919092727" id="20220919092701-esaio6k"><div contenteditable="false" spellcheck="false">“Presto breaks the false choice between having fast analytics using an expensive commercial solution or using a slow &quot;free&quot; solution that requires excessive hardware.”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092934-1ueyjzn" data-type="NodeListItem" class="li" id="20220919092934-1ueyjzn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-gmxdll6" data-type="NodeParagraph" class="p" id="20220919092935-gmxdll6" updated="20220919092935"><div contenteditable="false" spellcheck="false">What can Presto connect to?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092935-kz2bgy4" data-type="NodeList" class="list" id="20220919092935-kz2bgy4" updated="20220919092938"><div data-marker="*" data-subtype="u" data-node-id="20220919092938-zhik77l" data-type="NodeListItem" class="li" updated="20220919092938" id="20220919092938-zhik77l"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092938-2lopnpy" data-type="NodeParagraph" class="p" id="20220919092938-2lopnpy" updated="20220919092938"><div contenteditable="false" spellcheck="false">Cassandra (It’s Facebook, after all)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092935-6dx5n8n" data-type="NodeList" class="list" updated="20220919092935" id="20220919092935-6dx5n8n"><div data-marker="*" data-subtype="u" data-node-id="20220919092935-vedhyhy" data-type="NodeListItem" class="li" id="20220919092935-vedhyhy" updated="20220919092935"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-ggj5d68" data-type="NodeParagraph" class="p" updated="20220919092935" id="20220919092935-ggj5d68"><div contenteditable="false" spellcheck="false">Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092935-dzbaxbd" data-type="NodeListItem" class="li" id="20220919092935-dzbaxbd" updated="20220919092935"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-in7t35s" data-type="NodeParagraph" class="p" id="20220919092935-in7t35s" updated="20220919092935"><div contenteditable="false" spellcheck="false">MongoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092935-6te1id8" data-type="NodeListItem" class="li" id="20220919092935-6te1id8" updated="20220919092935"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-2u2epa5" data-type="NodeParagraph" class="p" id="20220919092935-2u2epa5" updated="20220919092935"><div contenteditable="false" spellcheck="false">MySQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092935-d15lhfb" data-type="NodeListItem" class="li" id="20220919092935-d15lhfb" updated="20220919092935"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-vgn9v14" data-type="NodeParagraph" class="p" id="20220919092935-vgn9v14" updated="20220919092935"><div contenteditable="false" spellcheck="false">Local files</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919092935-z7vdaet" data-type="NodeListItem" class="li" id="20220919092935-z7vdaet" updated="20220919092935"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092935-mt6emqu" data-type="NodeParagraph" class="p" id="20220919092935-mt6emqu" updated="20220919092935"><div contenteditable="false" spellcheck="false">And stuff we haven’t talked about just yet:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919092935-uoyc044" data-type="NodeList" class="list" id="20220919092935-uoyc044" updated="20220919092942"><div data-marker="*" data-subtype="u" data-node-id="20220919092942-hdpgqlx" data-type="NodeListItem" class="li" id="20220919092942-hdpgqlx" updated="20220919092942"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919092942-ib01271" data-type="NodeParagraph" class="p" id="20220919092942-ib01271" updated="20220919092942"><div contenteditable="false" spellcheck="false">Kafka, JMX, PostgreSQL, Redis, Accumulo</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919095246-m2va7dt" data-type="NodeListItem" class="li" updated="20220920013918" id="20220919095246-m2va7dt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919095246-9tv293m" data-type="NodeParagraph" class="p" id="20220919095246-9tv293m" updated="20220919095250"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220919095258-ui5pzx5" data-type="NodeList" class="list" id="20220919095258-ui5pzx5" updated="20220920013918"><div data-marker="*" data-subtype="u" data-node-id="20220919095258-x1i65or" data-type="NodeListItem" class="li" updated="20220919111028" id="20220919095258-x1i65or"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919095258-op81u4b" data-type="NodeParagraph" class="p" id="20220919095258-op81u4b" updated="20220919095258"><div contenteditable="false" spellcheck="false">Set up Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919103315-kw9qt8f" data-type="NodeCodeBlock" class="code-block" id="20220919103315-kw9qt8f" updated="20220920012323"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# wget https://repo1.maven.org/maven2/com/facebook/presto/presto-server/0.165/presto-server-0.165.tar.gz
[root@sandbox-hdp maria_dev]# tar -xvf presto-server-0.165.tar.gz 
[root@sandbox-hdp maria_dev]# cd presto-server-0.165
[root@sandbox-hdp presto-server-0.165]# ls
NOTICE  README.txt  bin  lib  plugin


## create etc folder and setup the config files

[root@sandbox-hdp presto-server-0.165]# wget http://media.sundog-soft.com/hadoop/presto-hdp-config.tgz
...  
2022-09-19 03:05:16 (81.0 MB/s) - 'presto-hdp-config.tgz' saved [734/734]

[root@sandbox-hdp presto-server-0.165]# tar -xvf presto-hdp-config.tgz 
etc/
etc/log.properties
etc/jvm.config
etc/config.properties
etc/catalog/
etc/catalog/jmx.properties
etc/catalog/hive.properties
etc/node.properties
[root@sandbox-hdp presto-server-0.165]# cd etc
[root@sandbox-hdp etc]# cat config.properties 
coordinator=true
node-scheduler.include-coordinator=true
http-server.http.port=8090
query.max-memory=10GB
query.max-memory-per-node=1GB
discovery-server.enabled=true
discovery.uri=http://127.0.0.1:8090

[root@sandbox-hdp etc]# cat node.properties 
node.environment=production
node.id=f7c4bf3c-dbb4-4807-baae-9b7e41807bc8
node.data-dir=/var/presto/data

[root@sandbox-hdp etc]# cat catalog/hive.properties 
connector.name=hive-hadoop2
hive.metastore.uri=thrift://127.0.0.1:9083
hive.config.resources=/etc/hadoop/conf/core-site.xml,/etc/hadoop/conf/hdfs-site.xml

[root@sandbox-hdp presto-server-0.165]# pwd
/home/maria_dev/presto-server-0.165
[root@sandbox-hdp presto-server-0.165]# cd bin
[root@sandbox-hdp bin]# wget https://repo1.maven.org/maven2/com/facebook/presto/presto-cli/0.165/presto-cli-0.165-executable.jar

[root@sandbox-hdp bin]# mv presto-cli-0.165-executable.jar presto
[root@sandbox-hdp bin]# chmod +x presto 
[root@sandbox-hdp bin]# cd ..
[root@sandbox-hdp presto-server-0.165]# pwd
/home/maria_dev/presto-server-0.165
[root@sandbox-hdp presto-server-0.165]# bin/launcher start
Started as 3811

[root@sandbox-hdp presto-server-0.165]# bin/presto --server 127.0.0.1:8090 --catalog hive
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919095258-74gy2gz" data-type="NodeListItem" class="li" id="20220919095258-74gy2gz" updated="20220919095258"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919095258-baojjet" data-type="NodeParagraph" class="p" id="20220919095258-baojjet" updated="20220919095258"><div contenteditable="false" spellcheck="false">Query our Hive ratings table using Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920012325-vc6m5so" data-type="NodeCodeBlock" class="code-block" updated="20220920012327" id="20220920012325-vc6m5so"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp presto-server-0.165]# bin/presto --server 127.0.0.1:8090 --catalog hive

presto&gt; show tables from default;
    Table  
-------------
 movies    
 names     
 ratings   
 topmovieids 
(4 rows)

Query 20220919_154332_00001_wznaq, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:04 [4 rows, 97B] [1 rows/s, 24B/s]

presto&gt; select * from default.ratings limit 10;
 user_id | movie_id | rating | rating_time 
---------+----------+--------+-------------
     196 |      242 |      3 |   881250949 
     186 |      302 |      3 |   891717742 
      22 |      377 |      1 |   878887116 
     244 |       51 |      2 |   880606923 
     166 |      346 |      1 |   886397596 
     298 |      474 |      4 |   884182806 
     115 |      265 |      2 |   881171488 
     253 |      465 |      5 |   891628467 
     305 |      451 |      3 |   886324817 
       6 |       86 |      3 |   883603013 
(10 rows)

Query 20220919_154422_00002_wznaq, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:06 [1.02K rows, 647KB] [177 rows/s, 112KB/s]

presto&gt; select count(*) from default.ratings where rating = 1;
 _col0 
-------
  6110 
(1 row)

Query 20220919_172121_00005_wznaq, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:01 [100K rows, 647KB] [79.7K rows/s, 515KB/s]

[root@sandbox-hdp presto-server-0.165]# bin/launcher stop
Stopped 3811
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220919232342-uacs95f" data-type="NodeParagraph" class="p" id="20220919232342-uacs95f" updated="20220919232344"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220919232344-hfp69ex.png" data-src="assets/image-20220919232344-hfp69ex.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920012010-hxyskjl" data-type="NodeParagraph" class="p" id="20220920012010-hxyskjl" updated="20220920012013"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920012013-kjfzsq6.png" data-src="assets/image-20220920012013-kjfzsq6.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919095258-rtinyfb" data-type="NodeListItem" class="li" id="20220919095258-rtinyfb" updated="20220919095258"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919095258-d16fpoy" data-type="NodeParagraph" class="p" id="20220919095258-d16fpoy" updated="20220919095258"><div contenteditable="false" spellcheck="false">Spin Cassandra back up, and query our users table in Cassandra with Presto</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920012449-au0rnwl" data-type="NodeCodeBlock" class="code-block" id="20220920012449-au0rnwl" updated="20220920012909"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp presto-server-0.165]# python --version
Python 2.7.5
[root@sandbox-hdp presto-server-0.165]# service cassandra start
Starting cassandra (via systemctl):                        [  OK  ]

## to get thrift spun, so presto can talk to cassandra
[root@sandbox-hdp presto-server-0.165]# nodetool enablethrift
[root@sandbox-hdp presto-server-0.165]# cqlsh --cqlversion=&quot;3.4.0&quot;
Connected to Test Cluster at 127.0.0.1:9042.
[cqlsh 5.0.1 | Cassandra 3.0.9 | CQL spec 3.4.0 | Native protocol v4]
Use HELP for help.
cqlsh&gt; describe keyspaces;

system_schema  system_auth  system  movielens  system_distributed  system_traces

cqlsh&gt; use movielens;
cqlsh:movielens&gt; describe tables;

users
cqlsh:movielens&gt; select * from users limit 10;  

 user_id | age | gender | occupation | zip
---------+-----+--------+------------+-------
     769 |  39 |      M |  executive | 06927
      23 |  30 |      F |     artist | 48197
     114 |  27 |      M | programmer | 75013
     660 |  26 |      M |    student | 77380
     893 |  25 |      M |    student | 95823
      53 |  26 |      M | programmer | 55414
     878 |  50 |      F |   educator | 98027
     110 |  19 |      M |    student | 77840
      91 |  55 |      M |  marketing | 01913
     128 |  24 |      F |  marketing | 20009

(10 rows)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220919095258-pvbwl2w" data-type="NodeListItem" class="li" id="20220919095258-pvbwl2w" updated="20220920013918"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220919095258-pw5ydo0" data-type="NodeParagraph" class="p" id="20220919095258-pw5ydo0" updated="20220919095258"><div contenteditable="false" spellcheck="false">Execute a query that joins users in Cassandra with ratings in Hive!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920012925-zavgk74" data-type="NodeCodeBlock" class="code-block" id="20220920012925-zavgk74" updated="20220920013918"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp presto-server-0.165]# cd etc/catalog
[root@sandbox-hdp catalog]# ls
hive.properties  jmx.properties
[root@sandbox-hdp catalog]# vi cassandra.properties
[root@sandbox-hdp catalog]# cat cassandra.properties 
connector.name=cassandra
cassandra.contact-points=127.0.0.1
[root@sandbox-hdp catalog]# cd ../..
[root@sandbox-hdp presto-server-0.165]# bin/launcher start
Started as 20630


[root@sandbox-hdp presto-server-0.165]# bin/presto --server 127.0.0.1:8090 --catalog hive,cassandra
presto&gt; show tables from cassandra.movielens;
 Table 
-------
 users 
(1 row)

Query 20220919_173356_00000_qd7fc, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:03 [1 rows, 24B] [0 rows/s, 7B/s]

presto&gt; describe cassandra.movielens.users;
   Column   |  Type   | Extra | Comment 
------------+---------+-------+---------
 user_id    | integer |       |       
 age        | integer |       |       
 gender     | varchar |       |       
 occupation | varchar |       |       
 zip        | varchar |       |       
(5 rows)

Query 20220919_173425_00001_qd7fc, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:01 [5 rows, 329B] [8 rows/s, 550B/s]

presto&gt; select * from cassandra.movielens.users limit 10;
 user_id | age | gender |  occupation   |  zip  
---------+-----+--------+---------------+-------
     268 |  24 | M      | engineer      | 19422 
     572 |  51 | M      | educator      | 20003 
     754 |  59 | F      | librarian     | 62901 
     314 |  20 | F      | student       | 08043 
     523 |  50 | F      | administrator | 04102 
     730 |  31 | F      | scientist     | 32114 
     279 |  33 | M      | programmer    | 85251 
     173 |  56 | M      | other         | 22306 
     183 |  33 | M      | scientist     | 27708 
     386 |  36 | M      | salesman      | 43221 
(10 rows)

Query 20220919_173453_00002_qd7fc, FINISHED, 1 node
Splits: 117 total, 58 done (49.57%)
0:01 [115 rows, 115B] [88 rows/s, 88B/s]

presto&gt; select * from hive.default.ratings limit 10;
 user_id | movie_id | rating | rating_time 
---------+----------+--------+-------------
     196 |      242 |      3 |   881250949 
     186 |      302 |      3 |   891717742 
      22 |      377 |      1 |   878887116 
     244 |       51 |      2 |   880606923 
     166 |      346 |      1 |   886397596 
     298 |      474 |      4 |   884182806 
     115 |      265 |      2 |   881171488 
     253 |      465 |      5 |   891628467 
     305 |      451 |      3 |   886324817 
       6 |       86 |      3 |   883603013 
(10 rows)

Query 20220919_173523_00003_qd7fc, FINISHED, 1 node
Splits: 18 total, 18 done (100.00%)
0:05 [1.02K rows, 647KB] [217 rows/s, 137KB/s]

presto&gt; select u.occupation, count(*) from hive.default.ratings r join cassandra.movielens.users u on r.user_id = u.user_id group by u.occupation;
  occupation   | _col1 
---------------+-------
 entertainment |  2095 
 artist        |  2308 
 student       | 21957 
 retired       |  1609 
 educator      |  9442 
 engineer      |  8175 
 technician    |  3506 
 other         | 10663 
 librarian     |  5273 
 lawyer        |  1345 
 marketing     |  1950 
 doctor        |   540 
 administrator |  7479 
 writer        |  5536 
 scientist     |  2058 
 none          |   901 
 homemaker     |   299 
 salesman      |   856 
 healthcare    |  2804 
 programmer    |  7801 
 executive     |  3403 
(21 rows)

Query 20220919_173701_00004_qd7fc, FINISHED, 1 node
Splits: 354 total, 354 done (100.00%)
0:55 [101K rows, 648KB] [1.85K rows/s, 11.9KB/s]

presto&gt; exit
[root@sandbox-hdp presto-server-0.165]# bin/launcher stop
Stopped 20630
[root@sandbox-hdp presto-server-0.165]# service cassandra stop
Stopping cassandra (via systemctl):                        [  OK  ]
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220918155243-sbwb28e" data-type="NodeParagraph" class="p" id="20220918155243-sbwb28e"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-jln0s84" data-type="NodeHeading" class="h2" id="20220912014401-jln0s84" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 8: Managing your Cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014056-t54ly0h" data-type="NodeList" class="list" id="20220920014056-t54ly0h" updated="20220924144646"><div data-marker="*" data-subtype="u" data-node-id="20220920014106-jk5wg84" data-type="NodeListItem" class="li" id="20220920014106-jk5wg84" updated="20220920014106"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014106-lgmydtb" data-type="NodeParagraph" class="p" id="20220920014106-lgmydtb" updated="20220920014107"><div contenteditable="false" spellcheck="false">YARN</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014110-6fhmq6q" data-type="NodeList" class="list" id="20220920014110-6fhmq6q"><div data-marker="*" data-subtype="u" data-node-id="20220920014108-l6s2he2" data-type="NodeListItem" class="li" id="20220920014108-l6s2he2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014115-82ru9vf" data-type="NodeParagraph" class="p" id="20220920014115-82ru9vf" updated="20220920014115"><div contenteditable="false" spellcheck="false">What is YARN?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014115-myutslh" data-type="NodeList" class="list" id="20220920014115-myutslh" updated="20220920014118"><div data-marker="*" data-subtype="u" data-node-id="20220920014118-uocscts" data-type="NodeListItem" class="li" id="20220920014118-uocscts" updated="20220920014118"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014118-qqutiy1" data-type="NodeParagraph" class="p" updated="20220920014202" id="20220920014118-qqutiy1"><div contenteditable="false" spellcheck="false"><strong>Yet Another Resource Negotiator</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014125-rbf4841" data-type="NodeList" class="list" id="20220920014125-rbf4841"><div data-marker="*" data-subtype="u" data-node-id="20220920014124-9acfnx7" data-type="NodeListItem" class="li" id="20220920014124-9acfnx7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014124-n5a1pab" data-type="NodeParagraph" class="p" id="20220920014124-n5a1pab"><div contenteditable="false" spellcheck="false">Introduced in Hadoop 2</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920014130-brapd1g" data-type="NodeListItem" class="li" id="20220920014130-brapd1g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014130-ev1qzzk" data-type="NodeParagraph" class="p" id="20220920014130-ev1qzzk" updated="20220920014151"><div contenteditable="false" spellcheck="false">Separates the problem of managing resources on your cluster from MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920014133-7jdtyo7" data-type="NodeListItem" class="li" id="20220920014133-7jdtyo7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014133-q937osw" data-type="NodeParagraph" class="p" updated="20220920014150" id="20220920014133-q937osw"><div contenteditable="false" spellcheck="false">Enabled development of MapReduce alternatives (Spark, Tez) built on top of YARN</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014115-q6pjidl" data-type="NodeList" class="list" id="20220920014115-q6pjidl" updated="20220920014115"><div data-marker="*" data-subtype="u" data-node-id="20220920014115-iafc0kf" data-type="NodeListItem" class="li" id="20220920014115-iafc0kf" updated="20220920014115"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014115-zm2we8f" data-type="NodeParagraph" class="p" id="20220920014115-zm2we8f" updated="20220920014141"><div contenteditable="false" spellcheck="false">It’s just there, under the hood, managing the usage of your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014142-jss2jv8" data-type="NodeList" class="list" id="20220920014142-jss2jv8"><div data-marker="*" data-subtype="u" data-node-id="20220920014141-rxjhy3i" data-type="NodeListItem" class="li" id="20220920014141-rxjhy3i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014141-h9q8uem" data-type="NodeParagraph" class="p" id="20220920014141-h9q8uem" updated="20220920014144"><div contenteditable="false" spellcheck="false">I can’t think of a reason why you’d need to actually write code against it yourself in this day and age. But you can.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920014351-879md97" data-type="NodeListItem" class="li" id="20220920014351-879md97"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014351-pxjypus" data-type="NodeParagraph" class="p" id="20220920014351-pxjypus" updated="20220920014353"><div contenteditable="false" spellcheck="false">Where YARN fits in</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920014519-jsez6j2" data-type="NodeList" class="list" id="20220920014519-jsez6j2" updated="20220920014520"><div data-marker="*" data-subtype="u" data-node-id="20220920014520-0ukv0l5" data-type="NodeListItem" class="li" id="20220920014520-0ukv0l5" updated="20220920014520"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014520-lc9fip9" data-type="NodeParagraph" class="p" id="20220920014520-lc9fip9" updated="20220920014529"><div contenteditable="false" spellcheck="false">YARN manages the computing resources</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920014530-0gi2802" data-type="NodeListItem" class="li" id="20220920014530-0gi2802"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014530-22lotn3" data-type="NodeParagraph" class="p" id="20220920014530-22lotn3" updated="20220920014545"><div contenteditable="false" spellcheck="false">HDFS manages the storage resources</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920014355-eyglndl" data-type="NodeParagraph" class="p" id="20220920014355-eyglndl" updated="20220920014403"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 576px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920014403-9g5qz04.png" data-src="assets/image-20220920014403-9g5qz04.png" alt="image" style="width: 566px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920014731-skvndkb" data-type="NodeListItem" class="li" id="20220920014731-skvndkb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920014731-6m6o280" data-type="NodeParagraph" class="p" id="20220920014731-6m6o280" updated="20220920015003"><div contenteditable="false" spellcheck="false">YARN workflow</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920014734-dt98hxe" data-type="NodeParagraph" class="p" id="20220920014734-dt98hxe" updated="20220920014957"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920014957-l59uln5.png" data-src="assets/image-20220920014957-l59uln5.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015113-f27xgfr" data-type="NodeListItem" class="li" id="20220920015113-f27xgfr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015113-5rtps0e" data-type="NodeParagraph" class="p" id="20220920015113-5rtps0e"><div contenteditable="false" spellcheck="false">​How YARN works</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015114-7n0t85u" data-type="NodeList" class="list" id="20220920015114-7n0t85u" updated="20220920015120"><div data-marker="*" data-subtype="u" data-node-id="20220920015120-moznrdq" data-type="NodeListItem" class="li" id="20220920015120-moznrdq" updated="20220920015120"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015120-zg0bfb9" data-type="NodeParagraph" class="p" id="20220920015120-zg0bfb9" updated="20220920015129"><div contenteditable="false" spellcheck="false">Your application talks to the Resource Manager to distribute work to your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015114-1jkjb0b" data-type="NodeList" class="list" id="20220920015114-1jkjb0b" updated="20220920015114"><div data-marker="*" data-subtype="u" data-node-id="20220920015114-72zco74" data-type="NodeListItem" class="li" id="20220920015114-72zco74" updated="20220920015114"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015114-xt5g2la" data-type="NodeParagraph" class="p" id="20220920015114-xt5g2la" updated="20220920015114"><div contenteditable="false" spellcheck="false">You can specify data locality – which HDFS block(s) do you want to process?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015114-dzda3k1" data-type="NodeList" class="list" id="20220920015114-dzda3k1" updated="20220920015133"><div data-marker="*" data-subtype="u" data-node-id="20220920015133-rv50vpd" data-type="NodeListItem" class="li" id="20220920015133-rv50vpd" updated="20220920015133"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015133-6yh5ko4" data-type="NodeParagraph" class="p" id="20220920015133-6yh5ko4" updated="20220920015136"><div contenteditable="false" spellcheck="false">YARN will try to get your process on the same node that has your HDFS blocks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015140-m3xt74u" data-type="NodeListItem" class="li" id="20220920015140-m3xt74u" updated="20220920015140"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015140-ti4aj6k" data-type="NodeParagraph" class="p" id="20220920015140-ti4aj6k" updated="20220920015140"><div contenteditable="false" spellcheck="false">You can specify different scheduling options for applications</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015148-4hy5nl1" data-type="NodeList" class="list" id="20220920015148-4hy5nl1"><div data-marker="*" data-subtype="u" data-node-id="20220920015147-s9ua8md" data-type="NodeListItem" class="li" id="20220920015147-s9ua8md"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015149-ftzb4on" data-type="NodeParagraph" class="p" id="20220920015149-ftzb4on" updated="20220920015151"><div contenteditable="false" spellcheck="false">So you can run more than one application at once on your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015114-39i0597" data-type="NodeListItem" class="li" id="20220920015114-39i0597" updated="20220920015114"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015114-8uonmpr" data-type="NodeParagraph" class="p" id="20220920015114-8uonmpr" updated="20220920015202"><div contenteditable="false" spellcheck="false">FIFO, Capacity, and Fair schedulers</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015114-7ctebbp" data-type="NodeList" class="list" id="20220920015114-7ctebbp" updated="20220920015114"><div data-marker="*" data-subtype="u" data-node-id="20220920015114-nydpye7" data-type="NodeListItem" class="li" id="20220920015114-nydpye7" updated="20220920015114"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015114-1jpegrh" data-type="NodeParagraph" class="p" id="20220920015114-1jpegrh" updated="20220920015114"><div contenteditable="false" spellcheck="false">FIFO runs jobs in sequence, first in first out</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015114-989awqw" data-type="NodeListItem" class="li" updated="20220920015114" id="20220920015114-989awqw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015114-ifqsvoe" data-type="NodeParagraph" class="p" id="20220920015114-ifqsvoe" updated="20220920015114"><div contenteditable="false" spellcheck="false">Capacity may run jobs in parallel if there’s enough spare capacity</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015114-d52lz1c" data-type="NodeListItem" class="li" id="20220920015114-d52lz1c" updated="20220920015114"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015114-953tzky" data-type="NodeParagraph" class="p" id="20220920015114-953tzky" updated="20220920015226"><div contenteditable="false" spellcheck="false">Fair may cut into a larger running job if you just want to squeeze in a small one</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015408-adzvi84" data-type="NodeListItem" class="li" id="20220920015408-adzvi84"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015410-djtlse4" data-type="NodeParagraph" class="p" id="20220920015410-djtlse4" updated="20220920015410"><div contenteditable="false" spellcheck="false">Building new YARN applications</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015410-bbtyqod" data-type="NodeList" class="list" id="20220920015410-bbtyqod" updated="20220920015415"><div data-marker="*" data-subtype="u" data-node-id="20220920015415-izgaidx" data-type="NodeListItem" class="li" id="20220920015415-izgaidx" updated="20220920015415"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015415-vaqxakp" data-type="NodeParagraph" class="p" id="20220920015415-vaqxakp" updated="20220920015415"><div contenteditable="false" spellcheck="false">Why? There are so many existing projects you can just use</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015435-0x7981u" data-type="NodeList" class="list" id="20220920015435-0x7981u"><div data-marker="*" data-subtype="u" data-node-id="20220920015432-javyeo2" data-type="NodeListItem" class="li" id="20220920015432-javyeo2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015432-szsr5a8" data-type="NodeParagraph" class="p" id="20220920015432-szsr5a8" updated="20220920015433"><div contenteditable="false" spellcheck="false">Need a DAG*-based application? Build it on Spark or Tez</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015441-vjt2lis" data-type="NodeList" class="list" id="20220920015441-vjt2lis"><div data-marker="*" data-subtype="u" data-node-id="20220920015441-h7jgg4b" data-type="NodeListItem" class="li" id="20220920015441-h7jgg4b"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015441-7qjhvy7" data-type="NodeParagraph" class="p" id="20220920015441-7qjhvy7"><div contenteditable="false" spellcheck="false">(*Directed Acyclic Graph)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015410-4czovbd" data-type="NodeList" class="list" id="20220920015410-4czovbd" updated="20220920015446"><div data-marker="*" data-subtype="u" data-node-id="20220920015446-y7i0v66" data-type="NodeListItem" class="li" id="20220920015446-y7i0v66" updated="20220920015446"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015446-420r3y3" data-type="NodeParagraph" class="p" updated="20220920015446" id="20220920015446-420r3y3"><div contenteditable="false" spellcheck="false">But if you really really need to</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015451-gwjv504" data-type="NodeList" class="list" id="20220920015451-gwjv504"><div data-marker="*" data-subtype="u" data-node-id="20220920015450-8ztc3on" data-type="NodeListItem" class="li" id="20220920015450-8ztc3on"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015450-26u8t7p" data-type="NodeParagraph" class="p" id="20220920015450-26u8t7p"><div contenteditable="false" spellcheck="false">There are frameworks: Apache Slider, Apache Twill</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015457-cjuhzu3" data-type="NodeListItem" class="li" id="20220920015457-cjuhzu3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015457-w58uk2m" data-type="NodeParagraph" class="p" id="20220920015457-w58uk2m"><div contenteditable="false" spellcheck="false">And there are some books on the topic.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015545-fwowqmx" data-type="NodeListItem" class="li" id="20220920015545-fwowqmx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015545-w5rpt7a" data-type="NodeParagraph" class="p" id="20220920015545-w5rpt7a" updated="20220920015553"><div contenteditable="false" spellcheck="false">That's pretty much</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920015555-yyzhevz" data-type="NodeList" class="list" id="20220920015555-yyzhevz" updated="20220920015555"><div data-marker="*" data-subtype="u" data-node-id="20220920015555-7homi9s" data-type="NodeListItem" class="li" id="20220920015555-7homi9s" updated="20220920015555"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015555-753rfif" data-type="NodeParagraph" class="p" id="20220920015555-753rfif" updated="20220920015558"><div contenteditable="false" spellcheck="false">Want to practice “using YARN?” Well, we already did that with MapReduce and Spark!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920015555-aidbtc6" data-type="NodeListItem" class="li" id="20220920015555-aidbtc6" updated="20220920015555"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920015555-u0tcvav" data-type="NodeParagraph" class="p" id="20220920015555-u0tcvav" updated="20220920015559"><div contenteditable="false" spellcheck="false">You just need to know it’s there, under the hood, managing your cluster’s resources for you</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920020818-oeon7jt" data-type="NodeListItem" class="li" updated="20220924144309" id="20220920020818-oeon7jt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020818-um640f6" data-type="NodeParagraph" class="p" id="20220920020818-um640f6" updated="20220924144309"><div contenteditable="false" spellcheck="false">Tez<span contenteditable="false" data-type="img" class="img" style="max-width: 300px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://tez.apache.org/images/ApacheTezLogo_lowres.png" data-src="https://tez.apache.org/images/ApacheTezLogo_lowres.png" alt="Apache Tez" style="width: 290px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920020825-7221rrw" data-type="NodeList" class="list" id="20220920020825-7221rrw" updated="20220920022905"><div data-marker="*" data-subtype="u" data-node-id="20220920020827-gajp4i9" data-type="NodeListItem" class="li" id="20220920020827-gajp4i9" updated="20220920020827"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020827-h2t2ck2" data-type="NodeParagraph" class="p" id="20220920020827-h2t2ck2" updated="20220920020827"><div contenteditable="false" spellcheck="false">What is Tez?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920020825-a01wqpx" data-type="NodeList" class="list" id="20220920020825-a01wqpx" updated="20220920020830"><div data-marker="*" data-subtype="u" data-node-id="20220920020830-6i0y5ap" data-type="NodeListItem" class="li" id="20220920020830-6i0y5ap" updated="20220920020830"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020830-y5jsc7s" data-type="NodeParagraph" class="p" id="20220920020830-y5jsc7s" updated="20220920020830"><div contenteditable="false" spellcheck="false">Another bit of infrastructure you can just use</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920020836-je5kkql" data-type="NodeList" class="list" id="20220920020836-je5kkql"><div data-marker="*" data-subtype="u" data-node-id="20220920020835-hcaj8o6" data-type="NodeListItem" class="li" id="20220920020835-hcaj8o6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020835-87vd35s" data-type="NodeParagraph" class="p" id="20220920020835-87vd35s"><div contenteditable="false" spellcheck="false">Makes your Hive, Pig, or MapReduce jobs faster!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920020838-e2ffecg" data-type="NodeListItem" class="li" id="20220920020838-e2ffecg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020838-3njkmg7" data-type="NodeParagraph" class="p" id="20220920020838-3njkmg7" updated="20220920020911"><div contenteditable="false" spellcheck="false">It’s an application framework clients can code against <strong>as a replacement for MapReduce</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920020825-gslfuht" data-type="NodeList" class="list" updated="20220920020825" id="20220920020825-gslfuht"><div data-marker="*" data-subtype="u" data-node-id="20220920020825-p3pmk17" data-type="NodeListItem" class="li" id="20220920020825-p3pmk17" updated="20220920020825"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020825-eyklrhn" data-type="NodeParagraph" class="p" id="20220920020825-eyklrhn" updated="20220920020851"><div contenteditable="false" spellcheck="false">Constructs Directed Acyclic Graphs (DAGs) for more efficient processing of distributed jobs</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920020843-dj09hru" data-type="NodeList" class="list" id="20220920020843-dj09hru" updated="20220920020845"><div data-marker="*" data-subtype="u" data-node-id="20220920020845-96sgkhx" data-type="NodeListItem" class="li" id="20220920020845-96sgkhx" updated="20220920020845"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020845-qdzi1vi" data-type="NodeParagraph" class="p" id="20220920020845-qdzi1vi" updated="20220920021009"><div contenteditable="false" spellcheck="false">Relies on a more holistic view of your job; <strong>eliminates unnecessary steps and dependencies.</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920020849-64ujutc" data-type="NodeListItem" class="li" id="20220920020849-64ujutc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920020849-cjlzcid" data-type="NodeParagraph" class="p" updated="20220920021012" id="20220920020849-cjlzcid"><div contenteditable="false" spellcheck="false"><strong>Optimizes physical data flow and resource usage</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920021121-hmdzl6l" data-type="NodeListItem" class="li" id="20220920021121-hmdzl6l"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021121-zntdln9" data-type="NodeParagraph" class="p" id="20220920021121-zntdln9" updated="20220920021132"><div contenteditable="false" spellcheck="false">Directed Acyclic Graphs</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920021225-gtqg4qc" data-type="NodeSuperBlock" class="sb" id="20220920021225-gtqg4qc" data-sb-layout="col"><div data-node-id="20220920021132-7s1my2h" data-type="NodeParagraph" class="p" id="20220920021132-7s1my2h" updated="20220920021158"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 325px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920021154-t1jhv97.png" data-src="assets/image-20220920021154-t1jhv97.png" alt="image" style="width: 315px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920021206-ouynh1v" data-type="NodeParagraph" class="p" id="20220920021206-ouynh1v"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 357px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920021158-5kh9j1p.png" data-src="assets/image-20220920021158-5kh9j1p.png" alt="image" style="width: 347px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920021356-avxb3ao" data-type="NodeListItem" class="li" id="20220920021356-avxb3ao"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021356-gvy1hu8" data-type="NodeParagraph" class="p" updated="20220920021404" id="20220920021356-gvy1hu8"><div contenteditable="false" spellcheck="false">Where Tez sits</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920021356-m0zdfin" data-type="NodeParagraph" class="p" id="20220920021356-m0zdfin" updated="20220920021356"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 576px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920014403-9g5qz04.png" data-src="assets/image-20220920014403-9g5qz04.png" alt="image" style="width: 566px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920021439-yg0blg7" data-type="NodeListItem" class="li" id="20220920021439-yg0blg7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021450-iddq2ya" data-type="NodeParagraph" class="p" id="20220920021450-iddq2ya" updated="20220920021450"><div contenteditable="false" spellcheck="false">Just tell Hive or Pig to use it.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920021513-qru08uv" data-type="NodeParagraph" class="p" id="20220920021513-qru08uv" updated="20220920021514"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 498px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920021514-44ljxs1.png" data-src="assets/image-20220920021514-44ljxs1.png" alt="image" style="width: 488px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920021450-ud6xas5" data-type="NodeList" class="list" id="20220920021450-ud6xas5" updated="20220920021453"><div data-marker="*" data-subtype="u" data-node-id="20220920021453-nj9sbqi" data-type="NodeListItem" class="li" updated="20220920021453" id="20220920021453-nj9sbqi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021453-jl1ahn8" data-type="NodeParagraph" class="p" id="20220920021453-jl1ahn8" updated="20220920021453"><div contenteditable="false" spellcheck="false">It probably does by default anyhow.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920021450-tj2ez7q" data-type="NodeList" class="list" id="20220920021450-tj2ez7q" updated="20220920021450"><div data-marker="*" data-subtype="u" data-node-id="20220920021450-86op1x1" data-type="NodeListItem" class="li" id="20220920021450-86op1x1" updated="20220920021450"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021450-t4bv4sa" data-type="NodeParagraph" class="p" id="20220920021450-t4bv4sa" updated="20220920021450"><div contenteditable="false" spellcheck="false">It really is a lot faster!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920021545-1p1degs" data-type="NodeListItem" class="li" updated="20220920022905" id="20220920021545-1p1degs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920021545-tlctyke" data-type="NodeParagraph" class="p" id="20220920021545-tlctyke" updated="20220920021551"><div contenteditable="false" spellcheck="false">Hands-on: Compare performance of a Hive query using Tez vs. MapReduce</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920021551-slfv0sl" data-type="NodeCodeBlock" class="code-block" id="20220920021551-slfv0sl" updated="20220920023207"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">sql</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">DROP VIEW IF EXISTS topMovieIDs;

CREATE VIEW topMovieIDs AS
SELECT movie_id, count(movie_id) AS ratingCount
FROM movielens.ratings
GROUP BY movie_id
ORDER BY ratingCount DESC;

SELECT n.name, t.ratingCount
FROM topMovieIDs t
JOIN movielens.names n
ON t.movie_id = n.movie_id;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920022904-mook26k" data-type="NodeParagraph" class="p" id="20220920022904-mook26k" updated="20220920022905"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920022905-4186lfh.png" data-src="assets/image-20220920022905-4186lfh.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920023641-pof4vcj" data-type="NodeTable" class="table" colgroup="|" id="20220920023641-pof4vcj" updated="20220920024247"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /></colgroup><thead><tr><th>Start Time</th><th>20 Sep 2022 02:31:50</th></tr></thead><tbody><tr><td>End Time</td><td>20 Sep 2022 02:33:50</td></tr><tr><td>Duration</td><td>1m 59s 687ms</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920024352-01qi831" data-type="NodeParagraph" class="p" updated="20220920024353" id="20220920024352-01qi831"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 669px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920024353-5afa7v9.png" data-src="assets/image-20220920024353-5afa7v9.png" alt="image" style="width: 659px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920023759-bw7qgqj" data-type="NodeParagraph" class="p" id="20220920023759-bw7qgqj" updated="20220920023800"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920023800-gob5bu8.png" data-src="assets/image-20220920023800-gob5bu8.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920023801-wtv9ovu" data-type="NodeParagraph" class="p" id="20220920023801-wtv9ovu" updated="20220920024111"><div contenteditable="false" spellcheck="false">Duration around 2min 27s</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024252-d189yu5" data-type="NodeList" class="list" id="20220920024252-d189yu5" updated="20220920024256"><div data-marker="*" data-subtype="u" data-node-id="20220920024256-g7612dw" data-type="NodeListItem" class="li" id="20220920024256-g7612dw" updated="20220920024256"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024256-7ok7boj" data-type="NodeParagraph" class="p" id="20220920024256-7ok7boj" updated="20220920024315"><div contenteditable="false" spellcheck="false">Tez 20s, MR 71s  (in udemy course)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920024449-7ol0v1q" data-type="NodeListItem" class="li" id="20220920024449-7ol0v1q" updated="20220924144643"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024449-iuiupe1" data-type="NodeParagraph" class="p" id="20220920024449-iuiupe1" updated="20220924144421"><div contenteditable="false" spellcheck="false">Apache Mesos<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://mesos.apache.org/assets/img/mesos_logo.png" data-src="https://mesos.apache.org/assets/img/mesos_logo.png" alt="Apache Mesos logo" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024530-puvn2us" data-type="NodeList" class="list" id="20220920024530-puvn2us" updated="20220924144643"><div data-marker="*" data-subtype="u" data-node-id="20220920024537-num30cl" data-type="NodeListItem" class="li" id="20220920024537-num30cl" updated="20220920024537"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024537-u9mvmeh" data-type="NodeParagraph" class="p" id="20220920024537-u9mvmeh" updated="20220920024537"><div contenteditable="false" spellcheck="false">What is Mesos?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024537-kaafoh8" data-type="NodeList" class="list" id="20220920024537-kaafoh8" updated="20220920024540"><div data-marker="*" data-subtype="u" data-node-id="20220920024540-ejurvpx" data-type="NodeListItem" class="li" id="20220920024540-ejurvpx" updated="20220920024540"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024540-1xq8mc6" data-type="NodeParagraph" class="p" id="20220920024540-1xq8mc6" updated="20220920024541"><div contenteditable="false" spellcheck="false">Came out of Twitter – it’s a system that manages resources across your data center(s)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024624-0sydo1s" data-type="NodeList" class="list" id="20220920024624-0sydo1s"><div data-marker="*" data-subtype="u" data-node-id="20220920024624-rk4s5n6" data-type="NodeListItem" class="li" id="20220920024624-rk4s5n6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024624-syfgvzs" data-type="NodeParagraph" class="p" id="20220920024624-syfgvzs" updated="20220920024658"><div contenteditable="false" spellcheck="false">YARN is confined to Hadoop system, but Mesos is generic to all systems</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024537-11uf0nt" data-type="NodeList" class="list" id="20220920024537-11uf0nt" updated="20220920024537"><div data-marker="*" data-subtype="u" data-node-id="20220920024537-ka3lxmb" data-type="NodeListItem" class="li" id="20220920024537-ka3lxmb" updated="20220920024537"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024537-4x5gpfy" data-type="NodeParagraph" class="p" id="20220920024537-4x5gpfy" updated="20220920024543"><div contenteditable="false" spellcheck="false">Not just for big data stuff – it can allocate resources for web servers, small scripts, whatever.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920024537-5jxoi21" data-type="NodeListItem" class="li" id="20220920024537-5jxoi21" updated="20220920024537"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024537-ftr3mm6" data-type="NodeParagraph" class="p" id="20220920024537-ftr3mm6" updated="20220920024544"><div contenteditable="false" spellcheck="false">Meant to solve a more general problem than YARN – it’s really a general container management system</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920024808-rn458mq" data-type="NodeListItem" class="li" id="20220920024808-rn458mq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024809-84pblh3" data-type="NodeParagraph" class="p" updated="20220920024811" id="20220920024809-84pblh3"><div contenteditable="false" spellcheck="false">We’re kind of going off the reservation</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024809-le4jauk" data-type="NodeList" class="list" id="20220920024809-le4jauk" updated="20220920024817"><div data-marker="*" data-subtype="u" data-node-id="20220920024817-5h9ld3j" data-type="NodeListItem" class="li" id="20220920024817-5h9ld3j" updated="20220920024817"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024817-0wp664x" data-type="NodeParagraph" class="p" updated="20220920024859" id="20220920024817-0wp664x"><div contenteditable="false" spellcheck="false"><strong>Mesos isn’t really part of the Hadoop ecosystem</strong> per se, but it can play nice with it</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024822-w81regi" data-type="NodeList" class="list" id="20220920024822-w81regi"><div data-marker="*" data-subtype="u" data-node-id="20220920024822-ig8z4yk" data-type="NodeListItem" class="li" id="20220920024822-ig8z4yk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024822-sub69h9" data-type="NodeParagraph" class="p" id="20220920024822-sub69h9" updated="20220920024911"><div contenteditable="false" spellcheck="false"><strong>Spark and Storm may both run on Mesos instead of YARN</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025009-12ev7re" data-type="NodeList" class="list" id="20220920025009-12ev7re"><div data-marker="*" data-subtype="u" data-node-id="20220920025009-zp0bfqp" data-type="NodeListItem" class="li" id="20220920025009-zp0bfqp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025009-qfq0bsk" data-type="NodeParagraph" class="p" updated="20220920025018" id="20220920025009-qfq0bsk"><div contenteditable="false" spellcheck="false">Spark originally written on mesos</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920024836-ed1h0dx" data-type="NodeListItem" class="li" id="20220920024836-ed1h0dx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024836-cjejp6x" data-type="NodeParagraph" class="p" id="20220920024836-cjejp6x"><div contenteditable="false" spellcheck="false">Hadoop YARN may be integrated with Mesos using Myriad</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920024841-es1mt6m" data-type="NodeList" class="list" id="20220920024841-es1mt6m"><div data-marker="*" data-subtype="u" data-node-id="20220920024840-nglmury" data-type="NodeListItem" class="li" id="20220920024840-nglmury"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920024840-h64h7h7" data-type="NodeParagraph" class="p" id="20220920024840-h64h7h7" updated="20220920024843"><div contenteditable="false" spellcheck="false">So you don’t necessarily need to partition your data center between your Hadoop cluster and everything else!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025031-sclb2oz" data-type="NodeListItem" class="li" id="20220920025031-sclb2oz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-jd99wqy" data-type="NodeParagraph" class="p" updated="20220920025033" id="20220920025033-jd99wqy"><div contenteditable="false" spellcheck="false">Differences between Mesos and YARN</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025033-0dcy4qz" data-type="NodeList" class="list" id="20220920025033-0dcy4qz" updated="20220920025036"><div data-marker="*" data-subtype="u" data-node-id="20220920025036-2yr58u7" data-type="NodeListItem" class="li" updated="20220920025036" id="20220920025036-2yr58u7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025036-e14ibi1" data-type="NodeParagraph" class="p" id="20220920025036-e14ibi1" updated="20220920025038"><div contenteditable="false" spellcheck="false">YARN is a monolithic scheduler – you give it a job, and YARN figures out where to run</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025033-deq7voi" data-type="NodeList" class="list" id="20220920025033-deq7voi" updated="20220920025033"><div data-marker="*" data-subtype="u" data-node-id="20220920025033-jhzaadw" data-type="NodeListItem" class="li" updated="20220920025033" id="20220920025033-jhzaadw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-oa7lw4p" data-type="NodeParagraph" class="p" id="20220920025033-oa7lw4p" updated="20220920025033"><div contenteditable="false" spellcheck="false">Mesos is a two-tiered system</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025033-i8fwazv" data-type="NodeList" class="list" id="20220920025033-i8fwazv" updated="20220920025033"><div data-marker="*" data-subtype="u" data-node-id="20220920025033-jlb20r7" data-type="NodeListItem" class="li" id="20220920025033-jlb20r7" updated="20220920025033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-k5yqeoi" data-type="NodeParagraph" class="p" id="20220920025033-k5yqeoi" updated="20220920025129"><div contenteditable="false" spellcheck="false">Mesos just <strong>makes offers of resources to your application</strong> (“framework”)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025033-bw0l3z5" data-type="NodeListItem" class="li" id="20220920025033-bw0l3z5" updated="20220920025033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-aypbpcx" data-type="NodeParagraph" class="p" updated="20220920025137" id="20220920025033-aypbpcx"><div contenteditable="false" spellcheck="false"><strong>Your framework decides whether to accept or reject them</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025033-a7kxgpq" data-type="NodeListItem" class="li" id="20220920025033-a7kxgpq" updated="20220920025033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-5lx3vpn" data-type="NodeParagraph" class="p" id="20220920025033-5lx3vpn" updated="20220920025046"><div contenteditable="false" spellcheck="false">You also decide your own scheduling algorithm</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025033-3b29jx4" data-type="NodeListItem" class="li" id="20220920025033-3b29jx4" updated="20220920025033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-ajazua5" data-type="NodeParagraph" class="p" id="20220920025033-ajazua5" updated="20220920025048"><div contenteditable="false" spellcheck="false">YARN is optimized for long, analytical jobs like you see in Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025033-a7ym468" data-type="NodeListItem" class="li" id="20220920025033-a7ym468" updated="20220920025033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025033-zcnr5qo" data-type="NodeParagraph" class="p" id="20220920025033-zcnr5qo" updated="20220920025050"><div contenteditable="false" spellcheck="false">Mesos is built to handle that, as well as long-lived processes (servers) and short-lived processes as well.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025233-zt41l7t" data-type="NodeListItem" class="li" id="20220920025233-zt41l7t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025234-5z72oiv" data-type="NodeParagraph" class="p" id="20220920025234-5z72oiv" updated="20220920025234"><div contenteditable="false" spellcheck="false">How Mesos fits in</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025238-4ivd9rm" data-type="NodeList" class="list" id="20220920025238-4ivd9rm" updated="20220920025250"><div data-marker="*" data-subtype="u" data-node-id="20220920025250-hfh1csw" data-type="NodeListItem" class="li" id="20220920025250-hfh1csw" updated="20220920025250"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025250-nestpjk" data-type="NodeParagraph" class="p" id="20220920025250-nestpjk" updated="20220920025358"><div contenteditable="false" spellcheck="false">If you’re looking for an architecture you can <strong>code all of your organization’s cluster applications against</strong> – <strong>not just Hadoop</strong> stuff – Mesos can be really useful</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025300-4undy63" data-type="NodeList" class="list" id="20220920025300-4undy63"><div data-marker="*" data-subtype="u" data-node-id="20220920025259-ct2i1hb" data-type="NodeListItem" class="li" id="20220920025259-ct2i1hb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025259-k6j757v" data-type="NodeParagraph" class="p" id="20220920025259-k6j757v" updated="20220920025300"><div contenteditable="false" spellcheck="false">You should also look at Kuberentes / Docker</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025305-adh5kkh" data-type="NodeListItem" class="li" id="20220920025305-adh5kkh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025305-9ud7sd0" data-type="NodeParagraph" class="p" id="20220920025305-9ud7sd0" updated="20220920025309"><div contenteditable="false" spellcheck="false">If all you are about is Spark and Storm from the Hadoop-y world, Mesos is an option</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025314-rgouqf3" data-type="NodeList" class="list" id="20220920025314-rgouqf3"><div data-marker="*" data-subtype="u" data-node-id="20220920025314-e4dzy52" data-type="NodeListItem" class="li" id="20220920025314-e4dzy52"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025314-rph8hvq" data-type="NodeParagraph" class="p" id="20220920025314-rph8hvq"><div contenteditable="false" spellcheck="false">But YARN’s probably better, especially if your data is on HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025317-wdkji0m" data-type="NodeListItem" class="li" id="20220920025317-wdkji0m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025317-h7vejv2" data-type="NodeParagraph" class="p" id="20220920025317-h7vejv2"><div contenteditable="false" spellcheck="false">Spark on Mesos is limited to one executor per slave (node)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920025515-idhbvvh" data-type="NodeList" class="list" id="20220920025515-idhbvvh"><div data-marker="*" data-subtype="u" data-node-id="20220920025514-fxcdcj6" data-type="NodeListItem" class="li" id="20220920025514-fxcdcj6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025514-8e8duci" data-type="NodeParagraph" class="p" id="20220920025514-8e8duci" updated="20220920025525"><div contenteditable="false" spellcheck="false">YARN-operated spark will be efficient</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920025538-ncrx6tn" data-type="NodeListItem" class="li" id="20220920025538-ncrx6tn" updated="20220920025539"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920025538-fqepani" data-type="NodeParagraph" class="p" id="20220920025538-fqepani" updated="20220920025539"><div contenteditable="false" spellcheck="false">Siloed vs resource sharing</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103245-1r3bozh" data-type="NodeList" class="list" id="20220920103245-1r3bozh" updated="20220920103246"><div data-marker="*" data-subtype="u" data-node-id="20220920103336-iamvjqj" data-type="NodeListItem" class="li" id="20220920103336-iamvjqj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103336-bte3ecf" data-type="NodeParagraph" class="p" updated="20220920103359" id="20220920103336-bte3ecf"><div contenteditable="false" spellcheck="false">Myriad -- to integrate Hadoop YARN with Mesos</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103246-6o2qtak" data-type="NodeListItem" class="li" id="20220920103246-6o2qtak" updated="20220920103246"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103246-or352go" data-type="NodeParagraph" class="p" id="20220920103246-or352go" updated="20220920103304"><div contenteditable="false" spellcheck="false">p1, Hadoop managed by YARN, other reources managed by Mesos</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103410-tg1oa3r" data-type="NodeListItem" class="li" id="20220920103410-tg1oa3r"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103410-c8syyjo" data-type="NodeParagraph" class="p" id="20220920103410-c8syyjo" updated="20220920103435"><div contenteditable="false" spellcheck="false">p2, using Myriad, more integration, less waste on resources</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920103230-bvb33os" data-type="NodeParagraph" class="p" id="20220920103230-bvb33os" updated="20220920103231"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920103231-dpngfqm.png" data-src="assets/image-20220920103231-dpngfqm.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103525-3z6iqx8" data-type="NodeListItem" class="li" id="20220920103525-3z6iqx8" updated="20220924144643"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103526-viuuxfq" data-type="NodeParagraph" class="p" id="20220920103526-viuuxfq" updated="20220920103526"><div contenteditable="false" spellcheck="false">When to use Mesos?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103526-bteycfl" data-type="NodeList" class="list" updated="20220920103529" id="20220920103526-bteycfl"><div data-marker="*" data-subtype="u" data-node-id="20220920103529-l2y47mh" data-type="NodeListItem" class="li" id="20220920103529-l2y47mh" updated="20220920103529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103529-q7q6cjs" data-type="NodeParagraph" class="p" id="20220920103529-q7q6cjs" updated="20220920103530"><div contenteditable="false" spellcheck="false">If your organization as a whole has chosen to use Mesos to manage its computing resources in general</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103535-fhrodz3" data-type="NodeList" class="list" id="20220920103535-fhrodz3"><div data-marker="*" data-subtype="u" data-node-id="20220920103534-8hslbc9" data-type="NodeListItem" class="li" id="20220920103534-8hslbc9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103534-9167sha" data-type="NodeParagraph" class="p" id="20220920103534-9167sha"><div contenteditable="false" spellcheck="false">Then you can avoid partitioning off a Hadoop cluster by using Myriad</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103538-o0wa64a" data-type="NodeListItem" class="li" id="20220920103538-o0wa64a"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103538-ocnayj8" data-type="NodeParagraph" class="p" updated="20220920103539" id="20220920103538-ocnayj8"><div contenteditable="false" spellcheck="false">There is also a “Hadoop on Mesos” package for Cloudera that bypasses YARN entirely</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103526-5tcrbyi" data-type="NodeList" class="list" id="20220920103526-5tcrbyi" updated="20220924144643"><div data-marker="*" data-subtype="u" data-node-id="20220920103526-6236v62" data-type="NodeListItem" class="li" id="20220920103526-6236v62" updated="20220924144643"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103526-sikzspx" data-type="NodeParagraph" class="p" id="20220920103526-sikzspx" updated="20220924144643"><div contenteditable="false" spellcheck="false">Otherwise – probably not. I just want you know what Mesos is and how it’s different from YARN.​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103840-ly9luek" data-type="NodeListItem" class="li" id="20220920103840-ly9luek" updated="20220924144646"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103840-vb4l97b" data-type="NodeParagraph" class="p" id="20220920103840-vb4l97b" updated="20220924144646"><div contenteditable="false" spellcheck="false">ZooKeeper <span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://zookeeper.apache.org/images/zookeeper_small.gif" data-src="https://zookeeper.apache.org/images/zookeeper_small.gif" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103852-pm4pq2p" data-type="NodeList" class="list" id="20220920103852-pm4pq2p" updated="20220920103913"><div data-marker="*" data-subtype="u" data-node-id="20220920103913-vkr81x0" data-type="NodeListItem" class="li" id="20220920103913-vkr81x0" updated="20220920103913"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103913-szh1xpf" data-type="NodeParagraph" class="p" id="20220920103913-szh1xpf" updated="20220920103913"><div contenteditable="false" spellcheck="false">What is ZooKeeper?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103913-oss0abt" data-type="NodeList" class="list" id="20220920103913-oss0abt" updated="20220920103916"><div data-marker="*" data-subtype="u" data-node-id="20220920103916-32cdz4b" data-type="NodeListItem" class="li" id="20220920103916-32cdz4b" updated="20220920103916"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103916-ya0a993" data-type="NodeParagraph" class="p" id="20220920103916-ya0a993" updated="20220920103921"><div contenteditable="false" spellcheck="false">It basically keeps track of information that must be synchronized across your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103933-2q0nln9" data-type="NodeList" class="list" id="20220920103933-2q0nln9"><div data-marker="*" data-subtype="u" data-node-id="20220920103933-8el751w" data-type="NodeListItem" class="li" id="20220920103933-8el751w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103933-sipk0wd" data-type="NodeParagraph" class="p" id="20220920103933-sipk0wd" updated="20220920203824"><div contenteditable="false" spellcheck="false"><strong>​Which node is the master?</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103936-g9c4pgh" data-type="NodeListItem" class="li" id="20220920103936-g9c4pgh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103936-nroyssf" data-type="NodeParagraph" class="p" id="20220920103936-nroyssf" updated="20220920203826"><div contenteditable="false" spellcheck="false"><strong>What tasks are assigned to which workers?</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103938-4bpoktg" data-type="NodeListItem" class="li" id="20220920103938-4bpoktg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103938-4hmx6df" data-type="NodeParagraph" class="p" id="20220920103938-4hmx6df" updated="20220920203830"><div contenteditable="false" spellcheck="false"><strong>Which workers are currently available?</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920103913-wwbly2f" data-type="NodeList" class="list" updated="20220920103913" id="20220920103913-wwbly2f"><div data-marker="*" data-subtype="u" data-node-id="20220920103913-2bh8m53" data-type="NodeListItem" class="li" id="20220920103913-2bh8m53" updated="20220920103913"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103913-nh0u1ub" data-type="NodeParagraph" class="p" id="20220920103913-nh0u1ub" updated="20220920103949"><div contenteditable="false" spellcheck="false">It’s a tool that applications can use to recover from partial failures in your cluster.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103947-czze4c1" data-type="NodeListItem" class="li" id="20220920103947-czze4c1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920103947-fatmecg" data-type="NodeParagraph" class="p" id="20220920103947-fatmecg" updated="20220920103951"><div contenteditable="false" spellcheck="false">An integral part of HBase, High-Availability (HA) MapReduce, Drill, Storm, Solr, and much more</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920103959-9rcj71o" data-type="NodeListItem" class="li" id="20220920103959-9rcj71o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104000-anwn3gq" data-type="NodeParagraph" class="p" id="20220920104000-anwn3gq" updated="20220920104000"><div contenteditable="false" spellcheck="false">Failure modes</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920104007-78grcs5" data-type="NodeParagraph" class="p" updated="20220920104019" id="20220920104007-78grcs5"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 441px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920104019-vezu2gz.png" data-src="assets/image-20220920104019-vezu2gz.png" alt="image" style="width: 431px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104000-tpg90bt" data-type="NodeList" class="list" id="20220920104000-tpg90bt" updated="20220920104004"><div data-marker="*" data-subtype="u" data-node-id="20220920104004-0h5suie" data-type="NodeListItem" class="li" id="20220920104004-0h5suie" updated="20220920104004"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104004-lre8wo8" data-type="NodeParagraph" class="p" id="20220920104004-lre8wo8" updated="20220920104004"><div contenteditable="false" spellcheck="false">Master crashes, needs to fail over to a backup</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104000-kv9szic" data-type="NodeList" class="list" id="20220920104000-kv9szic" updated="20220920104000"><div data-marker="*" data-subtype="u" data-node-id="20220920104000-ukpf2zx" data-type="NodeListItem" class="li" id="20220920104000-ukpf2zx" updated="20220920104000"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104000-a4s1v9x" data-type="NodeParagraph" class="p" id="20220920104000-a4s1v9x" updated="20220920104000"><div contenteditable="false" spellcheck="false">Worker crashes – its work needs to be redistributed</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104000-dd26q5p" data-type="NodeListItem" class="li" id="20220920104000-dd26q5p" updated="20220920104000"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104000-1ubwmg0" data-type="NodeParagraph" class="p" id="20220920104000-1ubwmg0" updated="20220920104000"><div contenteditable="false" spellcheck="false">Network trouble – part of your cluster can’t see the rest of it</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104040-kqy9nem" data-type="NodeListItem" class="li" id="20220920104040-kqy9nem"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104041-unesq99" data-type="NodeParagraph" class="p" updated="20220920104043" id="20220920104041-unesq99"><div contenteditable="false" spellcheck="false">“Primitive” operations in a distributed system</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104041-zbb9is2" data-type="NodeList" class="list" id="20220920104041-zbb9is2" updated="20220920104046"><div data-marker="*" data-subtype="u" data-node-id="20220920104046-o0eui3e" data-type="NodeListItem" class="li" id="20220920104046-o0eui3e" updated="20220920104046"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104046-evi5aea" data-type="NodeParagraph" class="p" id="20220920104046-evi5aea" updated="20220920104046"><div contenteditable="false" spellcheck="false">Master election</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104049-ukh8s64" data-type="NodeList" class="list" id="20220920104049-ukh8s64"><div data-marker="*" data-subtype="u" data-node-id="20220920104049-fsahfhf" data-type="NodeListItem" class="li" id="20220920104049-fsahfhf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104049-db4ouqq" data-type="NodeParagraph" class="p" id="20220920104049-db4ouqq" updated="20220920204310"><div contenteditable="false" spellcheck="false"><strong>One node registers itself as a master, and holds a “lock” on that data</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104053-m2pex52" data-type="NodeListItem" class="li" id="20220920104053-m2pex52"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104053-a0upqj6" data-type="NodeParagraph" class="p" id="20220920104053-a0upqj6"><div contenteditable="false" spellcheck="false">Other nodes cannot become master until that lock is released</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104056-sx32vs2" data-type="NodeListItem" class="li" id="20220920104056-sx32vs2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104056-nwod2p6" data-type="NodeParagraph" class="p" id="20220920104056-nwod2p6"><div contenteditable="false" spellcheck="false">Only one node allowed to hold the lock at a time</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104041-v81s5q3" data-type="NodeList" class="list" id="20220920104041-v81s5q3" updated="20220920104041"><div data-marker="*" data-subtype="u" data-node-id="20220920104041-pjytkdg" data-type="NodeListItem" class="li" updated="20220920104041" id="20220920104041-pjytkdg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104041-4544rox" data-type="NodeParagraph" class="p" id="20220920104041-4544rox" updated="20220920104041"><div contenteditable="false" spellcheck="false">Crash detection</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104100-svgdlbq" data-type="NodeList" class="list" id="20220920104100-svgdlbq" updated="20220920104110"><div data-marker="*" data-subtype="u" data-node-id="20220920104110-y9c12zj" data-type="NodeListItem" class="li" id="20220920104110-y9c12zj" updated="20220920104110"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104110-4q7rqxo" data-type="NodeParagraph" class="p" id="20220920104110-4q7rqxo" updated="20220920204332"><div contenteditable="false" spellcheck="false">“Ephemeral” data on a node’s availability automatically goes away if the node disconnects, or fails to refresh itself after some time-out period.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104116-pa2qaqj" data-type="NodeListItem" class="li" id="20220920104116-pa2qaqj" updated="20220920104116"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104116-z4srzs4" data-type="NodeParagraph" class="p" id="20220920104116-z4srzs4" updated="20220920104116"><div contenteditable="false" spellcheck="false">Group management</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104125-g765to9" data-type="NodeListItem" class="li" id="20220920104125-g765to9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104125-momqa68" data-type="NodeParagraph" class="p" id="20220920104125-momqa68" updated="20220920104125"><div contenteditable="false" spellcheck="false">Metadata</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104129-ymjaa3o" data-type="NodeList" class="list" id="20220920104129-ymjaa3o"><div data-marker="*" data-subtype="u" data-node-id="20220920104129-3v4u4ll" data-type="NodeListItem" class="li" id="20220920104129-3v4u4ll"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104129-a55ap8v" data-type="NodeParagraph" class="p" id="20220920104129-a55ap8v"><div contenteditable="false" spellcheck="false">List of outstanding tasks, task assignments</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104136-1judi8k" data-type="NodeListItem" class="li" id="20220920104136-1judi8k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104137-n7c1l8s" data-type="NodeParagraph" class="p" id="20220920104137-n7c1l8s" updated="20220920104142"><div contenteditable="false" spellcheck="false">But ZooKeeper’s API is not about these primitives.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104137-6oarh3y" data-type="NodeList" class="list" id="20220920104137-6oarh3y" updated="20220920104146"><div data-marker="*" data-subtype="u" data-node-id="20220920104146-h23lxli" data-type="NodeListItem" class="li" id="20220920104146-h23lxli" updated="20220920104146"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104146-fs6rtoz" data-type="NodeParagraph" class="p" id="20220920104146-fs6rtoz" updated="20220920104148"><div contenteditable="false" spellcheck="false">Instead they have built a more general purpose system that makes it easy for applications to implement them.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104212-c8g0944" data-type="NodeListItem" class="li" id="20220920104212-c8g0944"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104213-4aumn7k" data-type="NodeParagraph" class="p" id="20220920104213-4aumn7k" updated="20220920104213"><div contenteditable="false" spellcheck="false">Zookeeper’s API</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104213-cbcvqpu" data-type="NodeList" class="list" id="20220920104213-cbcvqpu" updated="20220920104216"><div data-marker="*" data-subtype="u" data-node-id="20220920104216-eswt15m" data-type="NodeListItem" class="li" updated="20220920104216" id="20220920104216-eswt15m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104216-969hgq9" data-type="NodeParagraph" class="p" id="20220920104216-969hgq9" updated="20220920104216"><div contenteditable="false" spellcheck="false">Really a little distributed file system</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104219-swpc8lz" data-type="NodeList" class="list" id="20220920104219-swpc8lz"><div data-marker="*" data-subtype="u" data-node-id="20220920104219-2txym7r" data-type="NodeListItem" class="li" id="20220920104219-2txym7r"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104219-ooyjcgp" data-type="NodeParagraph" class="p" id="20220920104219-ooyjcgp"><div contenteditable="false" spellcheck="false">With strong consistency guarantees</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104224-gh41umi" data-type="NodeListItem" class="li" id="20220920104224-gh41umi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104224-a859s3o" data-type="NodeParagraph" class="p" id="20220920104224-a859s3o" updated="20220920204516"><div contenteditable="false" spellcheck="false"><strong>Replace the concept of “file” with “znode” and you’ve pretty much got it</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104213-66fmk2p" data-type="NodeList" class="list" id="20220920104213-66fmk2p" updated="20220920104213"><div data-marker="*" data-subtype="u" data-node-id="20220920104213-6tlndcx" data-type="NodeListItem" class="li" updated="20220920104213" id="20220920104213-6tlndcx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104213-cja50cj" data-type="NodeParagraph" class="p" updated="20220920104213" id="20220920104213-cja50cj"><div contenteditable="false" spellcheck="false">Here’s the ZooKeeper API:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104228-hnzihlo" data-type="NodeList" class="list" id="20220920104228-hnzihlo"><div data-marker="*" data-subtype="u" data-node-id="20220920104227-k9crmf1" data-type="NodeListItem" class="li" id="20220920104227-k9crmf1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104227-hd2e6vb" data-type="NodeParagraph" class="p" id="20220920104227-hd2e6vb"><div contenteditable="false" spellcheck="false">Create, delete, exists, setData, getData, getChildren</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920104308-kq9kl2f" data-type="NodeCodeBlock" class="code-block" id="20220920104308-kq9kl2f" updated="20220920104449"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">./
├── /master &quot;master1.foobar.com:2223&quot;
└── /workers
    ├── worker-1 &quot;worker-2.foobar.com:2225&quot;
    └──  worker-2 &quot;worker-5.foobar.com:2225&quot;
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104819-4p33bm0" data-type="NodeListItem" class="li" id="20220920104819-4p33bm0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104819-obc7uvj" data-type="NodeParagraph" class="p" id="20220920104819-obc7uvj" updated="20220920104819"><div contenteditable="false" spellcheck="false">Notifications</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104819-ct3yvta" data-type="NodeList" class="list" id="20220920104819-ct3yvta" updated="20220920104823"><div data-marker="*" data-subtype="u" data-node-id="20220920104823-je8vu6d" data-type="NodeListItem" class="li" id="20220920104823-je8vu6d" updated="20220920104823"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104823-h5rwd5o" data-type="NodeParagraph" class="p" id="20220920104823-h5rwd5o" updated="20220920104823"><div contenteditable="false" spellcheck="false">A client can register for notifications on a znode</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104828-d1thvyv" data-type="NodeList" class="list" id="20220920104828-d1thvyv"><div data-marker="*" data-subtype="u" data-node-id="20220920104827-rz98lnh" data-type="NodeListItem" class="li" id="20220920104827-rz98lnh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104827-1jqisha" data-type="NodeParagraph" class="p" id="20220920104827-1jqisha"><div contenteditable="false" spellcheck="false">Avoids continuous polling</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104831-895j9kw" data-type="NodeListItem" class="li" id="20220920104831-895j9kw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104831-byolpol" data-type="NodeParagraph" class="p" id="20220920104831-byolpol" updated="20220920104833"><div contenteditable="false" spellcheck="false">Example: register for notification on /master – if it goes away, try to take over as the new master.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104840-ctycw31" data-type="NodeListItem" class="li" id="20220920104840-ctycw31"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104846-9vhsv2u" data-type="NodeParagraph" class="p" id="20220920104846-9vhsv2u" updated="20220920104846"><div contenteditable="false" spellcheck="false">Persistent and ephemeral znodes</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104842-5o7fofg" data-type="NodeList" class="list" id="20220920104842-5o7fofg" updated="20220920104846"><div data-marker="*" data-subtype="u" data-node-id="20220920104846-2a78fqx" data-type="NodeListItem" class="li" id="20220920104846-2a78fqx" updated="20220920104846"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104846-2swpycd" data-type="NodeParagraph" class="p" updated="20220920104846" id="20220920104846-2swpycd"><div contenteditable="false" spellcheck="false">Persistent znodes remain stored until explicitly deleted</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104853-3ixytjh" data-type="NodeList" class="list" id="20220920104853-3ixytjh"><div data-marker="*" data-subtype="u" data-node-id="20220920104852-l5291am" data-type="NodeListItem" class="li" id="20220920104852-l5291am"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104856-w9fsovt" data-type="NodeParagraph" class="p" id="20220920104856-w9fsovt" updated="20220920104856"><div contenteditable="false" spellcheck="false">i.e., assignment of tasks to workers must persist even if master crashes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920205253-us246b8" data-type="NodeListItem" class="li" id="20220920205253-us246b8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920205253-1qjhvy2" data-type="NodeParagraph" class="p" id="20220920205253-1qjhvy2" updated="20220920205322"><div contenteditable="false" spellcheck="false">when new master picks up, it knows where to pick up from where the previous master left off</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104856-45aneyk" data-type="NodeListItem" class="li" id="20220920104856-45aneyk" updated="20220920104856"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104856-u7ccqus" data-type="NodeParagraph" class="p" updated="20220920205151" id="20220920104856-u7ccqus"><div contenteditable="false" spellcheck="false">Ephemeral znodes go away if the client that created it crashes or loses its connection to ZooKeeper</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920104909-u3dvhme" data-type="NodeList" class="list" id="20220920104909-u3dvhme"><div data-marker="*" data-subtype="u" data-node-id="20220920104909-chhwuuv" data-type="NodeListItem" class="li" id="20220920104909-chhwuuv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104909-qbeau79" data-type="NodeParagraph" class="p" id="20220920104909-qbeau79" updated="20220920104911"><div contenteditable="false" spellcheck="false">i.e., if the master crashes, it should release its lock on the znode that indicates which node is the master!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104918-asitfzk" data-type="NodeListItem" class="li" id="20220920104918-asitfzk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104918-krhhpa5" data-type="NodeParagraph" class="p" id="20220920104918-krhhpa5" updated="20220920104919"><div contenteditable="false" spellcheck="false">ZooKeeper Architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920104920-qes33gi" data-type="NodeParagraph" class="p" updated="20220920104931" id="20220920104920-qes33gi"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 675px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920104931-jq3i2mn.png" data-src="assets/image-20220920104931-jq3i2mn.png" alt="image" style="width: 665px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920205454-qluh1k4" data-type="NodeList" class="list" id="20220920205454-qluh1k4" updated="20220920205457"><div data-marker="*" data-subtype="u" data-node-id="20220920205457-c11z060" data-type="NodeListItem" class="li" id="20220920205457-c11z060" updated="20220920205457"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920205457-mgbk13m" data-type="NodeParagraph" class="p" id="20220920205457-mgbk13m" updated="20220920205517"><div contenteditable="false" spellcheck="false">ZK ensemble has replicated data among themselves</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920104942-r1ijwud" data-type="NodeListItem" class="li" id="20220920104942-r1ijwud"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920104942-k1aahil" data-type="NodeParagraph" class="p" id="20220920104942-k1aahil" updated="20220920205624"><div contenteditable="false" spellcheck="false">ZooKeeper quorums 法定人数 (voting to decide)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920105024-ndurka1" data-type="NodeSuperBlock" class="sb" id="20220920105024-ndurka1" data-sb-layout="col"><div data-node-id="20220920104944-o817tbb" data-type="NodeParagraph" class="p" id="20220920104944-o817tbb" updated="20220920104953"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 242px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920104953-xcpbl74.png" data-src="assets/image-20220920104953-xcpbl74.png" alt="image" style="width: 232px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920105015-gqzle09" data-type="NodeParagraph" class="p" id="20220920105015-gqzle09" updated="20220920105016"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 318px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220920105016-uxifc2t.png" data-src="assets/image-20220920105016-uxifc2t.png" alt="image" style="width: 308px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220920205704-sfpids9" data-type="NodeList" class="list" id="20220920205704-sfpids9" updated="20220920205706"><div data-marker="*" data-subtype="u" data-node-id="20220920205706-vcqsmji" data-type="NodeListItem" class="li" id="20220920205706-vcqsmji" updated="20220920205706"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920205706-9yb4xj1" data-type="NodeParagraph" class="p" id="20220920205706-9yb4xj1" updated="20220920205738"><div contenteditable="false" spellcheck="false">quorum = 2, accept the result if at least 2 servers agree on that</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920205841-kmhhz94" data-type="NodeListItem" class="li" id="20220920205841-kmhhz94"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920205841-3ay1wxo" data-type="NodeParagraph" class="p" id="20220920205841-3ay1wxo" updated="20220920205915"><div contenteditable="false" spellcheck="false">p2, when network stops between upper 2 and lower 3, 2 sides will give different answer</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220920205927-lz2h8lq" data-type="NodeListItem" class="li" id="20220920205927-lz2h8lq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220920205927-zahv95x" data-type="NodeParagraph" class="p" id="20220920205927-zahv95x" updated="20220920205958"><div contenteditable="false" spellcheck="false">solution: have quorum = 3 or more</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921014727-p0vg8ja" data-type="NodeListItem" class="li" id="20220921014727-p0vg8ja"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921014727-se9vh6n" data-type="NodeParagraph" class="p" id="20220921014727-se9vh6n" updated="20220921014732"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921111835-ihr4rmi" data-type="NodeCodeBlock" class="code-block" id="20220921111835-ihr4rmi" updated="20220921114646"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# cd /usr/hdp/current/zookeeper-client/
[root@sandbox-hdp zookeeper-client]# ls
bin   doc  lib  usr                              zookeeper.jar
conf  etc  man  zookeeper-3.4.6.2.6.5.0-292.jar
[root@sandbox-hdp zookeeper-client]# cd bin
[root@sandbox-hdp bin]# ls
zkCleanup.sh  zkServer-initialize.sh  zookeeper-server
zkCli.sh      zkServer.sh             zookeeper-server-cleanup
zkEnv.sh      zookeeper-client        zookeeper-server-initialize
[root@sandbox-hdp bin]# ./zkCli.sh 


[zk: localhost:2181(CONNECTED) 2] ls /
[registry, cluster, controller, brokers, storm, zookeeper, infra-solr, 
hbase-unsecure, admin, isr_change_notification, log_dir_event_notification, 
drill, templeton-hadoop, hiveserver2, controller_epoch, druid, consumers, 
latest_producer_id_block, config]

## create an ephemeral znode
[zk: localhost:2181(CONNECTED) 3] create -e /testmaster &quot;127.0.0.1:2233&quot;
Created /testmaster
[zk: localhost:2181(CONNECTED) 4] get /testmaster
&quot;127.0.0.1:2233&quot;
cZxid = 0x194d
ctime = Wed Sep 21 03:25:09 UTC 2022
mZxid = 0x194d
mtime = Wed Sep 21 03:25:09 UTC 2022
pZxid = 0x194d
cversion = 0
dataVersion = 0
aclVersion = 0
ephemeralOwner = 0x1835dbd82d70004
dataLength = 16
numChildren = 0

# quit, to kill the ephemeral
[zk: localhost:2181(CONNECTED) 3] quit
Quitting...
2022-09-21 03:43:11,545 - INFO  [main:ZooKeeper@684] - Session: 0x1835dbd82d70005 closed
2022-09-21 03:43:11,545 - INFO  [main-EventThread:ClientCnxn$EventThread@524] - EventThread shut down

[root@sandbox-hdp bin]# ./zkCli.sh 
[zk: localhost:2181(CONNECTED) 1] ls /
[registry, cluster, controller, brokers, storm, zookeeper, infra-solr, hbase-unsecure, admin, isr_change_notification, log_dir_event_notification, drill, templeton-hadoop, hiveserver2, controller_epoch, druid, consumers, latest_producer_id_block, config]
## so ephemeral disappear
[zk: localhost:2181(CONNECTED) 2] get /testmaster
Node does not exist: /testmaster


# only one allowed to be master
[zk: localhost:2181(CONNECTED) 3] create -e /testmaster &quot;127.0.0.1:2225&quot;
Created /testmaster
[zk: localhost:2181(CONNECTED) 5] create -e /testmaster &quot;127.0.0.1:2225&quot;
Node already exists: /testmaster
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921014732-z8exrak" data-type="NodeListItem" class="li" id="20220921014732-z8exrak" updated="20220924144436"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921014732-vsbgz3s" data-type="NodeParagraph" class="p" id="20220921014732-vsbgz3s" updated="20220924144436"><div contenteditable="false" spellcheck="false">Apache Oozie<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://oozie.apache.org/images/oozie_200x.png" data-src="https://oozie.apache.org/images/oozie_200x.png" alt="Oozie" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921014815-6zsn4nq" data-type="NodeList" class="list" updated="20220921192440" id="20220921014815-6zsn4nq"><div data-marker="*" data-subtype="u" data-node-id="20220921014817-9rhxvvb" data-type="NodeListItem" class="li" id="20220921014817-9rhxvvb" updated="20220921014817"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921014817-ud3fmvl" data-type="NodeParagraph" class="p" id="20220921014817-ud3fmvl" updated="20220921014817"><div contenteditable="false" spellcheck="false">What is Oozie?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921014826-hzzvu5j" data-type="NodeList" class="list" id="20220921014826-hzzvu5j"><div data-marker="*" data-subtype="u" data-node-id="20220921014825-3a75gwt" data-type="NodeListItem" class="li" id="20220921014825-3a75gwt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921014825-6o0ede3" data-type="NodeParagraph" class="p" updated="20220921014826" id="20220921014825-6o0ede3"><div contenteditable="false" spellcheck="false">Burmese for “elephant keeper”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921014829-v5uhgka" data-type="NodeListItem" class="li" id="20220921014829-v5uhgka"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921014829-b15c52v" data-type="NodeParagraph" class="p" id="20220921014829-b15c52v"><div contenteditable="false" spellcheck="false">A system for running and scheduling Hadoop tasks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015045-q3hhsjw" data-type="NodeListItem" class="li" id="20220921015045-q3hhsjw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-c77kt7z" data-type="NodeParagraph" class="p" id="20220921015047-c77kt7z" updated="20220921015047"><div contenteditable="false" spellcheck="false">Workflows</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015051-arl11ei" data-type="NodeList" class="list" id="20220921015051-arl11ei"><div data-marker="*" data-subtype="u" data-node-id="20220921015050-5iyyjh1" data-type="NodeListItem" class="li" id="20220921015050-5iyyjh1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015050-ppbupbj" data-type="NodeParagraph" class="p" id="20220921015050-ppbupbj"><div contenteditable="false" spellcheck="false">A multi-stage Hadoop job</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015047-u20uu0d" data-type="NodeList" class="list" id="20220921015047-u20uu0d" updated="20220921015047"><div data-marker="*" data-subtype="u" data-node-id="20220921015047-e0e901m" data-type="NodeListItem" class="li" id="20220921015047-e0e901m" updated="20220921015047"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-upfh4qm" data-type="NodeParagraph" class="p" id="20220921015047-upfh4qm" updated="20220921015114"><div contenteditable="false" spellcheck="false">Might chain together MapReduce, Hive, Pig, sqoop, and distcp tasks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015047-s8vmm1s" data-type="NodeListItem" class="li" updated="20220921015047" id="20220921015047-s8vmm1s"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-dk1gpog" data-type="NodeParagraph" class="p" id="20220921015047-dk1gpog" updated="20220921015116"><div contenteditable="false" spellcheck="false">Other systems available via add-ons (like Spark)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015047-nhey32d" data-type="NodeListItem" class="li" id="20220921015047-nhey32d" updated="20220921015047"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-h9w2gq5" data-type="NodeParagraph" class="p" id="20220921015047-h9w2gq5" updated="20220921015047"><div contenteditable="false" spellcheck="false">A workflow is a Directed Acyclic Graph of actions</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015047-y1ewwpw" data-type="NodeList" class="list" id="20220921015047-y1ewwpw" updated="20220921015047"><div data-marker="*" data-subtype="u" data-node-id="20220921015047-0rgcv11" data-type="NodeListItem" class="li" updated="20220921015047" id="20220921015047-0rgcv11"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-t79452t" data-type="NodeParagraph" class="p" id="20220921015047-t79452t" updated="20220921015121"><div contenteditable="false" spellcheck="false">Specified via XML</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015047-dxqyymx" data-type="NodeListItem" class="li" id="20220921015047-dxqyymx" updated="20220921015047"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015047-le38ufp" data-type="NodeParagraph" class="p" id="20220921015047-le38ufp" updated="20220921015119"><div contenteditable="false" spellcheck="false">So, you can run actions that don’t depend on each other in parallel.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015133-f808pkr" data-type="NodeListItem" class="li" id="20220921015133-f808pkr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015133-9walgtc" data-type="NodeParagraph" class="p" id="20220921015133-9walgtc" updated="20220921015134"><div contenteditable="false" spellcheck="false">Workflow example</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921015150-88zudyl" data-type="NodeParagraph" class="p" updated="20220921015151" id="20220921015150-88zudyl"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 633px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921015151-b77b0o0.png" data-src="assets/image-20220921015151-b77b0o0.png" alt="image" style="width: 623px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921015523-r8olk3r" data-type="NodeCodeBlock" class="code-block" id="20220921015523-r8olk3r" updated="20220921015531"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">xml</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;workflow-app xmlns=&quot;uri:oozie:workflow:0.2&quot; name=&quot;top-movies&quot;&gt;
    &lt;start to=&quot;fork-node&quot;/&gt;

    &lt;fork name=&quot;fork-node&quot;&gt;
        &lt;path start=&quot;sqoop-node&quot; /&gt;
        &lt;path start=&quot;pig-node&quot; /&gt;
    &lt;/fork&gt;

    &lt;action name=&quot;sqoop-node&quot;&gt;
        &lt;sqoop xmlns=&quot;uri:oozie:sqoop-action:0.2&quot;&gt; 

            ... sqoop configuration here ...

        &lt;/sqoop&gt;
        &lt;ok to=&quot;joining&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;

    &lt;action name=&quot;pig-node&quot;&gt;
        &lt;pig&gt;

            ... pig configuration here ...

        &lt;/pig&gt;
        &lt;ok to=&quot;joining&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;

    &lt;join name=&quot;joining&quot; to=&quot;hive-node&quot;/&gt;
    &lt;action name=&quot;hive-node&quot;&gt;
        &lt;hive xmlns=&quot;uri:oozie:hive-action:0.2&quot;&gt;

            ... hive configuration here ...

        &lt;/hive&gt;
        &lt;ok to=&quot;end&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;

    &lt;kill name=&quot;fail&quot;&gt;
        &lt;message&gt;Sqoop failed, error
        message[${wf:errorMessage(wf:lastErrorNode())}]&lt;/message&gt;
    &lt;/kill&gt;
    &lt;end name=&quot;end&quot;/&gt;
&lt;/workflow-app&gt;
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015804-stoqz2i" data-type="NodeListItem" class="li" id="20220921015804-stoqz2i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-ir74hww" data-type="NodeParagraph" class="p" updated="20220921015805" id="20220921015805-ir74hww"><div contenteditable="false" spellcheck="false">Steps to set up a workflow in Oozie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015805-ix3dro1" data-type="NodeList" class="list" id="20220921015805-ix3dro1" updated="20220921015809"><div data-marker="*" data-subtype="u" data-node-id="20220921015809-qj7ez3m" data-type="NodeListItem" class="li" id="20220921015809-qj7ez3m" updated="20220921015809"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015809-ked0hdx" data-type="NodeParagraph" class="p" id="20220921015809-ked0hdx" updated="20220921015811"><div contenteditable="false" spellcheck="false">Make sure each action works on its own</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015805-x3v6tpj" data-type="NodeList" class="list" id="20220921015805-x3v6tpj" updated="20220921015805"><div data-marker="*" data-subtype="u" data-node-id="20220921015805-21e8euy" data-type="NodeListItem" class="li" id="20220921015805-21e8euy" updated="20220921015805"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-iopd5a4" data-type="NodeParagraph" class="p" id="20220921015805-iopd5a4" updated="20220921015805"><div contenteditable="false" spellcheck="false">Make a directory in HDFS for your job</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015805-16iwero" data-type="NodeListItem" class="li" id="20220921015805-16iwero" updated="20220921015805"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-twips0o" data-type="NodeParagraph" class="p" id="20220921015805-twips0o" updated="20220921015805"><div contenteditable="false" spellcheck="false">Create your workflow.xml file and put it in your HDFS folder</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015805-k6ttzv1" data-type="NodeListItem" class="li" id="20220921015805-k6ttzv1" updated="20220921015805"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-fj6fayr" data-type="NodeParagraph" class="p" id="20220921015805-fj6fayr" updated="20220921015805"><div contenteditable="false" spellcheck="false">Create job.properties defining any variables your workflow.xml needs</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921015805-j82bi21" data-type="NodeList" class="list" id="20220921015805-j82bi21" updated="20220921015805"><div data-marker="*" data-subtype="u" data-node-id="20220921015805-2q8t8rd" data-type="NodeListItem" class="li" id="20220921015805-2q8t8rd" updated="20220921015805"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-dofjk2x" data-type="NodeParagraph" class="p" id="20220921015805-dofjk2x" updated="20220921015815"><div contenteditable="false" spellcheck="false">This goes on your local filesystem where you’ll launch the job from</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921015805-ssnz4z0" data-type="NodeListItem" class="li" id="20220921015805-ssnz4z0" updated="20220921015805"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921015805-qnxangk" data-type="NodeParagraph" class="p" id="20220921015805-qnxangk" updated="20220921015818"><div contenteditable="false" spellcheck="false">You could also set these properties within your XML.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921020003-f5ots8g" data-type="NodeCodeBlock" class="code-block" id="20220921020003-f5ots8g" updated="20220921020007"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">xml</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">nameNode=hdfs://sandbox.hortonworks.com:8020 
jobTracker=http://sandbox.hortonworks.com:8050 
queueName=default
oozie.use.system.libpath=true 
oozie.wf.application.path=${nameNode}/user/maria_dev
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921020035-yidsxx1" data-type="NodeListItem" class="li" id="20220921020035-yidsxx1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020036-ouwd1uz" data-type="NodeParagraph" class="p" id="20220921020036-ouwd1uz" updated="20220921020036"><div contenteditable="false" spellcheck="false">Running a workflow with Oozie</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921020043-9fwh55y" data-type="NodeList" class="list" id="20220921020043-9fwh55y"><div data-marker="*" data-subtype="u" data-node-id="20220921020042-peevggr" data-type="NodeListItem" class="li" id="20220921020042-peevggr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020042-utk88jg" data-type="NodeParagraph" class="p" id="20220921020042-utk88jg" updated="20220921020047"><div contenteditable="false" spellcheck="false">oozie job --oozie http://localhost:11000/oozie -config /home/maria_dev/job.properties –run</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921020036-4geqnsf" data-type="NodeListItem" class="li" id="20220921020036-4geqnsf" updated="20220921020036"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020036-jt38cag" data-type="NodeParagraph" class="p" id="20220921020036-jt38cag" updated="20220921020036"><div contenteditable="false" spellcheck="false">Monitor progress at http://127.0.0.1:11000/oozie</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921020143-77oucw3" data-type="NodeListItem" class="li" id="20220921020143-77oucw3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020144-dx18inq" data-type="NodeParagraph" class="p" id="20220921020144-dx18inq" updated="20220921020144"><div contenteditable="false" spellcheck="false">Oozie Coordinators</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921021102-v96pr0w" data-type="NodeCodeBlock" class="code-block" id="20220921021102-v96pr0w" updated="20220921021129"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">xml</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">&lt;coordinator-app xmlns = &quot;uri:oozie:coordinator:0.2&quot; name = &quot;sample coordinator&quot; 
    frequency = &quot;5 * * * *&quot; start = &quot;2016-00-18T01:00Z&quot; end = &quot;2025-12-31T00:00Z&quot; 
    timezone = &quot;America/Los_Angeles&quot;&gt;
    &lt;controls&gt;
        &lt;timeout&gt;1&lt;/timeout&gt;
        &lt;concurrency&gt;1&lt;/concurrency&gt;
        &lt;execution&gt;FIFO&lt;/execution&gt;
        &lt;throttle&gt;1&lt;/throttle&gt;
    &lt;/controls&gt;
    &lt;action&gt;
        &lt;workflow&gt;
            &lt;app-path&gt;pathof_workflow_xml/workflow.xml&lt;/app-path&gt;
        &lt;/workflow&gt;
    &lt;/action&gt;
&lt;/coordinator-app&gt;
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921020144-qfpp95k" data-type="NodeList" class="list" id="20220921020144-qfpp95k" updated="20220921020150"><div data-marker="*" data-subtype="u" data-node-id="20220921020150-ehkc39i" data-type="NodeListItem" class="li" updated="20220921020150" id="20220921020150-ehkc39i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020150-6muz5un" data-type="NodeParagraph" class="p" id="20220921020150-6muz5un" updated="20220921020150"><div contenteditable="false" spellcheck="false">Schedules workflow execution</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921020144-0b36zdf" data-type="NodeList" class="list" id="20220921020144-0b36zdf" updated="20220921020144"><div data-marker="*" data-subtype="u" data-node-id="20220921020144-9spgwcq" data-type="NodeListItem" class="li" id="20220921020144-9spgwcq" updated="20220921020144"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020144-l24taj5" data-type="NodeParagraph" class="p" id="20220921020144-l24taj5" updated="20220921020144"><div contenteditable="false" spellcheck="false">Launches workflows based on a given start time and frequency</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921020144-kndzsn8" data-type="NodeListItem" class="li" id="20220921020144-kndzsn8" updated="20220921020144"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020144-8rc6e9y" data-type="NodeParagraph" class="p" id="20220921020144-8rc6e9y" updated="20220921020144"><div contenteditable="false" spellcheck="false">Will also wait for required input data to become available</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921020144-zp7whuk" data-type="NodeListItem" class="li" id="20220921020144-zp7whuk" updated="20220921020144"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921020144-rqoy1iy" data-type="NodeParagraph" class="p" id="20220921020144-rqoy1iy" updated="20220921020144"><div contenteditable="false" spellcheck="false">Run in exactly the same way as a workflow</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021215-m4xluoo" data-type="NodeListItem" class="li" id="20220921021215-m4xluoo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021216-y11fhwh" data-type="NodeParagraph" class="p" id="20220921021216-y11fhwh" updated="20220921021216"><div contenteditable="false" spellcheck="false">Oozie bundles</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021216-xfshz1u" data-type="NodeList" class="list" id="20220921021216-xfshz1u" updated="20220921021220"><div data-marker="*" data-subtype="u" data-node-id="20220921021220-jeasv9m" data-type="NodeListItem" class="li" id="20220921021220-jeasv9m" updated="20220921021220"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021220-8fagt81" data-type="NodeParagraph" class="p" id="20220921021220-8fagt81" updated="20220921021220"><div contenteditable="false" spellcheck="false">New in Oozie 3.0</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021216-d5kyc31" data-type="NodeList" class="list" id="20220921021216-d5kyc31" updated="20220921021216"><div data-marker="*" data-subtype="u" data-node-id="20220921021216-l1qli0h" data-type="NodeListItem" class="li" id="20220921021216-l1qli0h" updated="20220921021216"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021216-5uw5nmt" data-type="NodeParagraph" class="p" id="20220921021216-5uw5nmt" updated="20220921021216"><div contenteditable="false" spellcheck="false">A bundle is a collection of coordinators that can be managed together</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021216-r22m4eg" data-type="NodeListItem" class="li" id="20220921021216-r22m4eg" updated="20220921021216"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021216-ylnvjpo" data-type="NodeParagraph" class="p" id="20220921021216-ylnvjpo" updated="20220921021222"><div contenteditable="false" spellcheck="false">Example: you may have a bunch of coordinators for processing log data in various ways</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021216-pxpvrb3" data-type="NodeList" class="list" id="20220921021216-pxpvrb3" updated="20220921021225"><div data-marker="*" data-subtype="u" data-node-id="20220921021225-pkrct3q" data-type="NodeListItem" class="li" updated="20220921021225" id="20220921021225-pkrct3q"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021225-gzzoilv" data-type="NodeParagraph" class="p" id="20220921021225-gzzoilv" updated="20220921021227"><div contenteditable="false" spellcheck="false">By grouping them in a bundle, you could suspend them all if there were some problem with log collection</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021246-l29qyzs" data-type="NodeListItem" class="li" id="20220921021246-l29qyzs" updated="20220921192440"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021246-f2rk07m" data-type="NodeParagraph" class="p" id="20220921021246-f2rk07m" updated="20220921021259"><div contenteditable="false" spellcheck="false">Hands-on:  set up a simple workflow in Oozie.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021251-poie0t1" data-type="NodeList" class="list" id="20220921021251-poie0t1" updated="20220921192440"><div data-marker="*" data-subtype="u" data-node-id="20220921021302-pmg1ej9" data-type="NodeListItem" class="li" updated="20220921021302" id="20220921021302-pmg1ej9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021302-jf0jlct" data-type="NodeParagraph" class="p" id="20220921021302-jf0jlct" updated="20220921021302"><div contenteditable="false" spellcheck="false">We’ll get movielens back into MySQL if it’s not still there</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921114948-15dujth" data-type="NodeCodeBlock" class="code-block" id="20220921114948-15dujth" updated="20220921190717"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 154
Server version: 5.7.22 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| druid              |
| hive               |
| movielens          |
| mysql              |
| performance_schema |
| ranger             |
| superset           |
| sys                |
+--------------------+
9 rows in set (0.02 sec)

mysql&gt; use movielens;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; show tables;
+---------------------+
| Tables_in_movielens |
+---------------------+
| exported_movies     |
| genres              |
| genres_movies       |
| movies              |
| occupations         |
| ratings             |
| users               |
+---------------------+
7 rows in set (0.01 sec)

mysql&gt; select * from movies limit 10;
+----+------------------------------------------------------+--------------+
| id | title                                                | release_date |
+----+------------------------------------------------------+--------------+
|  1 | Toy Story (1995)                                     | 1995-01-01   |
|  2 | GoldenEye (1995)                                     | 1995-01-01   |
|  3 | Four Rooms (1995)                                    | 1995-01-01   |
|  4 | Get Shorty (1995)                                    | 1995-01-01   |
|  5 | Copycat (1995)                                       | 1995-01-01   |
|  6 | Shanghai Triad (Yao a yao yao dao waipo qiao) (1995) | 1995-01-01   |
|  7 | Twelve Monkeys (1995)                                | 1995-01-01   |
|  8 | Babe (1995)                                          | 1995-01-01   |
|  9 | Dead Man Walking (1995)                              | 1995-01-01   |
| 10 | Richard III (1995)                                   | 1996-01-22   |
+----+------------------------------------------------------+--------------+
10 rows in set (0.01 sec)

mysql&gt; grant all on movielens.* to 'root'@'localhost' identified by 'hadoop';
Query OK, 0 rows affected, 1 warning (0.02 sec)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021323-mzzqyzo" data-type="NodeListItem" class="li" id="20220921021323-mzzqyzo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021323-5cz5x6v" data-type="NodeParagraph" class="p" id="20220921021323-5cz5x6v"><div contenteditable="false" spellcheck="false">Write a Hive script to find all movies released before 1940</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921190720-zutz5vk" data-type="NodeCodeBlock" class="code-block" id="20220921190720-zutz5vk" updated="20220921190725"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/oldmovies.sql
[maria_dev@sandbox-hdp ~]$ cat oldmovies.sql 
DROP TABLE movies;
CREATE EXTERNAL TABLE movies (movie_id INT, title STRING, release DATE) 
ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' 
LOCATION '/user/maria_dev/movies/';
INSERT OVERWRITE DIRECTORY '${OUTPUT}' 
SELECT * FROM movies WHERE release &lt; '1940-01-01' ORDER BY release;

[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/workflow.xml
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021325-xemn2js" data-type="NodeListItem" class="li" id="20220921021325-xemn2js" updated="20220921192440"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021325-zmrw34a" data-type="NodeParagraph" class="p" id="20220921021325-zmrw34a" updated="20220921021327"><div contenteditable="false" spellcheck="false">Set up an Oozie workflow that uses sqoop to extract movie information from MySQL, then analyze it with Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921182142-963dz3v" data-type="NodeCodeBlock" class="code-block" id="20220921182142-963dz3v" updated="20220921182827"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">xml</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;workflow-app xmlns=&quot;uri:oozie:workflow:0.2&quot; name=&quot;old-movies&quot;&gt;
    &lt;start to=&quot;sqoop-node&quot;/&gt;
 
    &lt;action name=&quot;sqoop-node&quot;&gt;
        &lt;sqoop xmlns=&quot;uri:oozie:sqoop-action:0.2&quot;&gt;
            &lt;job-tracker&gt;${jobTracker}&lt;/job-tracker&gt;
            &lt;name-node&gt;${nameNode}&lt;/name-node&gt;
	
	    &lt;!-- prepare node will run before actually running sqoop node --&gt;
            &lt;prepare&gt;
                &lt;delete path=&quot;${nameNode}/user/maria_dev/movies&quot;/&gt;
            &lt;/prepare&gt;
 
            &lt;configuration&gt;
                &lt;property&gt;
                    &lt;name&gt;mapred.job.queue.name&lt;/name&gt;
                    &lt;value&gt;${queueName}&lt;/value&gt;
                &lt;/property&gt;
            &lt;/configuration&gt;
            &lt;command&gt;import --connect jdbc:mysql://localhost/movielens --driver com.mysql.jdbc.Driver --table movies -m 1&lt;/command&gt;
        &lt;/sqoop&gt;
        &lt;ok to=&quot;hive-node&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;
  
    &lt;action name=&quot;hive-node&quot;&gt;
        &lt;hive xmlns=&quot;uri:oozie:hive-action:0.2&quot;&gt;
            &lt;job-tracker&gt;${jobTracker}&lt;/job-tracker&gt;
            &lt;name-node&gt;${nameNode}&lt;/name-node&gt;

            &lt;!-- prepare node will run before actually running hive node --&gt;
	    &lt;prepare&gt;
                &lt;delete path=&quot;${nameNode}/user/maria_dev/oldmovies&quot;/&gt;
            &lt;/prepare&gt;
            &lt;configuration&gt;
                &lt;property&gt;
                    &lt;name&gt;mapred.job.queue.name&lt;/name&gt;
                    &lt;value&gt;${queueName}&lt;/value&gt;
                &lt;/property&gt;
            &lt;/configuration&gt;
            &lt;script&gt;oldmovies.sql&lt;/script&gt;
            &lt;param&gt;OUTPUT=/user/maria_dev/oldmovies&lt;/param&gt;
        &lt;/hive&gt;
        &lt;ok to=&quot;end&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;
 
    &lt;kill name=&quot;fail&quot;&gt;
        &lt;message&gt;Sqoop failed, error message[${wf:errorMessage(wf:lastErrorNode())}]&lt;/message&gt;
    &lt;/kill&gt;
    &lt;end name=&quot;end&quot;/&gt;
&lt;/workflow-app&gt;

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921183152-a2k6tm4" data-type="NodeCodeBlock" class="code-block" updated="20220921190604" id="20220921183152-a2k6tm4"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[root@sandbox-hdp maria_dev]# wget http://media.sundog-soft.com/hadoop/job.properties
[root@sandbox-hdp maria_dev]# cat job.properties 
nameNode=hdfs://sandbox-hdp.hortonworks.com:8020
jobTracker=http://sandbox-hdp.hortonworks.com:8032
queueName=default 
oozie.use.system.libpath=true
oozie.wf.application.path=${nameNode}/user/maria_dev

[maria_dev@sandbox-hdp ~]$ hadoop fs -put workflow.xml /user/maria_dev
[maria_dev@sandbox-hdp ~]$ hadoop fs -put oldmovies.sql /user/maria_dev
## copy over the mysql connector so oozie will be able to connect
[maria_dev@sandbox-hdp ~]$ hadoop fs -put /usr/share/java/mysql-connector-java.jar /user/oozie/share/lib/lib_20180618160835/sqoop


[maria_dev@sandbox-hdp ~]$ oozie job -oozie http://localhost:11000/oozie -config /home/maria_dev/job.properties -run
job: 0000000-220921104028722-oozie-oozi-W

##to fix the ext js dependency of oozie
[maria_dev@sandbox-hdp ~]$ wget http://archive.cloudera.com/gplextras/misc/ext-2.2.zip
[maria_dev@sandbox-hdp ~]$ sudo cp ext-2.2.zip /usr/hdp/current/oozie-client/libext/
[maria_dev@sandbox-hdp ~]$ sudo chown oozie:hadoop /usr/hdp/current/oozie-client/libext/ext-2.2.zip 
[maria_dev@sandbox-hdp ~]$ sudo -u oozie /usr/hdp/current/oozie-server/bin/oozie-setup.sh prepare-war
INFO: Adding extension: /usr/hdp/current/oozie-server/libext/falcon-oozie-el-extension-0.10.0.2.6.5.0-292.jar
/usr/hdp/current/oozie-server/bin/oozie-setup.sh: line 301: cd: /home/maria_dev: Permission denied

New Oozie WAR file with added 'ExtJS library, JARs' at /usr/hdp/current/oozie-server/oozie-server/webapps/oozie.war

INFO: Oozie is ready to be started
## start oozie server in ambari

[maria_dev@sandbox-hdp ~]$ oozie job -oozie http://localhost:11000/oozie -config /home/maria_dev/job.properties -run
job: 0000000-220921110227342-oozie-oozi-W
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921190638-v5d0vle" data-type="NodeParagraph" class="p" id="20220921190638-v5d0vle" updated="20220921190640"><div contenteditable="false" spellcheck="false">http://localhost:11000/oozie/</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921190641-w28uo71" data-type="NodeParagraph" class="p" id="20220921190641-w28uo71" updated="20220921190650"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921190650-kkubu8e.png" data-src="assets/image-20220921190650-kkubu8e.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921190652-bzju1ww" data-type="NodeParagraph" class="p" id="20220921190652-bzju1ww" updated="20220921190922"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 313px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921190922-a4x2ge0.png" data-src="assets/image-20220921190922-a4x2ge0.png" alt="image" style="width: 303px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921191006-j9q8gm4" data-type="NodeParagraph" class="p" id="20220921191006-j9q8gm4" updated="20220921191006"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921191006-hmddt24.png" data-src="assets/image-20220921191006-hmddt24.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921190936-acj4nel" data-type="NodeParagraph" class="p" id="20220921190936-acj4nel" updated="20220921190938"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921190938-ortpy8v.png" data-src="assets/image-20220921190938-ortpy8v.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921192438-stgrp02" data-type="NodeParagraph" class="p" id="20220921192438-stgrp02" updated="20220921192440"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921192440-y07av9r.png" data-src="assets/image-20220921192440-y07av9r.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021444-kujz3dv" data-type="NodeListItem" class="li" id="20220921021444-kujz3dv" updated="20220924144617"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021444-x87fn8z" data-type="NodeParagraph" class="p" id="20220921021444-x87fn8z" updated="20220924144617"><div contenteditable="false" spellcheck="false">Apache Zeppelin<span contenteditable="false" data-type="img" class="img" style="max-width: 325px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924144617-cwdq60i.png" data-src="assets/image-20220924144617-cwdq60i.png" alt="image" style="width: 315px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021457-afyemap" data-type="NodeList" class="list" id="20220921021457-afyemap" updated="20220921205033"><div data-marker="*" data-subtype="u" data-node-id="20220921021504-q8oitjz" data-type="NodeListItem" class="li" id="20220921021504-q8oitjz" updated="20220921021504"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021504-ok8j63c" data-type="NodeParagraph" class="p" updated="20220921021504" id="20220921021504-ok8j63c"><div contenteditable="false" spellcheck="false">What is Zeppelin?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021504-kkxy37o" data-type="NodeList" class="list" id="20220921021504-kkxy37o" updated="20220921021507"><div data-marker="*" data-subtype="u" data-node-id="20220921021507-n2nlcdx" data-type="NodeListItem" class="li" id="20220921021507-n2nlcdx" updated="20220921021507"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021507-rtqijbc" data-type="NodeParagraph" class="p" id="20220921021507-rtqijbc" updated="20220921021509"><div contenteditable="false" spellcheck="false">If you’re familiar with iPython notebooks – it’s like that</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021515-und90k4" data-type="NodeList" class="list" id="20220921021515-und90k4"><div data-marker="*" data-subtype="u" data-node-id="20220921021514-mfcjf1c" data-type="NodeListItem" class="li" id="20220921021514-mfcjf1c"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021514-qhwxnxn" data-type="NodeParagraph" class="p" id="20220921021514-qhwxnxn"><div contenteditable="false" spellcheck="false">Lets you interactively run scripts / code against your data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021518-k1s4ofd" data-type="NodeListItem" class="li" id="20220921021518-k1s4ofd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021518-3uojmjn" data-type="NodeParagraph" class="p" id="20220921021518-3uojmjn"><div contenteditable="false" spellcheck="false">Can interleave with nicely formatted notes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021521-mxnt3hw" data-type="NodeListItem" class="li" id="20220921021521-mxnt3hw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021521-1z45s10" data-type="NodeParagraph" class="p" id="20220921021521-1z45s10"><div contenteditable="false" spellcheck="false">Can share notebooks with others on your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021537-5lj2qmi" data-type="NodeListItem" class="li" id="20220921021537-5lj2qmi" updated="20220921021537"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021539-gi0ie6s" data-type="NodeParagraph" class="p" id="20220921021539-gi0ie6s" updated="20220921021544"><div contenteditable="false" spellcheck="false">Apache Spark integration</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021545-8crbw04" data-type="NodeList" class="list" id="20220921021545-8crbw04"><div data-marker="*" data-subtype="u" data-node-id="20220921021544-tqqw36i" data-type="NodeListItem" class="li" id="20220921021544-tqqw36i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021544-umhkn2t" data-type="NodeParagraph" class="p" id="20220921021544-umhkn2t"><div contenteditable="false" spellcheck="false">Can run Spark code interactively (like you can in the Spark shell)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921021550-8lsf6rh" data-type="NodeList" class="list" id="20220921021550-8lsf6rh"><div data-marker="*" data-subtype="u" data-node-id="20220921021549-0wyljaz" data-type="NodeListItem" class="li" id="20220921021549-0wyljaz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021549-h9x21gn" data-type="NodeParagraph" class="p" id="20220921021549-h9x21gn"><div contenteditable="false" spellcheck="false">This speeds up your development cycle</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021553-f0nyt5p" data-type="NodeListItem" class="li" id="20220921021553-f0nyt5p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021553-bfhl9v1" data-type="NodeParagraph" class="p" id="20220921021553-bfhl9v1" updated="20220921021614"><div contenteditable="false" spellcheck="false">And allows easy experimentation and exploration of your big data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021539-455mm6w" data-type="NodeListItem" class="li" id="20220921021539-455mm6w" updated="20220921021539"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021539-v2ond5h" data-type="NodeParagraph" class="p" id="20220921021539-v2ond5h" updated="20220921021539"><div contenteditable="false" spellcheck="false">Can execute SQL queries directly against SparkSQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021607-g2xh8e2" data-type="NodeListItem" class="li" id="20220921021607-g2xh8e2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021607-uw8s12f" data-type="NodeParagraph" class="p" id="20220921021607-uw8s12f" updated="20220921021607"><div contenteditable="false" spellcheck="false">Query results may be visualized in charts and graphs</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021610-3kq2lfl" data-type="NodeListItem" class="li" id="20220921021610-3kq2lfl"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021610-k4qbfqc" data-type="NodeParagraph" class="p" updated="20220921021611" id="20220921021610-k4qbfqc"><div contenteditable="false" spellcheck="false">Makes Spark feel more like a data science tool!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921021623-2ck3zls" data-type="NodeListItem" class="li" id="20220921021623-2ck3zls"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921021623-nizu0g3" data-type="NodeParagraph" class="p" id="20220921021623-nizu0g3" updated="20220921021626"><div contenteditable="false" spellcheck="false">Zeppelin can do much more than Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921021635-811r5jc" data-type="NodeParagraph" class="p" id="20220921021635-811r5jc" updated="20220921021636"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 344px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921021636-5if2964.png" data-src="assets/image-20220921021636-5if2964.png" alt="image" style="width: 334px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921192631-jr0qp4m" data-type="NodeListItem" class="li" id="20220921192631-jr0qp4m" updated="20220921205033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921192631-nr497v5" data-type="NodeParagraph" class="p" id="20220921192631-nr497v5" updated="20220921192638"><div contenteditable="false" spellcheck="false">Hands-on: http://localhost:9995/</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921192639-a687fz0" data-type="NodeCodeBlock" class="code-block" updated="20220921194009" id="20220921192639-a687fz0"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">spark</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">sc.version
res0: String = 2.3.0.2.6.5.0-292

%sh
wget http://media.sundog-soft.com/hadoop/ml-100k/u.data -O /tmp/u.data
wget http://media.sundog-soft.com/hadoop/ml-100k/u.item -O /tmp/u.item
echo &quot;complete&quot;


%sh
hadoop fs -rm -r -f /tmp/ml-100k
hadoop fs -mkdir /tmp/ml-100k
hadoop fs -put /tmp/u.data  /tmp/ml-100k/
hadoop fs -put /tmp/u.item  /tmp/ml-100k/
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921194503-n7sa04r" data-type="NodeCodeBlock" class="code-block" id="20220921194503-n7sa04r" updated="20220921200613"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">final case class Rating(movieID: Int, Rating: Int)

val lines = sc.textFile(&quot;hdfs:///tmp/ml-100k/u.data&quot;).map(x =&gt; {val fields = x.split(&quot;\t&quot;); Rating(fields(1).toInt, fields(2).toInt)})

###
warning: there was one unchecked warning; re-run with -unchecked for details
defined class Rating
lines: org.apache.spark.rdd.RDD[Rating] = MapPartitionsRDD[2] at map at &lt;console&gt;:28

import sqlContext.implicits._
val ratingsDF = lines.toDF()
ratingsDF.printSchema()

###
import sqlContext.implicits._
ratingsDF: org.apache.spark.sql.DataFrame = [movieID: int, Rating: int]
root
 |-- movieID: integer (nullable = false)
 |-- Rating: integer (nullable = false)


val topMovieIDs = ratingsDF.groupBy(&quot;movieID&quot;).count().orderBy(desc(&quot;count&quot;)).cache()
topMovieIDs.show()

###
topMovieIDs: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [movieID: int, count: bigint]
+-------+-----+
|movieID|count|
+-------+-----+
|     50|  584|
|    258|  509|
|    100|  508|
|    181|  507|
|    294|  485|
|    286|  481|
...


ratingsDF.registerTempTable(&quot;ratings&quot;)

%sql
SELECT * FROM ratings LIMIT 10


%sql
SELECT rating,COUNT(*) AS count FROM ratings GROUP BY rating
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921201927-w73hv2z" data-type="NodeSuperBlock" class="sb" id="20220921201927-w73hv2z" data-sb-layout="col"><div data-node-id="20220921201829-8c5bxug" data-type="NodeParagraph" class="p" id="20220921201829-8c5bxug" updated="20220921201916"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 561px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921201831-8jb4kyd.png" data-src="assets/image-20220921201831-8jb4kyd.png" alt="image" style="width: 551px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921201923-5t1mds5" data-type="NodeParagraph" class="p" id="20220921201923-5t1mds5"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 238px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921201916-ukb9yn2.png" data-src="assets/image-20220921201916-ukb9yn2.png" alt="image" style="width: 228px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921201835-1lh97aj" data-type="NodeCodeBlock" class="code-block" id="20220921201835-1lh97aj" updated="20220921204841"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">final case class Movie(movieID: Int, title: String)
val lines = sc.textFile(&quot;hdfs:///tmp/ml-100k/u.item&quot;).map(x =&gt; {val fields = x.split('|'); Movie(fields(0).toInt, fields(1))})
###
warning: there was one unchecked warning; re-run with -unchecked for details
defined class Movie
lines: org.apache.spark.rdd.RDD[Movie] = MapPartitionsRDD[36] at map at &lt;console&gt;:33


import sqlContext.implicits._
val moviesDF = lines.toDF()
moviesDF.printSchema()

###
import sqlContext.implicits._
moviesDF: org.apache.spark.sql.DataFrame = [movieID: int, title: string]
root
 |-- movieID: integer (nullable = false)
 |-- title: string (nullable = true)

moviesDF.show()

moviesDF: org.apache.spark.sql.DataFrame = [movieID: int, title: string]
+-------+--------------------+
|movieID|               title|
+-------+--------------------+
|      1|    Toy Story (1995)|
|      2|    GoldenEye (1995)|
|      3|   Four Rooms (1995)|
|      4|   Get Shorty (1995)|
|      5|      Copycat (1995)|


moviesDF.registerTempTable(&quot;titles&quot;)

%sql

SELECT t.title, COUNT(*) cnt FROM ratings r JOIN titles t ON r.movieID = t.movieID GROUP BY t.title ORDER BY cnt DESC LIMIT 20
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921204927-6z9gaf8" data-type="NodeParagraph" class="p" id="20220921204927-6z9gaf8" updated="20220921204928"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921204928-cneyhbr.png" data-src="assets/image-20220921204928-cneyhbr.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921205031-glv8v8u" data-type="NodeParagraph" class="p" updated="20220921205033" id="20220921205031-glv8v8u"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921205033-pjzyps5.png" data-src="assets/image-20220921205033-pjzyps5.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022138-im3sl77" data-type="NodeListItem" class="li" id="20220921022138-im3sl77" updated="20220921022620"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022138-kcapfh1" data-type="NodeParagraph" class="p" id="20220921022138-kcapfh1" updated="20220921022457"><div contenteditable="false" spellcheck="false">Hue (Not Apache, open source, developed by Cloudera)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022309-6cp7akj" data-type="NodeList" class="list" id="20220921022309-6cp7akj" updated="20220921022620"><div data-marker="*" data-subtype="u" data-node-id="20220921022314-ef989xu" data-type="NodeListItem" class="li" id="20220921022314-ef989xu" updated="20220921022314"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022314-czacany" data-type="NodeParagraph" class="p" id="20220921022314-czacany" updated="20220921022314"><div contenteditable="false" spellcheck="false">A Tale of Two Distros</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022314-6jmwloi" data-type="NodeList" class="list" id="20220921022314-6jmwloi" updated="20220921022318"><div data-marker="*" data-subtype="u" data-node-id="20220921022318-dd3lfk3" data-type="NodeListItem" class="li" id="20220921022318-dd3lfk3" updated="20220921022318"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022318-poaacaw" data-type="NodeParagraph" class="p" id="20220921022318-poaacaw" updated="20220921022318"><div contenteditable="false" spellcheck="false"> Hortonworks</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022322-9uya51u" data-type="NodeList" class="list" id="20220921022322-9uya51u"><div data-marker="*" data-subtype="u" data-node-id="20220921022322-l4y7zls" data-type="NodeListItem" class="li" id="20220921022322-l4y7zls"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022322-r1zho8q" data-type="NodeParagraph" class="p" id="20220921022322-r1zho8q"><div contenteditable="false" spellcheck="false">Ambari used for management and query / files UI</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022326-rvcpdpo" data-type="NodeListItem" class="li" id="20220921022326-rvcpdpo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022328-lcq22hq" data-type="NodeParagraph" class="p" id="20220921022328-lcq22hq" updated="20220921022328"><div contenteditable="false" spellcheck="false">Zeppelin used for notebook</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022328-f2ppw8f" data-type="NodeListItem" class="li" id="20220921022328-f2ppw8f" updated="20220921022328"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022328-8by9keb" data-type="NodeParagraph" class="p" id="20220921022328-8by9keb" updated="20220921022329"><div contenteditable="false" spellcheck="false">Cloudera</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022337-ygbv8sh" data-type="NodeList" class="list" id="20220921022337-ygbv8sh"><div data-marker="*" data-subtype="u" data-node-id="20220921022336-x6r5ui3" data-type="NodeListItem" class="li" id="20220921022336-x6r5ui3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022336-elnit0q" data-type="NodeParagraph" class="p" id="20220921022336-elnit0q" updated="20220921022338"><div contenteditable="false" spellcheck="false">Hue used for query / files UI and notebook</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022343-4kjzuqd" data-type="NodeListItem" class="li" id="20220921022343-4kjzuqd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022343-9jdnvwu" data-type="NodeParagraph" class="p" id="20220921022343-9jdnvwu"><div contenteditable="false" spellcheck="false">Cloudera Manager used for management</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022314-xndx3f9" data-type="NodeList" class="list" id="20220921022314-xndx3f9" updated="20220921022347"><div data-marker="*" data-subtype="u" data-node-id="20220921022347-me15u3o" data-type="NodeListItem" class="li" id="20220921022347-me15u3o" updated="20220921022347"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022347-8aryx73" data-type="NodeParagraph" class="p" id="20220921022347-8aryx73" updated="20220921022347"><div contenteditable="false" spellcheck="false">Hue is Cloudera’s Ambari – sort of.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022537-snyjq0v" data-type="NodeListItem" class="li" id="20220921022537-snyjq0v"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022538-q3yrwxf" data-type="NodeParagraph" class="p" updated="20220921022545" id="20220921022538-q3yrwxf"><div contenteditable="false" spellcheck="false">Cool things about Hue</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022546-p02hzkx" data-type="NodeList" class="list" id="20220921022546-p02hzkx" updated="20220921022548"><div data-marker="*" data-subtype="u" data-node-id="20220921022548-tzrn486" data-type="NodeListItem" class="li" id="20220921022548-tzrn486" updated="20220921022548"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022548-mvmxjc0" data-type="NodeParagraph" class="p" id="20220921022548-mvmxjc0" updated="20220921022548"><div contenteditable="false" spellcheck="false">Oozie editor</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022556-6dqkgot" data-type="NodeList" class="list" id="20220921022556-6dqkgot"><div data-marker="*" data-subtype="u" data-node-id="20220921022553-3htdn5b" data-type="NodeListItem" class="li" id="20220921022553-3htdn5b"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022553-gkkwh6q" data-type="NodeParagraph" class="p" id="20220921022553-gkkwh6q" updated="20220921022601"><div contenteditable="false" spellcheck="false">Also Spark, Pig, Hive, HBase, HDFS, Sqoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022602-h1k0w6d" data-type="NodeListItem" class="li" id="20220921022602-h1k0w6d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022602-3rdjlv0" data-type="NodeParagraph" class="p" id="20220921022602-3rdjlv0"><div contenteditable="false" spellcheck="false">Built-in notebooks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022611-4wvi7fv" data-type="NodeListItem" class="li" id="20220921022611-4wvi7fv" updated="20220921022620"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022612-isbth1l" data-type="NodeParagraph" class="p" id="20220921022612-isbth1l" updated="20220921022615"><div contenteditable="false" spellcheck="false">It is open source</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921022620-1vvzl8w" data-type="NodeList" class="list" id="20220921022620-1vvzl8w"><div data-marker="*" data-subtype="u" data-node-id="20220921022619-stpu1sm" data-type="NodeListItem" class="li" id="20220921022619-stpu1sm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022619-erc997x" data-type="NodeParagraph" class="p" id="20220921022619-erc997x"><div contenteditable="false" spellcheck="false">Not an Apache project; maintained by Cloudera</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921022612-jtjvdem" data-type="NodeListItem" class="li" id="20220921022612-jtjvdem" updated="20220921022612"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921022612-7rx0xaw" data-type="NodeParagraph" class="p" id="20220921022612-7rx0xaw" updated="20220921022612"><div contenteditable="false" spellcheck="false">It can be installed on a Hortonworks distribution if you try hard enough!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921091054-410055e" data-type="NodeListItem" class="li" id="20220921091054-410055e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921091054-jqfwc4n" data-type="NodeParagraph" class="p" id="20220921091054-jqfwc4n" updated="20220921091107"><div contenteditable="false" spellcheck="false">Hands-on: gethue.com</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092018-7gcfg7t" data-type="NodeListItem" class="li" id="20220921092018-7gcfg7t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092018-c6f0hbw" data-type="NodeParagraph" class="p" id="20220921092018-c6f0hbw" updated="20220921092037"><div contenteditable="false" spellcheck="false">Other Admin Technologies</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921092043-jsrop0e" data-type="NodeList" class="list" id="20220921092043-jsrop0e" updated="20220921092044"><div data-marker="*" data-subtype="u" data-node-id="20220921092044-set3s7z" data-type="NodeListItem" class="li" id="20220921092044-set3s7z" updated="20220921092044"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092044-j5f5op7" data-type="NodeParagraph" class="p" id="20220921092044-j5f5op7" updated="20220921092315"><div contenteditable="false" spellcheck="false">Ganglia<span contenteditable="false" data-type="img" class="img" style="max-width: 203px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="http://ganglia.info/logo_small.jpg" data-src="http://ganglia.info/logo_small.jpg" alt="Ganglia Logo" style="width: 193px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921092350-jie48e0" data-type="NodeList" class="list" id="20220921092350-jie48e0"><div data-marker="*" data-subtype="u" data-node-id="20220921092047-lr2688o" data-type="NodeListItem" class="li" id="20220921092047-lr2688o"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092047-7oblds5" data-type="NodeParagraph" class="p" id="20220921092047-7oblds5"><div contenteditable="false" spellcheck="false">Distributed monitoring system</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921092051-cgn1gy5" data-type="NodeList" class="list" id="20220921092051-cgn1gy5"><div data-marker="*" data-subtype="u" data-node-id="20220921092051-kkqz29n" data-type="NodeListItem" class="li" id="20220921092051-kkqz29n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092051-ernls7n" data-type="NodeParagraph" class="p" id="20220921092051-ernls7n"><div contenteditable="false" spellcheck="false">Developed by UC Berkeley</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092053-kzzgi1i" data-type="NodeListItem" class="li" id="20220921092053-kzzgi1i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092053-2walox0" data-type="NodeParagraph" class="p" id="20220921092053-2walox0"><div contenteditable="false" spellcheck="false">Originally widely used by universities</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092056-uf8gehu" data-type="NodeListItem" class="li" id="20220921092056-uf8gehu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092056-och2j1o" data-type="NodeParagraph" class="p" id="20220921092056-och2j1o"><div contenteditable="false" spellcheck="false">Wikimedia / Wikipedia used to use it.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092354-ci1duze" data-type="NodeListItem" class="li" id="20220921092354-ci1duze"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092354-oyczy8q" data-type="NodeParagraph" class="p" id="20220921092354-oyczy8q"><div contenteditable="false" spellcheck="false">Largely supplanted by Ambari / Cloudera Manager / Grafana</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092545-khrtxrd" data-type="NodeListItem" class="li" id="20220921092545-khrtxrd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092545-54f06b5" data-type="NodeParagraph" class="p" id="20220921092545-54f06b5" updated="20220921092547"><div contenteditable="false" spellcheck="false">Old UI</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921092547-ks0lj6l" data-type="NodeParagraph" class="p" id="20220921092547-ks0lj6l" updated="20220921092738"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 661px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://upload.wikimedia.org/wikipedia/commons/5/56/ScalableGridEngineGanglia2.png" data-src="https://upload.wikimedia.org/wikipedia/commons/5/56/ScalableGridEngineGanglia2.png" style="width: 651px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092607-iv2fk5k" data-type="NodeListItem" class="li" id="20220921092607-iv2fk5k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092607-cz8p50b" data-type="NodeParagraph" class="p" id="20220921092607-cz8p50b" updated="20220921092617"><div contenteditable="false" spellcheck="false">Competitor: Grafana/Ambari/Hue</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921092618-t7sr9ed" data-type="NodeParagraph" class="p" id="20220921092618-t7sr9ed" updated="20220921092718"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 668px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://grafana.com/products/assets/grafana/Grafana8_Kubernetes.jpg" data-src="https://grafana.com/products/assets/grafana/Grafana8_Kubernetes.jpg" style="width: 658px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092904-f4j093y" data-type="NodeListItem" class="li" id="20220921092904-f4j093y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092904-zhdy112" data-type="NodeParagraph" class="p" id="20220921092904-zhdy112" updated="20220921092928"><div contenteditable="false" spellcheck="false">Chukwa<span contenteditable="false" data-type="img" class="img" style="max-width: 132px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://chukwa.apache.org/images/chukwa_logo_small.jpg" data-src="https://chukwa.apache.org/images/chukwa_logo_small.jpg" alt="Chukwa" style="width: 122px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921092907-33nvcrk" data-type="NodeList" class="list" id="20220921092907-33nvcrk" updated="20220921092913"><div data-marker="*" data-subtype="u" data-node-id="20220921092913-oe5pcp1" data-type="NodeListItem" class="li" id="20220921092913-oe5pcp1" updated="20220921092913"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092913-hjqgoht" data-type="NodeParagraph" class="p" id="20220921092913-hjqgoht" updated="20220921092913"><div contenteditable="false" spellcheck="false">System for collecting and analyzing logs from your Hadoop cluster\</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921092907-xyggq73" data-type="NodeList" class="list" id="20220921092907-xyggq73" updated="20220921092907"><div data-marker="*" data-subtype="u" data-node-id="20220921092907-3sxkpfn" data-type="NodeListItem" class="li" id="20220921092907-3sxkpfn" updated="20220921092907"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092907-ur3n5hj" data-type="NodeParagraph" class="p" id="20220921092907-ur3n5hj" updated="20220921092907"><div contenteditable="false" spellcheck="false">Initially adopted by NetFlix</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921092907-n38ofts" data-type="NodeListItem" class="li" id="20220921092907-n38ofts" updated="20220921092907"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921092907-mlb17wh" data-type="NodeParagraph" class="p" id="20220921092907-mlb17wh" updated="20220921092907"><div contenteditable="false" spellcheck="false">Largely supplanted by Flume and Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094526-chob0fo" data-type="NodeList" class="list" id="20220921094526-chob0fo" updated="20220921094529"><div data-marker="*" data-subtype="u" data-node-id="20220921094529-1nbypvu" data-type="NodeListItem" class="li" id="20220921094529-1nbypvu" updated="20220921094529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094529-b4zt52l" data-type="NodeParagraph" class="p" id="20220921094529-b4zt52l" updated="20220921094530"><div contenteditable="false" spellcheck="false">Both are more general purpose</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094531-v0gshxw" data-type="NodeListItem" class="li" id="20220921094531-v0gshxw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094531-k7rwsyx" data-type="NodeParagraph" class="p" id="20220921094531-k7rwsyx" updated="20220921094535"><div contenteditable="false" spellcheck="false">Faster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094535-nhsfurz" data-type="NodeListItem" class="li" id="20220921094535-nhsfurz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094535-81s1ftp" data-type="NodeParagraph" class="p" id="20220921094535-81s1ftp"><div contenteditable="false" spellcheck="false">Easier to set up</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094539-bm6dgts" data-type="NodeListItem" class="li" id="20220921094539-bm6dgts"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094539-uw7tjhw" data-type="NodeParagraph" class="p" id="20220921094539-uw7tjhw"><div contenteditable="false" spellcheck="false">More reliable</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920014057-u9b7vv4" data-type="NodeParagraph" class="p" id="20220920014057-u9b7vv4"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220920014057-pd4xjby" data-type="NodeParagraph" class="p" id="20220920014057-pd4xjby"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-oizd2t0" data-type="NodeHeading" class="h2" id="20220912014401-oizd2t0" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 9: Feeding Data to your Cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094902-s4eho0a" data-type="NodeList" class="list" id="20220921094902-s4eho0a" updated="20220922121622"><div data-marker="*" data-subtype="u" data-node-id="20220921094920-ftcqjn7" data-type="NodeListItem" class="li" id="20220921094920-ftcqjn7" updated="20220922121622"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094920-p21y58s" data-type="NodeParagraph" class="p" id="20220921094920-p21y58s" updated="20220921094925"><div contenteditable="false" spellcheck="false">Streaming with Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094925-4t7heqg" data-type="NodeList" class="list" id="20220921094925-4t7heqg" updated="20220922121622"><div data-marker="*" data-subtype="u" data-node-id="20220921094925-qqqcrtg" data-type="NodeListItem" class="li" id="20220921094925-qqqcrtg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-p3a63ds" data-type="NodeParagraph" class="p" id="20220921094936-p3a63ds" updated="20220921094936"><div contenteditable="false" spellcheck="false">What is streaming?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094936-sk7ay97" data-type="NodeList" class="list" id="20220921094936-sk7ay97" updated="20220921094938"><div data-marker="*" data-subtype="u" data-node-id="20220921094938-115hx8u" data-type="NodeListItem" class="li" updated="20220921094938" id="20220921094938-115hx8u"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094938-0998uxy" data-type="NodeParagraph" class="p" id="20220921094938-0998uxy" updated="20220921095035"><div contenteditable="false" spellcheck="false">So far we've really just talked about processing historical, existing big data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094947-08nixvu" data-type="NodeList" class="list" id="20220921094947-08nixvu"><div data-marker="*" data-subtype="u" data-node-id="20220921094946-1hyu01d" data-type="NodeListItem" class="li" id="20220921094946-1hyu01d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094946-hgqg002" data-type="NodeParagraph" class="p" id="20220921094946-hgqg002"><div contenteditable="false" spellcheck="false">Sitting on HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094949-m3dle4p" data-type="NodeListItem" class="li" id="20220921094949-m3dle4p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094949-iktlylh" data-type="NodeParagraph" class="p" id="20220921094949-iktlylh"><div contenteditable="false" spellcheck="false">Sitting in a database</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094936-joc9mgl" data-type="NodeList" class="list" id="20220921094936-joc9mgl" updated="20220921094936"><div data-marker="*" data-subtype="u" data-node-id="20220921094936-uc2ktwa" data-type="NodeListItem" class="li" id="20220921094936-uc2ktwa" updated="20220921094936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-4rin9c6" data-type="NodeParagraph" class="p" id="20220921094936-4rin9c6" updated="20220921095028"><div contenteditable="false" spellcheck="false">But how does new data get into your cluster? Especially if it's &quot;Big data&quot;?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094936-hfqlb16" data-type="NodeList" class="list" id="20220921094936-hfqlb16" updated="20220921094936"><div data-marker="*" data-subtype="u" data-node-id="20220921094936-avbj8wp" data-type="NodeListItem" class="li" id="20220921094936-avbj8wp" updated="20220921094936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-883pulb" data-type="NodeParagraph" class="p" id="20220921094936-883pulb" updated="20220921095005"><div contenteditable="false" spellcheck="false">New log entries from your web servers</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094936-d87oev3" data-type="NodeListItem" class="li" updated="20220921094936" id="20220921094936-d87oev3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-5ha3qg4" data-type="NodeParagraph" class="p" id="20220921094936-5ha3qg4" updated="20220921095007"><div contenteditable="false" spellcheck="false">New sensor data from your IoT system</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094936-wcyxiba" data-type="NodeListItem" class="li" id="20220921094936-wcyxiba" updated="20220921094936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-z291evw" data-type="NodeParagraph" class="p" id="20220921094936-z291evw" updated="20220921095009"><div contenteditable="false" spellcheck="false">New stock trades</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921094936-g6m102p" data-type="NodeListItem" class="li" id="20220921094936-g6m102p" updated="20220921094936"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921094936-ijyn4id" data-type="NodeParagraph" class="p" id="20220921094936-ijyn4id" updated="20220921094936"><div contenteditable="false" spellcheck="false">Streaming lets you publish this data, in real time, to your cluster.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921094936-92ey85z" data-type="NodeList" class="list" id="20220921094936-92ey85z" updated="20220921095012"><div data-marker="*" data-subtype="u" data-node-id="20220921095012-6uxro24" data-type="NodeListItem" class="li" id="20220921095012-6uxro24" updated="20220921095012"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095012-rm5e76s" data-type="NodeParagraph" class="p" id="20220921095012-rm5e76s" updated="20220921095012"><div contenteditable="false" spellcheck="false">And you can even process it in real time as it comes in!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095122-rjg147m" data-type="NodeListItem" class="li" id="20220921095122-rjg147m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095123-dfdxlqp" data-type="NodeParagraph" class="p" id="20220921095123-dfdxlqp" updated="20220921095123"><div contenteditable="false" spellcheck="false">Two problems</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921095123-m5qxq8s" data-type="NodeList" class="list" id="20220921095123-m5qxq8s" updated="20220921095126"><div data-marker="*" data-subtype="u" data-node-id="20220921095126-7y003ie" data-type="NodeListItem" class="li" id="20220921095126-7y003ie" updated="20220921095126"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095126-xrcv7gw" data-type="NodeParagraph" class="p" id="20220921095126-xrcv7gw" updated="20220921095126"><div contenteditable="false" spellcheck="false">How to get data from many different sources flowing into your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921095123-8lhym9n" data-type="NodeList" class="list" id="20220921095123-8lhym9n" updated="20220921095123"><div data-marker="*" data-subtype="u" data-node-id="20220921095123-um1ihy3" data-type="NodeListItem" class="li" id="20220921095123-um1ihy3" updated="20220921095123"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095123-enig5s9" data-type="NodeParagraph" class="p" id="20220921095123-enig5s9" updated="20220921095123"><div contenteditable="false" spellcheck="false">Processing it when it gets there</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095123-hzoi066" data-type="NodeListItem" class="li" id="20220921095123-hzoi066" updated="20220921095123"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095123-usifuu2" data-type="NodeParagraph" class="p" updated="20220921095123" id="20220921095123-usifuu2"><div contenteditable="false" spellcheck="false">First, let’s focus on the first problem</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095140-nc8gxvv" data-type="NodeListItem" class="li" id="20220921095140-nc8gxvv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095141-4kcozqw" data-type="NodeParagraph" class="p" id="20220921095141-4kcozqw" updated="20220921095141"><div contenteditable="false" spellcheck="false">Enter Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921095141-fpahnit" data-type="NodeList" class="list" id="20220921095141-fpahnit" updated="20220921095144"><div data-marker="*" data-subtype="u" data-node-id="20220921095144-1a1yvu9" data-type="NodeListItem" class="li" id="20220921095144-1a1yvu9" updated="20220921095144"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095144-qzznrti" data-type="NodeParagraph" class="p" id="20220921095144-qzznrti" updated="20220921095202"><div contenteditable="false" spellcheck="false">Kafka is a general-purpose <strong>publish/subscribe messaging system</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220921095141-bky3d1u" data-type="NodeList" class="list" updated="20220921095141" id="20220921095141-bky3d1u"><div data-marker="*" data-subtype="u" data-node-id="20220921095141-ixxp3c7" data-type="NodeListItem" class="li" id="20220921095141-ixxp3c7" updated="20220921095141"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095141-4xaph8g" data-type="NodeParagraph" class="p" id="20220921095141-4xaph8g" updated="20220921095208"><div contenteditable="false" spellcheck="false">Kafka servers <strong>store all incoming messages from publishers</strong> for some period of time, and publishes them to a stream of data called a topic.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095141-wz87dlj" data-type="NodeListItem" class="li" id="20220921095141-wz87dlj" updated="20220921095141"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095141-a84dkuu" data-type="NodeParagraph" class="p" id="20220921095141-a84dkuu" updated="20220921095935"><div contenteditable="false" spellcheck="false">Kafka consumers subscribe to one or more topics, and receive data as it’s published</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095141-ykhii4s" data-type="NodeListItem" class="li" id="20220921095141-ykhii4s" updated="20220921095141"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095141-l2qvqud" data-type="NodeParagraph" class="p" id="20220921095141-l2qvqud" updated="20220921095933"><div contenteditable="false" spellcheck="false">A stream / topic can have many different consumers, all with their own position in the stream maintained</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095141-c9tqpfq" data-type="NodeListItem" class="li" id="20220921095141-c9tqpfq" updated="20220921095141"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095141-x8twwlp" data-type="NodeParagraph" class="p" id="20220921095141-x8twwlp" updated="20220921095141"><div contenteditable="false" spellcheck="false">It’s not just for Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220921095936-xua6f1y" data-type="NodeListItem" class="li" id="20220921095936-xua6f1y" updated="20220921095948"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220921095936-tqfna19" data-type="NodeParagraph" class="p" id="20220921095936-tqfna19" updated="20220921095937"><div contenteditable="false" spellcheck="false">Kafka architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921095938-9oxv45p" data-type="NodeParagraph" class="p" id="20220921095938-9oxv45p" updated="20220921095948"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 770px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220921095947-wlyn340.png" data-src="assets/image-20220921095947-wlyn340.png" alt="image" style="width: 760px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922013801-2j0kqqa" data-type="NodeListItem" class="li" id="20220922013801-2j0kqqa"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013801-bxz7ayg" data-type="NodeParagraph" class="p" id="20220922013801-bxz7ayg"><div contenteditable="false" spellcheck="false">​How Kafka scales</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922014002-l7ubxw4" data-type="NodeParagraph" class="p" id="20220922014002-l7ubxw4" updated="20220922014003"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 345px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220922014003-mgym3d7.png" data-src="assets/image-20220922014003-mgym3d7.png" alt="image" style="width: 335px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220922013807-tj24feh" data-type="NodeList" class="list" id="20220922013807-tj24feh" updated="20220922013809"><div data-marker="*" data-subtype="u" data-node-id="20220922013809-n52u4jm" data-type="NodeListItem" class="li" id="20220922013809-n52u4jm" updated="20220922013809"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013809-xden67q" data-type="NodeParagraph" class="p" id="20220922013809-xden67q" updated="20220922013810"><div contenteditable="false" spellcheck="false">Kafka itself may be distributed among many processes on many servers</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220922013815-hw334ww" data-type="NodeList" class="list" id="20220922013815-hw334ww"><div data-marker="*" data-subtype="u" data-node-id="20220922013815-lxf3v80" data-type="NodeListItem" class="li" id="20220922013815-lxf3v80"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013815-wmigilu" data-type="NodeParagraph" class="p" id="20220922013815-wmigilu" updated="20220922013818"><div contenteditable="false" spellcheck="false">Will distribute the storage of stream data as well</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922013821-o5r37bm" data-type="NodeListItem" class="li" id="20220922013821-o5r37bm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013821-y77a65k" data-type="NodeParagraph" class="p" id="20220922013821-y77a65k"><div contenteditable="false" spellcheck="false">Consumers may also be distributed</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220922013825-seurzu8" data-type="NodeList" class="list" id="20220922013825-seurzu8"><div data-marker="*" data-subtype="u" data-node-id="20220922013825-4bwvt2i" data-type="NodeListItem" class="li" id="20220922013825-4bwvt2i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013825-t2ch3ja" data-type="NodeParagraph" class="p" id="20220922013825-t2ch3ja" updated="20220922014015"><div contenteditable="false" spellcheck="false">Consumers of the same group will have messages distributed amongst them</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922013837-7o0q2kc" data-type="NodeListItem" class="li" id="20220922013837-7o0q2kc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922013837-ir4hec5" data-type="NodeParagraph" class="p" id="20220922013837-ir4hec5" updated="20220922013839"><div contenteditable="false" spellcheck="false">Consumers of different groups will get their own copy of each message</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922014053-el18ypz" data-type="NodeListItem" class="li" id="20220922014053-el18ypz" updated="20220922121622"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014053-bn059ae" data-type="NodeParagraph" class="p" id="20220922014053-bn059ae" updated="20220922014059"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220922014107-q0lhj23" data-type="NodeList" class="list" id="20220922014107-q0lhj23" updated="20220922121622"><div data-marker="*" data-subtype="u" data-node-id="20220922014107-hqpil6u" data-type="NodeListItem" class="li" id="20220922014107-hqpil6u" updated="20220922014107"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014107-z0bd85t" data-type="NodeParagraph" class="p" id="20220922014107-z0bd85t" updated="20220922014107"><div contenteditable="false" spellcheck="false">Start Kafka on our sandbox</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922014510-7234ym4" data-type="NodeCodeBlock" class="code-block" id="20220922014510-7234ym4" updated="20220922014513"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/kafka-broker/
[maria_dev@sandbox-hdp kafka-broker]$ ls
LICENSE  NOTICE  bin  conf  config  doc  examples  libs  logs  pids
[maria_dev@sandbox-hdp kafka-broker]$ cd bin
[maria_dev@sandbox-hdp bin]$ ls
connect-distributed.sh               kafka-replica-verification.sh
connect-standalone.sh                kafka-run-class.sh
kafka                                kafka-server-start.sh
kafka-acls.sh                        kafka-server-stop.sh
kafka-broker-api-versions.sh         kafka-simple-consumer-shell.sh
kafka-configs.sh                     kafka-streams-application-reset.sh
kafka-console-consumer.sh            kafka-topics.sh
kafka-console-producer.sh            kafka-verifiable-consumer.sh
kafka-consumer-groups.sh             kafka-verifiable-producer.sh
kafka-consumer-perf-test.sh          kafka-zookeeper-run-class.sh
kafka-delete-records.sh              trogdor.sh
kafka-log-dirs.sh                    windows
kafka-mirror-maker.sh                zookeeper-security-migration.sh
kafka-preferred-replica-election.sh  zookeeper-server-start.sh
kafka-producer-perf-test.sh          zookeeper-server-stop.sh
kafka-reassign-partitions.sh         zookeeper-shell.sh
kafka-replay-log-producer.sh
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922014107-uhuf8f5" data-type="NodeListItem" class="li" id="20220922014107-uhuf8f5" updated="20220922014107"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014107-b0ibeem" data-type="NodeParagraph" class="p" id="20220922014107-b0ibeem" updated="20220922014107"><div contenteditable="false" spellcheck="false">Set up a topic</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922091909-pgrlf3h" data-type="NodeCodeBlock" class="code-block" id="20220922091909-pgrlf3h" updated="20220922092251"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp bin]$ ./kafka-topics.sh --create --zookeeper sandbox-hdp.hortonworks.com:2181 --replication-factor=1 --partitions 1 --topic fred
Created topic &quot;fred&quot;.

[maria_dev@sandbox-hdp bin]$ ./kafka-topics.sh --list  --zookeeper sandbox-hdp.hortonworks.com:2181
ATLAS_ENTITIES
ATLAS_HOOK
__consumer_offsets
fred

# listen to standard input, broadcast any line on 'fred' topic
[maria_dev@sandbox-hdp bin]$ ./kafka-console-producer.sh --broker-list sandbox-hdp.hortonworks.com:6667 --topic fred

</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922014111-zjjoelp" data-type="NodeListItem" class="li" id="20220922014111-zjjoelp" updated="20220922014111"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014111-hogstxy" data-type="NodeParagraph" class="p" id="20220922014111-hogstxy" updated="20220922014111"><div contenteditable="false" spellcheck="false">Publish some data to it, and watch it get consumed</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922092408-v0dnx3l" data-type="NodeCodeBlock" class="code-block" id="20220922092408-v0dnx3l" updated="20220922095412"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">&gt;This is a line of data
&gt;I am just sending this on the fred topic


[maria_dev@sandbox-hdp bin]$ ./kafka-console-consumer.sh --zookeeper localhost:2181 --topic fred --from-beginning
Using the ConsoleConsumer with old consumer is deprecated and will be removed in a future major release. Consider using the new consumer by passing [bootstrap-server] instead of [zookeeper].
This is a line of data
I am just sending this on the fred topic


</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922095603-0tj3i7j" data-type="NodeParagraph" class="p" id="20220922095603-0tj3i7j" updated="20220922095605"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220922095605-dyw5r3h.png" data-src="assets/image-20220922095605-dyw5r3h.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922014113-nsiq6pe" data-type="NodeListItem" class="li" id="20220922014113-nsiq6pe"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014113-p9nxkeq" data-type="NodeParagraph" class="p" updated="20220922014118" id="20220922014113-p9nxkeq"><div contenteditable="false" spellcheck="false">Set up a file connector</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220922014118-wwayu2x" data-type="NodeListItem" class="li" id="20220922014118-wwayu2x" updated="20220922121622"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922014118-nz27vpt" data-type="NodeParagraph" class="p" id="20220922014118-nz27vpt"><div contenteditable="false" spellcheck="false">Monitor a log file and publish additions to it</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922113749-vlf27xf" data-type="NodeCodeBlock" class="code-block" id="20220922113749-vlf27xf" updated="20220922121210"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/kafka-broker
[maria_dev@sandbox-hdp kafka-broker]$ ls
LICENSE  NOTICE  bin  conf  config  doc  examples  libs  logs  pids
[maria_dev@sandbox-hdp kafka-broker]$ cd conf
[maria_dev@sandbox-hdp conf]$ ls
connect-console-sink.properties    connect-standalone.properties  server.properties
connect-console-source.properties  consumer.properties            test-log4j.properties
connect-distributed.properties     kafka-env.sh                   tools-log4j.properties
connect-file-sink.properties       kafka_client_jaas.conf         zookeeper.properties
connect-file-source.properties     log4j.properties
connect-log4j.properties           producer.properties


## connect-standalone.properties
## that's what we're going to use to set up the network environment 
## for our standalone connector server here 
## because we're just running on one computer.

## connect-file-sink.properties
## that describes the properties of how we're going to store the contents 
## of that stream as it comes in.
## So the sync is what's going to be the consumer of that stream 
## and dumping the output into a file of our choice.

## connect-file-source.properties
## that can be set up to listen to changes on a given file 
## that we specify and publish that as a producer on a topic on a stream as well.

[maria_dev@sandbox-hdp conf]$ cp connect-standalone.properties ~/
[maria_dev@sandbox-hdp conf]$ cp connect-file-sink.properties ~/
[maria_dev@sandbox-hdp conf]$ cp connect-file-source.properties ~/

[maria_dev@sandbox-hdp conf]$ cd ~
[maria_dev@sandbox-hdp ~]$ vi connect-standalone.properties 
## Changed to
## # These are defaults. This file just demonstrates how to override some settings.
## bootstrap.servers=sandbox-hdp.hortonworks.com:6667

[maria_dev@sandbox-hdp ~]$ vi connect-file-sink.properties 
## Changed to
## file=/home/maria_dev/logout.txt
## topics=log-test

[maria_dev@sandbox-hdp ~]$ vi connect-file-source.properties 
## Changed to
## file=/home/maria_dev/access_log_small.txt
## topic=log-test



[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/access_log_small.txt
[maria_dev@sandbox-hdp ~]$ tail -n 5 access_log_small.txt 
66.249.75.159 - - [29/Nov/2015:04:54:55 +0000] &quot;GET /robots.txt HTTP/1.1&quot; 200 55 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:54:55 +0000] &quot;GET / HTTP/1.1&quot; 200 7128 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:55:02 +0000] &quot;GET /?page_id=34499 HTTP/1.1&quot; 301 20 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:55:08 +0000] &quot;GET /san-jose-headlines/ HTTP/1.1&quot; 200 10657 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
5.10.76.30 - - [29/Nov/2015:04:57:55 +0000] &quot;GET /html/languages/es_es/main.js HTTP/1.0&quot; 404 23286 &quot;-&quot; &quot;-&quot;


[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/kafka-broker/bin
[maria_dev@sandbox-hdp bin]$ ./kafka-topics.sh --list  --zookeeper sandbox-hdp.hortonworks.com:2181
ATLAS_ENTITIES
ATLAS_HOOK
__consumer_offsets
fred
[maria_dev@sandbox-hdp bin]$ ./kafka-topics.sh --create --zookeeper sandbox-hdp.hortonworks.com:2181 --replication-factor=1 --partitions 1 --topic log-test
Created topic &quot;log-test&quot;.



[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/kafka-broker/bin
[maria_dev@sandbox-hdp bin]$ ./connect-standalone.sh ~/connect-standalone.properties ~/connect-file-source.properties ~/connect-file-sink.properties 
[2022-09-21 20:51:56,894] INFO Kafka Connect standalone worker initializing ... (org.apache.kafka.connect.cli.ConnectStandalone:65)


now listening on the log file and will display at consumer side
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922121050-vhng63y" data-type="NodeParagraph" class="p" id="20220922121050-vhng63y" updated="20220922121050"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220922121050-bbzis6j.png" data-src="assets/image-20220922121050-bbzis6j.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922121338-lyd9wz6" data-type="NodeCodeBlock" class="code-block" id="20220922121338-lyd9wz6" updated="20220922121622"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cd ~

## connector consumer automatically publish the data to a file to logout.txt 
[maria_dev@sandbox-hdp ~]$ tail -n 5 logout.txt 
66.249.75.159 - - [29/Nov/2015:04:54:55 +0000] &quot;GET /robots.txt HTTP/1.1&quot; 200 55 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:54:55 +0000] &quot;GET / HTTP/1.1&quot; 200 7128 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:55:02 +0000] &quot;GET /?page_id=34499 HTTP/1.1&quot; 301 20 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
66.249.75.159 - - [29/Nov/2015:04:55:08 +0000] &quot;GET /san-jose-headlines/ HTTP/1.1&quot; 200 10657 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot;
5.10.76.30 - - [29/Nov/2015:04:57:55 +0000] &quot;GET /html/languages/es_es/main.js HTTP/1.0&quot; 404 23286 &quot;-&quot; &quot;-&quot;

[maria_dev@sandbox-hdp ~]$ echo &quot;This is a new line&quot; &gt;&gt; access_log_small.txt 
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220922121609-j51351w" data-type="NodeParagraph" class="p" id="20220922121609-j51351w" updated="20220922121610"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220922121610-fudfljt.png" data-src="assets/image-20220922121610-fudfljt.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220922121744-zfvkbgn" data-type="NodeList" class="list" id="20220922121744-zfvkbgn" updated="20220926015815"><div data-marker="*" data-subtype="u" data-node-id="20220922121746-ijl7ls1" data-type="NodeListItem" class="li" id="20220922121746-ijl7ls1" updated="20220926015815"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220922121746-3zmud38" data-type="NodeParagraph" class="p" id="20220922121746-3zmud38" updated="20220922121754"><div contenteditable="false" spellcheck="false">Streaming with Flume</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923005801-cy6ercq" data-type="NodeList" class="list" id="20220923005801-cy6ercq" updated="20220926015815"><div data-marker="*" data-subtype="u" data-node-id="20220923005812-ohy45ch" data-type="NodeListItem" class="li" id="20220923005812-ohy45ch" updated="20220924144716"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005812-mb96h3b" data-type="NodeParagraph" class="p" id="20220923005812-mb96h3b" updated="20220924144716"><div contenteditable="false" spellcheck="false">What is Flume? (Buffering layer of mocing files to HDFS)<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://flume.apache.org/_static/flume-logo.png" data-src="https://flume.apache.org/_static/flume-logo.png" alt="Logo" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923005819-is3fn9w" data-type="NodeList" class="list" id="20220923005819-is3fn9w"><div data-marker="*" data-subtype="u" data-node-id="20220923005817-xjjr6bq" data-type="NodeListItem" class="li" id="20220923005817-xjjr6bq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005817-effasn2" data-type="NodeParagraph" class="p" id="20220923005817-effasn2"><div contenteditable="false" spellcheck="false">Another way to stream data into your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923005822-g7k41t9" data-type="NodeListItem" class="li" id="20220923005822-g7k41t9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005822-mx4bcxc" data-type="NodeParagraph" class="p" id="20220923005822-mx4bcxc"><div contenteditable="false" spellcheck="false">Made from the start with Hadoop in mind</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923005825-mpiovz0" data-type="NodeList" class="list" id="20220923005825-mpiovz0"><div data-marker="*" data-subtype="u" data-node-id="20220923005824-xlzvgdz" data-type="NodeListItem" class="li" id="20220923005824-xlzvgdz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005824-h8ees8u" data-type="NodeParagraph" class="p" id="20220923005824-h8ees8u"><div contenteditable="false" spellcheck="false">Built-in sinks for HDFS and Hbase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923005827-j6iqixc" data-type="NodeListItem" class="li" id="20220923005827-j6iqixc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005827-ms4qvju" data-type="NodeParagraph" class="p" id="20220923005827-ms4qvju"><div contenteditable="false" spellcheck="false">Originally made to handle log aggregation</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923005935-sohnmjs" data-type="NodeListItem" class="li" id="20220923005935-sohnmjs"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005935-24ia1ms" data-type="NodeParagraph" class="p" id="20220923005935-24ia1ms" updated="20220923005936"><div contenteditable="false" spellcheck="false">Anatomy of a Flume Agent and Flow</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220923005945-vs3n3ak" data-type="NodeParagraph" class="p" id="20220923005945-vs3n3ak" updated="20220923005945"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 603px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220923005945-9rm0h83.png" data-src="assets/image-20220923005945-9rm0h83.png" alt="image" style="width: 593px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923005948-atzqtur" data-type="NodeListItem" class="li" id="20220923005948-atzqtur"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923005948-tk6l29a" data-type="NodeParagraph" class="p" id="20220923005948-tk6l29a"><div contenteditable="false" spellcheck="false">​Components of an agent</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010052-yj0dpme" data-type="NodeList" class="list" id="20220923010052-yj0dpme" updated="20220923010057"><div data-marker="*" data-subtype="u" data-node-id="20220923010057-l7x3hs2" data-type="NodeListItem" class="li" id="20220923010057-l7x3hs2" updated="20220923010057"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010057-58uvasn" data-type="NodeParagraph" class="p" id="20220923010057-58uvasn" updated="20220923010057"><div contenteditable="false" spellcheck="false">Source</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010103-xscn8uu" data-type="NodeList" class="list" id="20220923010103-xscn8uu"><div data-marker="*" data-subtype="u" data-node-id="20220923010102-c4fzuyf" data-type="NodeListItem" class="li" id="20220923010102-c4fzuyf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010102-5w9vvvb" data-type="NodeParagraph" class="p" id="20220923010102-5w9vvvb"><div contenteditable="false" spellcheck="false">Where data is coming from</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010106-ewvjxeo" data-type="NodeListItem" class="li" id="20220923010106-ewvjxeo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010106-vtrukxw" data-type="NodeParagraph" class="p" id="20220923010106-vtrukxw" updated="20220923010111"><div contenteditable="false" spellcheck="false">Can optionally have Channel Selectors and Interceptors</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010112-3437kyd" data-type="NodeListItem" class="li" id="20220923010112-3437kyd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010112-u8cm562" data-type="NodeParagraph" class="p" id="20220923010112-u8cm562"><div contenteditable="false" spellcheck="false">Channel</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010116-xlnb1iy" data-type="NodeList" class="list" id="20220923010116-xlnb1iy"><div data-marker="*" data-subtype="u" data-node-id="20220923010116-3bxojuk" data-type="NodeListItem" class="li" id="20220923010116-3bxojuk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010116-qa4mxlg" data-type="NodeParagraph" class="p" id="20220923010116-qa4mxlg" updated="20220923010121"><div contenteditable="false" spellcheck="false">How the data is transferred (via memory or files)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010121-r5n6yq8" data-type="NodeListItem" class="li" id="20220923010121-r5n6yq8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010121-10eq7bz" data-type="NodeParagraph" class="p" id="20220923010121-10eq7bz"><div contenteditable="false" spellcheck="false">Sink</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010129-2b02n3x" data-type="NodeList" class="list" id="20220923010129-2b02n3x"><div data-marker="*" data-subtype="u" data-node-id="20220923010128-kop78bc" data-type="NodeListItem" class="li" id="20220923010128-kop78bc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010128-zgkl5s8" data-type="NodeParagraph" class="p" id="20220923010128-zgkl5s8"><div contenteditable="false" spellcheck="false">Where the data is going</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010131-308y2gd" data-type="NodeListItem" class="li" id="20220923010131-308y2gd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010131-6ibe9iq" data-type="NodeParagraph" class="p" id="20220923010131-6ibe9iq"><div contenteditable="false" spellcheck="false">Can be organized into Sink Groups</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010135-056it66" data-type="NodeListItem" class="li" id="20220923010135-056it66"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010135-n9bhmdm" data-type="NodeParagraph" class="p" id="20220923010135-n9bhmdm" updated="20220923010140"><div contenteditable="false" spellcheck="false">A sink can connect to only one channel</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010141-xwt7sl9" data-type="NodeList" class="list" id="20220923010141-xwt7sl9"><div data-marker="*" data-subtype="u" data-node-id="20220923010140-0wi98k3" data-type="NodeListItem" class="li" id="20220923010140-0wi98k3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010140-8z7nuzl" data-type="NodeParagraph" class="p" id="20220923010140-8z7nuzl"><div contenteditable="false" spellcheck="false">Channel is notified to delete a message once the sink processes it.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010418-4mep8wg" data-type="NodeListItem" class="li" id="20220923010418-4mep8wg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-82uclk8" data-type="NodeParagraph" class="p" id="20220923010420-82uclk8" updated="20220923010420"><div contenteditable="false" spellcheck="false">Built-in Source Types</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010420-vzsr9ui" data-type="NodeList" class="list" id="20220923010420-vzsr9ui" updated="20220923010424"><div data-marker="*" data-subtype="u" data-node-id="20220923010424-sr88hrf" data-type="NodeListItem" class="li" id="20220923010424-sr88hrf" updated="20220923010424"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010424-dac1t3v" data-type="NodeParagraph" class="p" id="20220923010424-dac1t3v" updated="20220923010424"><div contenteditable="false" spellcheck="false">Spooling directory</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010420-1l59zi8" data-type="NodeList" class="list" id="20220923010420-1l59zi8" updated="20220923010420"><div data-marker="*" data-subtype="u" data-node-id="20220923010420-wunwa7p" data-type="NodeListItem" class="li" id="20220923010420-wunwa7p" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-l1hdlg0" data-type="NodeParagraph" class="p" id="20220923010420-l1hdlg0" updated="20220923010420"><div contenteditable="false" spellcheck="false">Avro</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-qepigzx" data-type="NodeListItem" class="li" id="20220923010420-qepigzx" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-25e0akb" data-type="NodeParagraph" class="p" id="20220923010420-25e0akb" updated="20220923010420"><div contenteditable="false" spellcheck="false">Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-bvxm159" data-type="NodeListItem" class="li" id="20220923010420-bvxm159" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-hi5qkn8" data-type="NodeParagraph" class="p" id="20220923010420-hi5qkn8" updated="20220923010420"><div contenteditable="false" spellcheck="false">Exec</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-w4538g7" data-type="NodeListItem" class="li" id="20220923010420-w4538g7" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-4n0d2t2" data-type="NodeParagraph" class="p" id="20220923010420-4n0d2t2" updated="20220923010420"><div contenteditable="false" spellcheck="false">Thrift</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-9ohhief" data-type="NodeListItem" class="li" id="20220923010420-9ohhief" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-q9zmoxf" data-type="NodeParagraph" class="p" id="20220923010420-q9zmoxf" updated="20220923010420"><div contenteditable="false" spellcheck="false">Netcat</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-9l9qsbd" data-type="NodeListItem" class="li" id="20220923010420-9l9qsbd" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-tarqi71" data-type="NodeParagraph" class="p" id="20220923010420-tarqi71" updated="20220923010420"><div contenteditable="false" spellcheck="false">HTTP</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-jt0av8n" data-type="NodeListItem" class="li" id="20220923010420-jt0av8n" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-eojm3wl" data-type="NodeParagraph" class="p" id="20220923010420-eojm3wl" updated="20220923010420"><div contenteditable="false" spellcheck="false">Custom</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010420-it48974" data-type="NodeListItem" class="li" id="20220923010420-it48974" updated="20220923010420"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010420-jn9d6du" data-type="NodeParagraph" class="p" id="20220923010420-jn9d6du" updated="20220923010420"><div contenteditable="false" spellcheck="false">And more!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010525-zgesjec" data-type="NodeListItem" class="li" id="20220923010525-zgesjec"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-dcvccrj" data-type="NodeParagraph" class="p" id="20220923010526-dcvccrj" updated="20220923010526"><div contenteditable="false" spellcheck="false">Built-in Sink Types</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010526-u7kyxo0" data-type="NodeList" class="list" updated="20220923010529" id="20220923010526-u7kyxo0"><div data-marker="*" data-subtype="u" data-node-id="20220923010529-0dtyd6a" data-type="NodeListItem" class="li" id="20220923010529-0dtyd6a" updated="20220923010529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010529-9h7y03t" data-type="NodeParagraph" class="p" id="20220923010529-9h7y03t" updated="20220923010529"><div contenteditable="false" spellcheck="false">HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923010526-5j8bhal" data-type="NodeList" class="list" id="20220923010526-5j8bhal" updated="20220923010526"><div data-marker="*" data-subtype="u" data-node-id="20220923010526-cbwzqif" data-type="NodeListItem" class="li" updated="20220923010526" id="20220923010526-cbwzqif"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-4luo7ye" data-type="NodeParagraph" class="p" id="20220923010526-4luo7ye" updated="20220923010526"><div contenteditable="false" spellcheck="false">Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-2mugj2f" data-type="NodeListItem" class="li" id="20220923010526-2mugj2f" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-iqc9622" data-type="NodeParagraph" class="p" id="20220923010526-iqc9622" updated="20220923010526"><div contenteditable="false" spellcheck="false">HBase</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-ve4fixk" data-type="NodeListItem" class="li" id="20220923010526-ve4fixk" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-dy5ew9n" data-type="NodeParagraph" class="p" id="20220923010526-dy5ew9n" updated="20220923010526"><div contenteditable="false" spellcheck="false">Avro</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-abk5bpo" data-type="NodeListItem" class="li" id="20220923010526-abk5bpo" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-64qfkig" data-type="NodeParagraph" class="p" updated="20220923010526" id="20220923010526-64qfkig"><div contenteditable="false" spellcheck="false">Thrift</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-f1pcl5j" data-type="NodeListItem" class="li" id="20220923010526-f1pcl5j" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-jx9u3c1" data-type="NodeParagraph" class="p" id="20220923010526-jx9u3c1" updated="20220923010526"><div contenteditable="false" spellcheck="false">Elasticsearch</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-grzm2l9" data-type="NodeListItem" class="li" id="20220923010526-grzm2l9" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-w1168ej" data-type="NodeParagraph" class="p" id="20220923010526-w1168ej" updated="20220923010526"><div contenteditable="false" spellcheck="false">Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-bwruy8s" data-type="NodeListItem" class="li" id="20220923010526-bwruy8s" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-fbdv4d1" data-type="NodeParagraph" class="p" id="20220923010526-fbdv4d1" updated="20220923010526"><div contenteditable="false" spellcheck="false">Custom</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010526-97oqtfv" data-type="NodeListItem" class="li" id="20220923010526-97oqtfv" updated="20220923010526"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010526-antc9i7" data-type="NodeParagraph" class="p" id="20220923010526-antc9i7" updated="20220923010526"><div contenteditable="false" spellcheck="false">And more!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923010606-w1yo06n" data-type="NodeListItem" class="li" id="20220923010606-w1yo06n" updated="20220923010621"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923010606-izh2t36" data-type="NodeParagraph" class="p" id="20220923010606-izh2t36" updated="20220923010609"><div contenteditable="false" spellcheck="false">Using Avro, agents can connect to other agents as well</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220923010610-gtacgsv" data-type="NodeParagraph" class="p" id="20220923010610-gtacgsv" updated="20220923010621"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 685px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220923010621-funm1xp.png" data-src="assets/image-20220923010621-funm1xp.png" alt="image" style="width: 675px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923134547-le7bpa9" data-type="NodeListItem" class="li" id="20220923134547-le7bpa9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923134547-d7a4uk0" data-type="NodeParagraph" class="p" id="20220923134547-d7a4uk0" updated="20220923134551"><div contenteditable="false" spellcheck="false">Think of Flume as a buffer between your data and your cluster.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923134707-worhgr5" data-type="NodeListItem" class="li" id="20220923134707-worhgr5" updated="20220926015815"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923134707-h317q2f" data-type="NodeParagraph" class="p" updated="20220923134710" id="20220923134707-h317q2f"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220923134710-xiiddek" data-type="NodeList" class="list" updated="20220926015815" id="20220923134710-xiiddek"><div data-marker="*" data-subtype="u" data-node-id="20220923134710-cud59n1" data-type="NodeListItem" class="li" id="20220923134710-cud59n1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923134710-tv11dbp" data-type="NodeParagraph" class="p" id="20220923134710-tv11dbp" updated="20220923134720"><div contenteditable="false" spellcheck="false">Simple flow</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220923134919-fvd8p4z" data-type="NodeParagraph" class="p" id="20220923134919-fvd8p4z" updated="20220923134920"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 547px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220923134920-w8ekx0c.png" data-src="assets/image-20220923134920-w8ekx0c.png" alt="image" style="width: 537px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220923222353-k6kdvt2" data-type="NodeCodeBlock" class="code-block" id="20220923222353-k6kdvt2" updated="20220924025857"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/example.conf
[maria_dev@sandbox-hdp ~]$ cat example.conf 
# example.conf: A single-node Flume configuration

# Name the components on this agent
a1.sources = r1
a1.sinks = k1
a1.channels = c1

# Describe/configure the source
# NetCat is a utility in Unix that can listen to an arbitrary port for traffic on TCP, like from Telnet
a1.sources.r1.type = netcat
a1.sources.r1.bind = localhost
a1.sources.r1.port = 44444

# Describe the sink
a1.sinks.k1.type = logger

# Use a channel which buffers events in memory
a1.channels.c1.type = memory
a1.channels.c1.capacity = 1000
a1.channels.c1.transactionCapacity = 100

# Bind the source and sink to the channel
a1.sources.r1.channels = c1
a1.sinks.k1.channel = c1


## another terminal
[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/flume-server/
[maria_dev@sandbox-hdp flume-server]$ sudo bin/flume-ng agent --conf conf --conf-file ~/example.conf --name a1 -Dflume.root.logger=INFO,console


[maria_dev@sandbox-hdp ~]$ telnet localhost 44444
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Hello, this is some text
OK
oh why breaking..
OK






## third terminal
[maria_dev@sandbox-hdp ~]$ tail -f /var/log/flume/flume.log
23 Sep 2022 18:53:12,683 INFO  [lifecycleSupervisor-1-1] (org.apache.flume.source.NetcatSource.start:161)  - Created serverSocket:sun.nio.ch.ServerSocketChannelImpl[/127.0.0.1:44444]
23 Sep 2022 18:56:54,770 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.LoggerSink.process:70)  - Event: { headers:{} body: 48 65 6C 6C 6F 2C 20 74 68 69 73 20 69 73 20 73 Hello, this is s }
23 Sep 2022 18:57:10,686 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.LoggerSink.process:70)  - Event: { headers:{} body: 6F 68 20 77 68 74 20 62 72 65 61 6B 69 6E 67 2E oh why breaking. }
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220923134859-ndhyika" data-type="NodeListItem" class="li" id="20220923134859-ndhyika" updated="20220926015815"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220923134859-ebww3n5" data-type="NodeParagraph" class="p" updated="20220923135037" id="20220923134859-ebww3n5"><div contenteditable="false" spellcheck="false">Log Spool to HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220923134902-whf3nwb" data-type="NodeParagraph" class="p" id="20220923134902-whf3nwb" updated="20220924033209"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 854px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220923134903-2rdbovt.png" data-src="assets/image-20220923134903-2rdbovt.png" alt="image" style="width: 844px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924033209-nrgnm94" data-type="NodeCodeBlock" class="code-block" id="20220924033209-nrgnm94" updated="20220924042006"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/flumelogs.conf
[maria_dev@sandbox-hdp ~]$ cat flumelogs.conf 
# flumelogs.conf: A single-node Flume configuration

# Name the components on this agent
a1.sources = r1
a1.sinks = k1
a1.channels = c1

# Describe/configure the source
a1.sources.r1.type = spooldir
a1.sources.r1.spoolDir = /home/maria_dev/spool
a1.sources.r1.fileHeader = true
a1.sources.r1.interceptors = timestampInterceptor
a1.sources.r1.interceptors.timestampInterceptor.type = timestamp

# Describe the sink
a1.sinks.k1.type = hdfs
a1.sinks.k1.hdfs.path = /user/maria_dev/flume/%y-%m-%d/%H%M/%S
a1.sinks.k1.hdfs.filePrefix = events-
a1.sinks.k1.hdfs.round = true
a1.sinks.k1.hdfs.roundValue = 10
a1.sinks.k1.hdfs.roundUnit = minute

# Use a channel which buffers events in memory
a1.channels.c1.type = memory
a1.channels.c1.capacity = 1000
a1.channels.c1.transactionCapacity = 100

# Bind the source and sink to the channel
a1.sources.r1.channels = c1
a1.sinks.k1.channel = c1




## 1st get flume running
[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/flume-server/
[maria_dev@sandbox-hdp flume-server]$ sudo bin/flume-ng agent --conf conf --conf-file ~/flumelogs.conf --name a1 -Dflume.root.logger=INFO,console
....
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/usr/hdp/2.6.5.0-292/flume/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/usr/hdp/2.6.5.0-292/flume/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.

# 2nd put the log file into dir
[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/access_log_small.txt
[maria_dev@sandbox-hdp ~]$ cp access_log_small.txt spool/fred.txt


## 3rd monitor the log file

[maria_dev@sandbox-hdp ~]$ tail -f /var/log/flume/flume.log
23 Sep 2022 20:14:29,287 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:30,081 INFO  [pool-6-thread-1] (org.apache.flume.client.avro.ReliableSpoolingFileEventReader.rollCurrentFile:332)  - Preparing to move file /home/maria_dev/spool/fred.txt to /home/maria_dev/spool/fred.txt.COMPLETED
23 Sep 2022 20:14:30,082 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:30,583 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:31,084 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:31,585 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:32,086 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:32,587 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:33,087 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:33,588 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:34,089 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:34,589 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:34,688 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.HDFSSequenceFile.configure:63)  - writeFormat = Writable, UseRawLocalFileSystem = false
23 Sep 2022 20:14:34,716 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.open:286)  - Creating /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074687.tmp
23 Sep 2022 20:14:35,090 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:35,596 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:35,621 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.doClose:445)  - Closing /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074687.tmp
23 Sep 2022 20:14:35,640 INFO  [hdfs-k1-call-runner-1] (org.apache.flume.sink.hdfs.BucketWriter$8.call:708)  - Renaming /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074687.tmp to /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074687
23 Sep 2022 20:14:35,684 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.open:286)  - Creating /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074688.tmp
23 Sep 2022 20:14:35,744 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.doClose:445)  - Closing /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074688.tmp
23 Sep 2022 20:14:36,097 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:36,156 INFO  [hdfs-k1-call-runner-5] (org.apache.flume.sink.hdfs.BucketWriter$8.call:708)  - Renaming /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074688.tmp to /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074688
23 Sep 2022 20:14:36,185 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.open:286)  - Creating /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074689.tmp
23 Sep 2022 20:14:36,247 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.doClose:445)  - Closing /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074689.tmp
23 Sep 2022 20:14:36,598 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:36,655 INFO  [hdfs-k1-call-runner-9] (org.apache.flume.sink.hdfs.BucketWriter$8.call:708)  - Renaming /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074689.tmp to /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074689
23 Sep 2022 20:14:36,683 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.open:286)  - Creating /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074690.tmp
23 Sep 2022 20:14:36,732 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.doClose:445)  - Closing /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074690.tmp
23 Sep 2022 20:14:36,738 INFO  [hdfs-k1-call-runner-2] (org.apache.flume.sink.hdfs.BucketWriter$8.call:708)  - Renaming /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074690.tmp to /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074690
23 Sep 2022 20:14:36,765 INFO  [SinkRunner-PollingRunner-DefaultSinkProcessor] (org.apache.flume.sink.hdfs.BucketWriter.open:286)  - Creating /user/maria_dev/flume/22-09-23/2010/00/events-.1663964074691.tmp
23 Sep 2022 20:14:37,100 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.
23 Sep 2022 20:14:37,600 INFO  [pool-6-thread-1] (org.apache.flume.source.SpoolDirectorySource$SpoolDirectoryRunnable.run:254)  - Spooling Directory Source runner has shutdown.



## in local
[maria_dev@sandbox-hdp ~]$ ls spool/
fred.txt.COMPLETED

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924042013-hlyo7ab" data-type="NodeList" class="list" updated="20220926015815" id="20220924042013-hlyo7ab"><div data-marker="*" data-subtype="u" data-node-id="20220924042016-n21r7jz" data-type="NodeListItem" class="li" id="20220924042016-n21r7jz" updated="20220926015815"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924042016-z54s66z" data-type="NodeParagraph" class="p" id="20220924042016-z54s66z" updated="20220924042119"><div contenteditable="false" spellcheck="false">In HDFS, under <code>/user/maria_dev/flume/22-09-23/2010/00/</code>      (<code>/user/maria_dev/flume/%y-%m-%d/%H%M/%S</code>)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924042019-r8ujphb" data-type="NodeParagraph" class="p" id="20220924042019-r8ujphb" updated="20220924042034"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924042034-rn5qv2h.png" data-src="assets/image-20220924042034-rn5qv2h.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220926015814-pzcx4qc" data-type="NodeParagraph" class="p" id="20220926015814-pzcx4qc" updated="20220926015815"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220926015815-tiucye8.png" data-src="assets/image-20220926015815-tiucye8.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921094902-wz6vz3f" data-type="NodeParagraph" class="p" id="20220921094902-wz6vz3f"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921094902-quokkh5" data-type="NodeParagraph" class="p" id="20220921094902-quokkh5"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220921094902-6zwoh6b" data-type="NodeParagraph" class="p" id="20220921094902-6zwoh6b"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-4opxqzs" data-type="NodeHeading" class="h2" id="20220912014401-4opxqzs" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 10: Analyzing Streams of Data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924111515-g4bn4a3" data-type="NodeList" class="list" id="20220924111515-g4bn4a3" updated="20220924143708"><div data-marker="*" data-subtype="u" data-node-id="20220924111517-pq9pp0t" data-type="NodeListItem" class="li" id="20220924111517-pq9pp0t" updated="20220924143708"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111517-2zxwydw" data-type="NodeParagraph" class="p" id="20220924111517-2zxwydw" updated="20220924111522"><div contenteditable="false" spellcheck="false">SPARK STREAMING</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924111523-6zug7pf" data-type="NodeList" class="list" id="20220924111523-6zug7pf" updated="20220924143708"><div data-marker="*" data-subtype="u" data-node-id="20220924111529-t2iuqwc" data-type="NodeListItem" class="li" updated="20220924111529" id="20220924111529-t2iuqwc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111529-lxac5qv" data-type="NodeParagraph" class="p" id="20220924111529-lxac5qv" updated="20220924111529"><div contenteditable="false" spellcheck="false">Why Spark Streaming?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924111529-snbuzr4" data-type="NodeList" class="list" id="20220924111529-snbuzr4" updated="20220924111532"><div data-marker="*" data-subtype="u" data-node-id="20220924111532-r086nrx" data-type="NodeListItem" class="li" id="20220924111532-r086nrx" updated="20220924111532"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111532-9y3sc2x" data-type="NodeParagraph" class="p" id="20220924111532-9y3sc2x" updated="20220924111532"><div contenteditable="false" spellcheck="false">“Big data” never stops!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924111529-neqecec" data-type="NodeList" class="list" id="20220924111529-neqecec" updated="20220924111529"><div data-marker="*" data-subtype="u" data-node-id="20220924111529-6v3sifa" data-type="NodeListItem" class="li" id="20220924111529-6v3sifa" updated="20220924111529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111529-3exdlv6" data-type="NodeParagraph" class="p" id="20220924111529-3exdlv6" updated="20220924111529"><div contenteditable="false" spellcheck="false">Analyze data streams in real time, instead of in huge batch jobs daily</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924111529-lmeyoim" data-type="NodeListItem" class="li" id="20220924111529-lmeyoim" updated="20220924111529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111529-aq76976" data-type="NodeParagraph" class="p" id="20220924111529-aq76976" updated="20220924111529"><div contenteditable="false" spellcheck="false">Analyzing streams of web log data to react to user behavior</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924111529-bu9s725" data-type="NodeListItem" class="li" id="20220924111529-bu9s725" updated="20220924111529"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924111529-mmdaxm9" data-type="NodeParagraph" class="p" updated="20220924111529" id="20220924111529-mmdaxm9"><div contenteditable="false" spellcheck="false">Analyze streams of real-time sensor data for “Internet of Things” stuff</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924112114-8r61hae" data-type="NodeListItem" class="li" id="20220924112114-8r61hae"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112114-zzkfdg7" data-type="NodeParagraph" class="p" id="20220924112114-zzkfdg7" updated="20220924112142"><div contenteditable="false" spellcheck="false">Spark Streaming: High level</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924112143-2b8qwvw" data-type="NodeParagraph" class="p" updated="20220924112157" id="20220924112143-2b8qwvw"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 560px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924112157-qamr4ve.png" data-src="assets/image-20220924112157-qamr4ve.png" alt="image" style="width: 550px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924112251-gwyf864" data-type="NodeList" class="list" id="20220924112251-gwyf864"><div data-marker="*" data-subtype="u" data-node-id="20220924112249-h449cxi" data-type="NodeListItem" class="li" id="20220924112249-h449cxi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112249-qgdyyai" data-type="NodeParagraph" class="p" id="20220924112249-qgdyyai" updated="20220924112302"><div contenteditable="false" spellcheck="false">So each RDD within that stream of data will contain some discretized chunk of data received over a small time period.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924112323-er2tkpx" data-type="NodeListItem" class="li" id="20220924112323-er2tkpx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112323-w189ye2" data-type="NodeParagraph" class="p" id="20220924112323-w189ye2" updated="20220924112337"><div contenteditable="false" spellcheck="false">Not really real-time, but doing micro-batches</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924112405-6o8kx8u" data-type="NodeListItem" class="li" id="20220924112405-6o8kx8u"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112408-j5v8uvt" data-type="NodeParagraph" class="p" id="20220924112408-j5v8uvt" updated="20220924112411"><div contenteditable="false" spellcheck="false">This work can be distributed</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924112418-n47injm" data-type="NodeList" class="list" id="20220924112418-n47injm"><div data-marker="*" data-subtype="u" data-node-id="20220924112417-odlpzcf" data-type="NodeListItem" class="li" id="20220924112417-odlpzcf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112417-duxofuu" data-type="NodeParagraph" class="p" id="20220924112417-duxofuu"><div contenteditable="false" spellcheck="false">Processing of RDD’s can happen in parallel on different worker nodes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924112420-buxfxp6" data-type="NodeListItem" class="li" id="20220924112420-buxfxp6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112429-imi3ulf" data-type="NodeParagraph" class="p" id="20220924112429-imi3ulf" updated="20220924112429"><div contenteditable="false" spellcheck="false">DStreams (Discretized Streams)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924112429-1sqh7di" data-type="NodeList" class="list" id="20220924112429-1sqh7di" updated="20220924112432"><div data-marker="*" data-subtype="u" data-node-id="20220924112432-yp1avj9" data-type="NodeListItem" class="li" updated="20220924112432" id="20220924112432-yp1avj9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112432-s08h630" data-type="NodeParagraph" class="p" id="20220924112432-s08h630" updated="20220924112435"><div contenteditable="false" spellcheck="false">Generates the RDD’s for each time step, and can produce output at each time step.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924112429-0h287kk" data-type="NodeList" class="list" id="20220924112429-0h287kk" updated="20220924112429"><div data-marker="*" data-subtype="u" data-node-id="20220924112429-0y8nce9" data-type="NodeListItem" class="li" id="20220924112429-0y8nce9" updated="20220924112429"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112429-u7jwrvm" data-type="NodeParagraph" class="p" id="20220924112429-u7jwrvm" updated="20220924112437"><div contenteditable="false" spellcheck="false">Can be transformed and acted on in much the same way as RDD’s</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924112429-217vg93" data-type="NodeListItem" class="li" id="20220924112429-217vg93" updated="20220924112429"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924112429-2lb0scp" data-type="NodeParagraph" class="p" id="20220924112429-2lb0scp" updated="20220924112438"><div contenteditable="false" spellcheck="false">Or you can access their underlying RDD’s if you need them.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120641-n5oq38e" data-type="NodeListItem" class="li" id="20220924120641-n5oq38e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120643-i24w1ha" data-type="NodeParagraph" class="p" id="20220924120643-i24w1ha" updated="20220924120647"><div contenteditable="false" spellcheck="false">Common stateless transformations on DStreams</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120702-xkh1mtq" data-type="NodeList" class="list" id="20220924120702-xkh1mtq" updated="20220924120707"><div data-marker="*" data-subtype="u" data-node-id="20220924120707-6xx49sd" data-type="NodeListItem" class="li" id="20220924120707-6xx49sd" updated="20220924120707"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120707-zp1xvr0" data-type="NodeParagraph" class="p" id="20220924120707-zp1xvr0" updated="20220924120707"><div contenteditable="false" spellcheck="false">Map</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120709-gudtgge" data-type="NodeListItem" class="li" id="20220924120709-gudtgge"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120709-s533wb4" data-type="NodeParagraph" class="p" id="20220924120709-s533wb4"><div contenteditable="false" spellcheck="false">Flatmap</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120712-z8byngf" data-type="NodeListItem" class="li" id="20220924120712-z8byngf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120712-30dkwg6" data-type="NodeParagraph" class="p" id="20220924120712-30dkwg6"><div contenteditable="false" spellcheck="false">Fliter</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120714-ai6zo17" data-type="NodeListItem" class="li" id="20220924120714-ai6zo17"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120714-dfucs7c" data-type="NodeParagraph" class="p" id="20220924120714-dfucs7c"><div contenteditable="false" spellcheck="false">reduceByKey</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120719-480org1" data-type="NodeListItem" class="li" id="20220924120719-480org1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120720-xjwm6wo" data-type="NodeParagraph" class="p" updated="20220924120720" id="20220924120720-xjwm6wo"><div contenteditable="false" spellcheck="false">Stateful data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120720-ctp4etk" data-type="NodeList" class="list" id="20220924120720-ctp4etk" updated="20220924120725"><div data-marker="*" data-subtype="u" data-node-id="20220924120725-8gphhfa" data-type="NodeListItem" class="li" id="20220924120725-8gphhfa" updated="20220924120725"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120725-28kx980" data-type="NodeParagraph" class="p" id="20220924120725-28kx980" updated="20220924120725"><div contenteditable="false" spellcheck="false">You can also maintain a long-lived state on a Dstream</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120720-4cw1xh7" data-type="NodeList" class="list" id="20220924120720-4cw1xh7" updated="20220924120720"><div data-marker="*" data-subtype="u" data-node-id="20220924120720-wbhidwf" data-type="NodeListItem" class="li" id="20220924120720-wbhidwf" updated="20220924120720"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120720-mrucdyt" data-type="NodeParagraph" class="p" id="20220924120720-mrucdyt" updated="20220924120720"><div contenteditable="false" spellcheck="false">For example – running totals, broken down by keys</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120720-urg9lfv" data-type="NodeListItem" class="li" id="20220924120720-urg9lfv" updated="20220924120720"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120720-3ye8iel" data-type="NodeParagraph" class="p" id="20220924120720-3ye8iel" updated="20220924120720"><div contenteditable="false" spellcheck="false">Another example: aggregating session data in web activity</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120816-mzlij3h" data-type="NodeListItem" class="li" id="20220924120816-mzlij3h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120816-t5qfs94" data-type="NodeParagraph" class="p" id="20220924120816-t5qfs94" updated="20220924120841"><div contenteditable="false" spellcheck="false"><strong>Windowing</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120843-velw9at" data-type="NodeList" class="list" id="20220924120843-velw9at"><div data-marker="*" data-subtype="u" data-node-id="20220924120842-nsuw9bn" data-type="NodeListItem" class="li" id="20220924120842-nsuw9bn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120847-t4l33cq" data-type="NodeParagraph" class="p" id="20220924120847-t4l33cq" updated="20220924120847"><div contenteditable="false" spellcheck="false">Windowed Transformations</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120847-mbb94pi" data-type="NodeList" class="list" id="20220924120847-mbb94pi" updated="20220924120850"><div data-marker="*" data-subtype="u" data-node-id="20220924120850-chojv6b" data-type="NodeListItem" class="li" id="20220924120850-chojv6b" updated="20220924120850"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120850-b1a6bw8" data-type="NodeParagraph" class="p" id="20220924120850-b1a6bw8" updated="20220924120851"><div contenteditable="false" spellcheck="false">Allow you to compute results across a longer time period than your batch interval</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120847-8wvk8pv" data-type="NodeList" class="list" id="20220924120847-8wvk8pv" updated="20220924120847"><div data-marker="*" data-subtype="u" data-node-id="20220924120847-oxbeojp" data-type="NodeListItem" class="li" id="20220924120847-oxbeojp" updated="20220924120847"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120847-sqdzwhs" data-type="NodeParagraph" class="p" id="20220924120847-sqdzwhs" updated="20220924120847"><div contenteditable="false" spellcheck="false">Example: top-sellers from the past hour</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924120847-p78pdyf" data-type="NodeList" class="list" id="20220924120847-p78pdyf" updated="20220924120847"><div data-marker="*" data-subtype="u" data-node-id="20220924120847-ofwlo7m" data-type="NodeListItem" class="li" id="20220924120847-ofwlo7m" updated="20220924120847"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120847-d1wv3pw" data-type="NodeParagraph" class="p" updated="20220924120855" id="20220924120847-d1wv3pw"><div contenteditable="false" spellcheck="false">You might process data every one second (the batch interval)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120847-39sjp00" data-type="NodeListItem" class="li" updated="20220924120847" id="20220924120847-39sjp00"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120847-yjb150i" data-type="NodeParagraph" class="p" id="20220924120847-yjb150i" updated="20220924120857"><div contenteditable="false" spellcheck="false">But maintain a window of one hour</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924120847-a091eb3" data-type="NodeListItem" class="li" id="20220924120847-a091eb3" updated="20220924120847"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924120847-vs63jyo" data-type="NodeParagraph" class="p" id="20220924120847-vs63jyo" updated="20220924121010"><div contenteditable="false" spellcheck="false">The window “slides” as time goes on, to represent batches within the window interval</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121007-rqzeki1" data-type="NodeListItem" class="li" id="20220924121007-rqzeki1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121008-gobqp7p" data-type="NodeParagraph" class="p" updated="20220924121012" id="20220924121008-gobqp7p"><div contenteditable="false" spellcheck="false">Batch interval vs. slide interval vs. window interval</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121008-q44eztm" data-type="NodeList" class="list" updated="20220924121014" id="20220924121008-q44eztm"><div data-marker="*" data-subtype="u" data-node-id="20220924121014-kuicq75" data-type="NodeListItem" class="li" id="20220924121014-kuicq75" updated="20220924121014"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121014-s2k26s1" data-type="NodeParagraph" class="p" id="20220924121014-s2k26s1" updated="20220924121014"><div contenteditable="false" spellcheck="false">The batch interval is how often data is captured into a Dstream</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121008-cdjqj8v" data-type="NodeList" class="list" id="20220924121008-cdjqj8v" updated="20220924121008"><div data-marker="*" data-subtype="u" data-node-id="20220924121008-akj8o6s" data-type="NodeListItem" class="li" id="20220924121008-akj8o6s" updated="20220924121008"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121008-ur3myxj" data-type="NodeParagraph" class="p" updated="20220924121008" id="20220924121008-ur3myxj"><div contenteditable="false" spellcheck="false">The slide interval is how often a windowed transformation is computed</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121008-ljymzui" data-type="NodeListItem" class="li" id="20220924121008-ljymzui" updated="20220924121008"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121008-bf32qd7" data-type="NodeParagraph" class="p" updated="20220924121008" id="20220924121008-bf32qd7"><div contenteditable="false" spellcheck="false">The window interval is how far back in time the windowed transformation goes</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121150-yhgqyly" data-type="NodeListItem" class="li" id="20220924121150-yhgqyly" updated="20220924121150"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121150-epbhsny" data-type="NodeParagraph" class="p" id="20220924121150-epbhsny" updated="20220924121352"><div contenteditable="false" spellcheck="false"><strong>Example: E-commerce, compute the GMV for the past hour</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121203-qmcor2m" data-type="NodeList" class="list" id="20220924121203-qmcor2m"><div data-marker="*" data-subtype="u" data-node-id="20220924121202-dadhi5r" data-type="NodeListItem" class="li" id="20220924121202-dadhi5r"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121202-hsh253s" data-type="NodeParagraph" class="p" id="20220924121202-hsh253s" updated="20220924121242"><div contenteditable="false" spellcheck="false">batch interval: 1 second, every second the activity log is steamed into DStream</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121244-jamjuzt" data-type="NodeListItem" class="li" id="20220924121244-jamjuzt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121244-jlc2eig" data-type="NodeParagraph" class="p" id="20220924121244-jlc2eig" updated="20220924121326"><div contenteditable="false" spellcheck="false">slide interval: maybe 30 min, every half hour, the GMV is recomputed</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121327-e8eeis7" data-type="NodeListItem" class="li" id="20220924121327-e8eeis7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121327-hd26673" data-type="NodeParagraph" class="p" id="20220924121327-hd26673" updated="20220924121337"><div contenteditable="false" spellcheck="false">window interval: 1 hour</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121414-xbe8s01" data-type="NodeListItem" class="li" id="20220924121414-xbe8s01"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121416-gzvqbdi" data-type="NodeParagraph" class="p" id="20220924121416-gzvqbdi" updated="20220924121419"><div contenteditable="false" spellcheck="false">Example</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924121440-7hwfi2h" data-type="NodeParagraph" class="p" id="20220924121440-7hwfi2h" updated="20220924121441"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 499px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924121441-1f3jems.png" data-src="assets/image-20220924121441-1f3jems.png" alt="image" style="width: 489px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121416-we6fjdm" data-type="NodeList" class="list" id="20220924121416-we6fjdm" updated="20220924121430"><div data-marker="*" data-subtype="u" data-node-id="20220924121430-l28t5z0" data-type="NodeListItem" class="li" id="20220924121430-l28t5z0" updated="20220924121430"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121430-51wad3v" data-type="NodeParagraph" class="p" id="20220924121430-51wad3v" updated="20220924121430"><div contenteditable="false" spellcheck="false">Each batch contains one second of data (the batch interval)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121416-y0b8kqs" data-type="NodeList" class="list" id="20220924121416-y0b8kqs" updated="20220924121431"><div data-marker="*" data-subtype="u" data-node-id="20220924121431-iwc30zw" data-type="NodeListItem" class="li" id="20220924121431-iwc30zw" updated="20220924121431"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121431-qd208u9" data-type="NodeParagraph" class="p" id="20220924121431-qd208u9" updated="20220924121431"><div contenteditable="false" spellcheck="false">We set up a window interval of 3 seconds and a slide interval of 2 seconds</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924121717-shoeu8i" data-type="NodeListItem" class="li" id="20220924121717-shoeu8i"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121720-uljgjfe" data-type="NodeParagraph" class="p" id="20220924121720-uljgjfe" updated="20220924121720"><div contenteditable="false" spellcheck="false">Windowed transformations: code</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121720-ijrwbpu" data-type="NodeList" class="list" id="20220924121720-ijrwbpu" updated="20220924121727"><div data-marker="*" data-subtype="u" data-node-id="20220924121727-veel8ta" data-type="NodeListItem" class="li" id="20220924121727-veel8ta" updated="20220924121727"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121727-zmbfik2" data-type="NodeParagraph" class="p" id="20220924121727-zmbfik2" updated="20220924121736"><div contenteditable="false" spellcheck="false">The batch interval is set up with your <code>SparkContext</code>:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924121738-3zbcezy" data-type="NodeCodeBlock" class="code-block" id="20220924121738-3zbcezy" updated="20220924121917"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">ssc = StreamingContext(sc, batchDuration = 1)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924121720-c6so3b0" data-type="NodeList" class="list" id="20220924121720-c6so3b0" updated="20220924121720"><div data-marker="*" data-subtype="u" data-node-id="20220924121720-rrkwigt" data-type="NodeListItem" class="li" updated="20220924121720" id="20220924121720-rrkwigt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924121720-8zu4yo5" data-type="NodeParagraph" class="p" id="20220924121720-8zu4yo5" updated="20220924121811"><div contenteditable="false" spellcheck="false">You can use <code>reduceByWindow()</code> or <code>reduceByKeyAndWindow()</code> to aggregate data  
across a longer period of time!  
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924121812-jenpqbr" data-type="NodeCodeBlock" class="code-block" updated="20220924122040" id="20220924121812-jenpqbr"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">hashtagCounts = hashtagKeyValues.reduceByKeyAndWindow(
	func = lambda x, y: x + y, 
	invFunc = lambda x, y : x - y, 
	windowDuration = 300, 
	slideDuration = 1)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130018-nye7hzw" data-type="NodeListItem" class="li" id="20220924130018-nye7hzw" updated="20220924143708"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130018-an8utxd" data-type="NodeParagraph" class="p" id="20220924130018-an8utxd" updated="20220924130324"><div contenteditable="false" spellcheck="false"><strong>Structured Streaming</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130029-r65zo8z" data-type="NodeList" class="list" id="20220924130029-r65zo8z" updated="20220924143708"><div data-marker="*" data-subtype="u" data-node-id="20220924130033-0a8rsq1" data-type="NodeListItem" class="li" id="20220924130033-0a8rsq1" updated="20220924130033"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130034-fs3fq48" data-type="NodeParagraph" class="p" id="20220924130034-fs3fq48" updated="20220924130034"><div contenteditable="false" spellcheck="false">What is structured streaming?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130034-xf2u9qj" data-type="NodeList" class="list" id="20220924130034-xf2u9qj" updated="20220924130037"><div data-marker="*" data-subtype="u" data-node-id="20220924130037-pxxnw6a" data-type="NodeListItem" class="li" id="20220924130037-pxxnw6a" updated="20220924130037"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130037-fh31jbx" data-type="NodeParagraph" class="p" id="20220924130037-fh31jbx" updated="20220924130037"><div contenteditable="false" spellcheck="false">A new, higher-level API for streaming structured data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130042-uy1vxif" data-type="NodeList" class="list" id="20220924130042-uy1vxif"><div data-marker="*" data-subtype="u" data-node-id="20220924130042-zsjs32d" data-type="NodeListItem" class="li" id="20220924130042-zsjs32d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130042-r3tplap" data-type="NodeParagraph" class="p" id="20220924130042-r3tplap"><div contenteditable="false" spellcheck="false">Available in Spark 2.0 and 2.1 as an experimental release</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130046-asqm89z" data-type="NodeListItem" class="li" id="20220924130046-asqm89z"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130046-03tvpcc" data-type="NodeParagraph" class="p" id="20220924130046-03tvpcc"><div contenteditable="false" spellcheck="false">But it’s the future.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130034-0r6zmwh" data-type="NodeList" class="list" id="20220924130034-0r6zmwh" updated="20220924130034"><div data-marker="*" data-subtype="u" data-node-id="20220924130034-mjnrpg2" data-type="NodeListItem" class="li" id="20220924130034-mjnrpg2" updated="20220924130034"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130034-eqqms7d" data-type="NodeParagraph" class="p" id="20220924130034-eqqms7d" updated="20220924130034"><div contenteditable="false" spellcheck="false">Uses DataSets</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130034-j48io14" data-type="NodeList" class="list" updated="20220924130034" id="20220924130034-j48io14"><div data-marker="*" data-subtype="u" data-node-id="20220924130034-ko9yefu" data-type="NodeListItem" class="li" updated="20220924130034" id="20220924130034-ko9yefu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130034-ddbq2uz" data-type="NodeParagraph" class="p" id="20220924130034-ddbq2uz" updated="20220924130048"><div contenteditable="false" spellcheck="false">Like a DataFrame, but with more explicit type information</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130034-i6myg6z" data-type="NodeListItem" class="li" id="20220924130034-i6myg6z" updated="20220924130034"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130034-d7yis1f" data-type="NodeParagraph" class="p" id="20220924130034-d7yis1f" updated="20220924130050"><div contenteditable="false" spellcheck="false">A DataFrame is really a DataSet[Row]</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130107-m4w2aod" data-type="NodeListItem" class="li" id="20220924130107-m4w2aod"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130109-3lxbka6" data-type="NodeParagraph" class="p" id="20220924130109-3lxbka6" updated="20220924130115"><div contenteditable="false" spellcheck="false">Imagine <strong>a DataFrame that never ends</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924130233-9js6yhh" data-type="NodeParagraph" class="p" updated="20220924130234" id="20220924130233-9js6yhh"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 555px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924130234-x0rss3o.png" data-src="assets/image-20220924130234-x0rss3o.png" alt="image" style="width: 545px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130109-puqwqcs" data-type="NodeList" class="list" id="20220924130109-puqwqcs" updated="20220924130112"><div data-marker="*" data-subtype="u" data-node-id="20220924130112-s90gci8" data-type="NodeListItem" class="li" id="20220924130112-s90gci8" updated="20220924130112"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130112-1wm7wsu" data-type="NodeParagraph" class="p" id="20220924130112-1wm7wsu" updated="20220924130112"><div contenteditable="false" spellcheck="false">New data just keeps getting appended to it</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130109-2qglli9" data-type="NodeList" class="list" id="20220924130109-2qglli9" updated="20220924130109"><div data-marker="*" data-subtype="u" data-node-id="20220924130109-j83rbt3" data-type="NodeListItem" class="li" id="20220924130109-j83rbt3" updated="20220924130109"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130109-vkw34l8" data-type="NodeParagraph" class="p" id="20220924130109-vkw34l8" updated="20220924130109"><div contenteditable="false" spellcheck="false">Your continuous application keeps querying updated data as it comes in</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130250-pjm0ap1" data-type="NodeListItem" class="li" id="20220924130250-pjm0ap1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130251-xvpavjm" data-type="NodeParagraph" class="p" id="20220924130251-xvpavjm" updated="20220924130251"><div contenteditable="false" spellcheck="false">Advantages of Structured Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130251-yrypad2" data-type="NodeList" class="list" id="20220924130251-yrypad2" updated="20220924130254"><div data-marker="*" data-subtype="u" data-node-id="20220924130254-6ss5tcm" data-type="NodeListItem" class="li" id="20220924130254-6ss5tcm" updated="20220924130254"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130254-8ynoa42" data-type="NodeParagraph" class="p" updated="20220924130254" id="20220924130254-8ynoa42"><div contenteditable="false" spellcheck="false">Streaming code looks a lot like the equivalent non-streaming code</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130251-4xgn7f8" data-type="NodeList" class="list" id="20220924130251-4xgn7f8" updated="20220924130251"><div data-marker="*" data-subtype="u" data-node-id="20220924130251-6ul5xrx" data-type="NodeListItem" class="li" id="20220924130251-6ul5xrx" updated="20220924130251"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130251-pdm58co" data-type="NodeParagraph" class="p" id="20220924130251-pdm58co" updated="20220924130251"><div contenteditable="false" spellcheck="false">Structured data allows Spark to represent data more efficiently</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130251-u66kqyu" data-type="NodeListItem" class="li" id="20220924130251-u66kqyu" updated="20220924130251"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130251-pfi9rnf" data-type="NodeParagraph" class="p" updated="20220924130258" id="20220924130251-pfi9rnf"><div contenteditable="false" spellcheck="false">SQL-style queries allow for query optimization opportunities – and even better performance.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130251-53ftutg" data-type="NodeListItem" class="li" id="20220924130251-53ftutg" updated="20220924130251"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130251-gqg8jco" data-type="NodeParagraph" class="p" id="20220924130251-gqg8jco" updated="20220924130251"><div contenteditable="false" spellcheck="false">Interoperability with other Spark components based on DataSets</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130301-5e27ovb" data-type="NodeList" class="list" id="20220924130301-5e27ovb" updated="20220924130303"><div data-marker="*" data-subtype="u" data-node-id="20220924130303-xyjd6mv" data-type="NodeListItem" class="li" id="20220924130303-xyjd6mv" updated="20220924130303"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130303-vr8wii1" data-type="NodeParagraph" class="p" id="20220924130303-vr8wii1" updated="20220924130401"><div contenteditable="false" spellcheck="false"><code>MLLib</code> is also moving toward DataSets as its primary API.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130307-ikpn6i6" data-type="NodeListItem" class="li" id="20220924130307-ikpn6i6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130307-u48tg35" data-type="NodeParagraph" class="p" id="20220924130307-u48tg35"><div contenteditable="false" spellcheck="false">DataSets in general is the direction Spark is moving</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130432-kiqlh42" data-type="NodeListItem" class="li" id="20220924130432-kiqlh42"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130433-p0gt1g7" data-type="NodeParagraph" class="p" id="20220924130433-p0gt1g7" updated="20220924130438"><div contenteditable="false" spellcheck="false">Once you have a SparkSession, you can stream data, query it, and write out the results.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924130433-kycjs7s" data-type="NodeParagraph" class="p" id="20220924130433-kycjs7s" updated="20220924130446"><div contenteditable="false" spellcheck="false">2 lines of code to stream in structured JSON log data, count up “action” values for each hour, and write the results to a database.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924130517-dpz7v66" data-type="NodeCodeBlock" class="code-block" id="20220924130517-dpz7v66" updated="20220924130520"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">val inputDF = spark.readStream.json(&quot;s3://logs&quot;) 
inputDF.groupBy($&quot;action&quot;, window($&quot;time&quot;, &quot;1 hour&quot;)).count()
	.writeStream.format(&quot;jdbc&quot;).start(&quot;jdbc:mysql//...&quot;)
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130547-9wgd47n" data-type="NodeListItem" class="li" id="20220924130547-9wgd47n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130547-pz4p3kk" data-type="NodeParagraph" class="p" id="20220924130547-pz4p3kk" updated="20220924130701"><div contenteditable="false" spellcheck="false">Hands-on: Spark Streaming with Flume</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924130823-vpvrvbt" data-type="NodeParagraph" class="p" id="20220924130823-vpvrvbt" updated="20220924130824"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 950px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924130824-o2r63nk.png" data-src="assets/image-20220924130824-o2r63nk.png" alt="image" style="width: 940px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130702-bgo4ntx" data-type="NodeList" class="list" id="20220924130702-bgo4ntx" updated="20220924130745"><div data-marker="*" data-subtype="u" data-node-id="20220924130745-g1exxr7" data-type="NodeListItem" class="li" id="20220924130745-g1exxr7" updated="20220924130745"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130745-au2qnbz" data-type="NodeParagraph" class="p" id="20220924130745-au2qnbz" updated="20220924130745"><div contenteditable="false" spellcheck="false">We’ll set up Flume to use a spooldir source as before</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924131141-vcu67t8" data-type="NodeCodeBlock" class="code-block" id="20220924131141-vcu67t8" updated="20220924131517"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/sparkstreamingflume.conf
[maria_dev@sandbox-hdp ~]$ cat sparkstreamingflume.conf 
# sparkstreamingflume.conf: A single-node Flume configuration

# Name the components on this agent
a1.sources = r1
a1.sinks = k1
a1.channels = c1

# Describe/configure the source
a1.sources.r1.type = spooldir
a1.sources.r1.spoolDir = /home/maria_dev/spool
a1.sources.r1.fileHeader = true
a1.sources.r1.interceptors = timestampInterceptor
a1.sources.r1.interceptors.timestampInterceptor.type = timestamp

# Describe the sink

## here we changed the sink type to avro, so that communicate by localhost on 9092
a1.sinks.k1.type = avro
a1.sinks.k1.hostname = localhost
a1.sinks.k1.port = 9092

# Use a channel which buffers events in memory
a1.channels.c1.type = memory
a1.channels.c1.capacity = 1000
a1.channels.c1.transactionCapacity = 100

# Bind the source and sink to the channel
a1.sources.r1.channels = c1
a1.sinks.k1.channel = c1

[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/SparkFlume.py
[maria_dev@sandbox-hdp ~]$ cat SparkFlume.py 
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130702-ov5pkjw" data-type="NodeList" class="list" id="20220924130702-ov5pkjw" updated="20220924130702"><div data-marker="*" data-subtype="u" data-node-id="20220924130702-uq1zd0w" data-type="NodeListItem" class="li" id="20220924130702-uq1zd0w" updated="20220924130702"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130702-rg4yvl4" data-type="NodeParagraph" class="p" id="20220924130702-rg4yvl4" updated="20220924130702"><div contenteditable="false" spellcheck="false">But use an Avro sink to connect it to our Spark Streaming job!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130702-x1pc8e0" data-type="NodeList" class="list" updated="20220924130747" id="20220924130702-x1pc8e0"><div data-marker="*" data-subtype="u" data-node-id="20220924130747-0vuzh4e" data-type="NodeListItem" class="li" id="20220924130747-0vuzh4e" updated="20220924130747"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130747-n0zrdtb" data-type="NodeParagraph" class="p" id="20220924130747-n0zrdtb" updated="20220924130754"><div contenteditable="false" spellcheck="false">Use a window to aggregate how often each unique URL appears from our access log.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924131446-37n8uc1" data-type="NodeCodeBlock" class="code-block" id="20220924131446-37n8uc1" updated="20220924132104"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">import re

from pyspark import SparkContext
from pyspark.streaming import StreamingContext
from pyspark.streaming.flume import FlumeUtils

parts = [
    r'(?P&lt;host&gt;\S+)',                   # host %h
    r'\S+',                             # indent %l (unused)
    r'(?P&lt;user&gt;\S+)',                   # user %u
    r'\[(?P&lt;time&gt;.+)\]',                # time %t
    r'&quot;(?P&lt;request&gt;.+)&quot;',               # request &quot;%r&quot;
    r'(?P&lt;status&gt;[0-9]+)',              # status %&gt;s
    r'(?P&lt;size&gt;\S+)',                   # size %b (careful, can be '-')
    r'&quot;(?P&lt;referer&gt;.*)&quot;',               # referer &quot;%{Referer}i&quot;
    r'&quot;(?P&lt;agent&gt;.*)&quot;',                 # user agent &quot;%{User-agent}i&quot;
]
pattern = re.compile(r'\s+'.join(parts)+r'\s*\Z')

def extractURLRequest(line):
    exp = pattern.match(line)
    if exp:
        request = exp.groupdict()[&quot;request&quot;]
        if request:
           requestFields = request.split()
           if (len(requestFields) &gt; 1):
                return requestFields[1]


if __name__ == &quot;__main__&quot;:

    sc = SparkContext(appName=&quot;StreamingFlumeLogAggregator&quot;)
    sc.setLogLevel(&quot;ERROR&quot;)
    ssc = StreamingContext(sc, 1)

    # push model
    # push the log from Flume into Spark streaming
    # can also use pull mode, 
    # use a custom sync within Flume to actually establish a more bi-directional relationship
    # between Flume and Spark Streaming

    flumeStream = FlumeUtils.createStream(ssc, &quot;localhost&quot;, 9092)

    lines = flumeStream.map(lambda x: x[1])
    urls = lines.map(extractURLRequest)

    # Reduce by URL over a 5-minute window sliding every second
    urlCounts = urls.map(lambda x: (x, 1)).reduceByKeyAndWindow(
		lambda x, y: x + y, 
		lambda x, y : x - y, 
		300, 
		1)

    # Sort and print the results
    sortedResults = urlCounts.transform(
			lambda rdd: rdd.sortBy(
				lambda x: x[1], False)
			)
    sortedResults.pprint()

    ssc.checkpoint(&quot;/home/maria_dev/checkpoint&quot;)
    ssc.start()
    ssc.awaitTermination()
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924130751-bwh6jpa" data-type="NodeListItem" class="li" id="20220924130751-bwh6jpa"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130751-8tay9d0" data-type="NodeParagraph" class="p" id="20220924130751-8tay9d0"><div contenteditable="false" spellcheck="false">Using Avro in this manner is a “push” mechanism to Spark Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924130804-38kfosl" data-type="NodeList" class="list" id="20220924130804-38kfosl"><div data-marker="*" data-subtype="u" data-node-id="20220924130803-b3okjs8" data-type="NodeListItem" class="li" id="20220924130803-b3okjs8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924130803-8d6varc" data-type="NodeParagraph" class="p" id="20220924130803-8d6varc" updated="20220924130808"><div contenteditable="false" spellcheck="false">You can also “pull” data by using a custom sink for Spark Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924132603-g1esliu" data-type="NodeCodeBlock" class="code-block" updated="20220924134512" id="20220924132603-g1esliu"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ mkdir checkpoint
[maria_dev@sandbox-hdp ~]$ export SPARK_MAJOR_VERSION=2

[maria_dev@sandbox-hdp ~]$ spark-submit --packages org.apache.spark:spark-streaming-flume_2.11:2.3.0 SparkFlume.py


-------------------------------------------
Time: 2022-09-24 05:30:03
-------------------------------------------

-------------------------------------------
Time: 2022-09-24 05:30:04
-------------------------------------------

-------------------------------------------
Time: 2022-09-24 05:30:05

...


## Another terminal to play Flume

[maria_dev@sandbox-hdp flume-server]$ sudo bin/flume-ng agent --conf conf --conf-file ~/sparkstreamingflume.conf --name a1


## third terminal

[maria_dev@sandbox-hdp ~]$ wget http://media.sundog-soft.com/hadoop/access_log.txt
[maria_dev@sandbox-hdp ~]$ tail -n 5 access_log.txt 
46.166.139.20 - - [06/Dec/2015:03:14:56 +0000] &quot;POST /xmlrpc.php HTTP/1.0&quot; 200 370 &quot;-&quot; &quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;
46.166.139.20 - - [06/Dec/2015:03:14:57 +0000] &quot;POST /xmlrpc.php HTTP/1.0&quot; 200 370 &quot;-&quot; &quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;
46.166.139.20 - - [06/Dec/2015:03:14:58 +0000] &quot;POST /xmlrpc.php HTTP/1.0&quot; 200 370 &quot;-&quot; &quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;
46.166.139.20 - - [06/Dec/2015:03:14:58 +0000] &quot;POST /xmlrpc.php HTTP/1.0&quot; 200 370 &quot;-&quot; &quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;
46.166.139.20 - - [06/Dec/2015:03:14:59 +0000] &quot;POST /xmlrpc.php HTTP/1.0&quot; 200 370 &quot;-&quot; &quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;

[maria_dev@sandbox-hdp ~]$ cp access_log.txt spool/log22.txt

## spark terminal showing, by doing running aggregating
-------------------------------------------
Time: 2022-09-24 05:42:52
-------------------------------------------
(u'/wp-login.php', 195)
(u'/', 41)
(u'/blog/', 24)
(u'/page-sitemap.xml', 19)
(u'/category-sitemap.xml', 19)
(u'/sitemap_index.xml', 19)
(u'/post-sitemap.xml', 19)
(u'/national-headlines/', 12)
(u'/entertainment/', 12)
(u'/business/', 12)
...

-------------------------------------------
Time: 2022-09-24 05:42:53
-------------------------------------------
(u'/wp-login.php', 195)
(u'/', 41)
(u'/blog/', 24)
(u'/page-sitemap.xml', 19)
(u'/category-sitemap.xml', 19)
(u'/sitemap_index.xml', 19)
(u'/post-sitemap.xml', 19)
(u'/national-headlines/', 12)
(u'/entertainment/', 12)
(u'/business/', 12)
...

-------------------------------------------
Time: 2022-09-24 05:42:54
-------------------------------------------
(u'/xmlrpc.php', 2838)
(u'/wp-login.php', 1777)
(u'/', 77)
(u'/blog/', 35)
(u'/page-sitemap.xml', 29)
(u'/category-sitemap.xml', 29)
(u'/sitemap_index.xml', 29)
(u'/post-sitemap.xml', 29)
(u'/orlando-headlines/', 21)
(u'/national-headlines/', 18)
...

-------------------------------------------
Time: 2022-09-24 05:42:55
-------------------------------------------
(u'/xmlrpc.php', 32603)
(u'/wp-login.php', 1895)
(u'/', 336)
(u'/blog/', 100)
(u'/robots.txt', 94)
(u'/sitemap_index.xml', 87)
(u'/post-sitemap.xml', 87)
(u'/page-sitemap.xml', 86)
(u'/category-sitemap.xml', 86)
(u'/orlando-headlines/', 71)
...

-------------------------------------------
Time: 2022-09-24 05:42:56
-------------------------------------------
(u'/xmlrpc.php', 68415)
(u'/wp-login.php', 1923)
(u'/', 440)
(u'/blog/', 138)
(u'/robots.txt', 123)
(u'/sitemap_index.xml', 118)
(u'/post-sitemap.xml', 118)
(u'/page-sitemap.xml', 117)
(u'/category-sitemap.xml', 117)
(u'/orlando-headlines/', 95)
...

-------------------------------------------
Time: 2022-09-24 05:42:57
-------------------------------------------
(u'/xmlrpc.php', 68415)
(u'/wp-login.php', 1923)
(u'/', 440)
(u'/blog/', 138)
(u'/robots.txt', 123)
(u'/sitemap_index.xml', 118)
(u'/post-sitemap.xml', 118)
(u'/page-sitemap.xml', 117)
(u'/category-sitemap.xml', 117)
(u'/orlando-headlines/', 95)
...

-------------------------------------------
Time: 2022-09-24 05:42:58
-------------------------------------------
(u'/xmlrpc.php', 68415)
(u'/wp-login.php', 1923)
(u'/', 440)
(u'/blog/', 138)
(u'/robots.txt', 123)
(u'/sitemap_index.xml', 118)
(u'/post-sitemap.xml', 118)
(u'/page-sitemap.xml', 117)
(u'/category-sitemap.xml', 117)
(u'/orlando-headlines/', 95)
...

-------------------------------------------
Time: 2022-09-24 05:42:59
-------------------------------------------
(u'/xmlrpc.php', 68494)
(u'/wp-login.php', 1923)
(u'/', 440)
(u'/blog/', 138)
(u'/robots.txt', 123)
(u'/sitemap_index.xml', 118)
(u'/post-sitemap.xml', 118)
(u'/page-sitemap.xml', 117)
(u'/category-sitemap.xml', 117)
(u'/orlando-headlines/', 95)
...


## copy again so that the logs being processed twice so that the count doubles
[maria_dev@sandbox-hdp ~]$ cp access_log.txt spool/log23.txt

...
ultimately

-------------------------------------------
Time: 2022-09-24 05:44:32
-------------------------------------------
(u'/xmlrpc.php', 136988)
(u'/wp-login.php', 3846)
(u'/', 880)
(u'/blog/', 276)
(u'/robots.txt', 246)
(u'/sitemap_index.xml', 236)
(u'/post-sitemap.xml', 236)
(u'/page-sitemap.xml', 234)
(u'/category-sitemap.xml', 234)
(u'/orlando-headlines/', 190)
...

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924134627-wnbuqkb" data-type="NodeParagraph" class="p" id="20220924134627-wnbuqkb" updated="20220924134627"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924134627-btyiker.png" data-src="assets/image-20220924134627-btyiker.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924140915-9bcpdox" data-type="NodeListItem" class="li" id="20220924140915-9bcpdox" updated="20220924143708"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924140915-tcpuagd" data-type="NodeParagraph" class="p" id="20220924140915-tcpuagd" updated="20220924140935"><div contenteditable="false" spellcheck="false">Hand-on exercise: stats of how many times each HTTP status code is seen</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924141619-3m20y0t" data-type="NodeCodeBlock" class="code-block" id="20220924141619-3m20y0t" updated="20220924141649"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cp SparkFlume.py SparkFlumeExercise.py
[maria_dev@sandbox-hdp ~]$ vi SparkFlumeExercise.py 
[maria_dev@sandbox-hdp ~]$ cat SparkFlumeExercise.py
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924141638-gpbuazb" data-type="NodeCodeBlock" class="code-block" updated="20220924143442" id="20220924141638-gpbuazb"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">python</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">import re

from pyspark import SparkContext
from pyspark.streaming import StreamingContext
from pyspark.streaming.flume import FlumeUtils

parts = [
    r'(?P&lt;host&gt;\S+)',                   # host %h
    r'\S+',                             # indent %l (unused)
    r'(?P&lt;user&gt;\S+)',                   # user %u
    r'\[(?P&lt;time&gt;.+)\]',                # time %t
    r'&quot;(?P&lt;request&gt;.+)&quot;',               # request &quot;%r&quot;
    r'(?P&lt;status&gt;[0-9]+)',              # status %&gt;s
    r'(?P&lt;size&gt;\S+)',                   # size %b (careful, can be '-')
    r'&quot;(?P&lt;referer&gt;.*)&quot;',               # referer &quot;%{Referer}i&quot;
    r'&quot;(?P&lt;agent&gt;.*)&quot;',                 # user agent &quot;%{User-agent}i&quot;
]
pattern = re.compile(r'\s+'.join(parts)+r'\s*\Z')

def extractStatus(line):
    exp = pattern.match(line)
    if exp:
        status = exp.groupdict()[&quot;status&quot;]
        if status:
            return status


if __name__ == &quot;__main__&quot;:

    sc = SparkContext(appName=&quot;StreamingFlumeLogAggregator&quot;)
    sc.setLogLevel(&quot;ERROR&quot;)
    ssc = StreamingContext(sc, 1)

    flumeStream = FlumeUtils.createStream(ssc, &quot;localhost&quot;, 9092)

    lines = flumeStream.map(lambda x: x[1])
    statusCodes = lines.map(extractStatus)

    # Reduce by URL over a 5-minute window sliding every five seconds
    statusCounts = statusCodes.map(lambda x: (x, 1)).reduceByKeyAndWindow(lambda x, y: x + y, lambda x, y : x - y, 300, 5)

    # Sort and print the results
    sortedResults = statusCounts.transform(lambda rdd: rdd.sortBy(lambda x: x[1], False))
    sortedResults.pprint()

    ssc.checkpoint(&quot;/home/maria_dev/checkpoint&quot;)
    ssc.start()
    ssc.awaitTermination()</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924142355-gf3s61f" data-type="NodeCodeBlock" class="code-block" updated="20220924143708" id="20220924142355-gf3s61f"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">## spark terminal

[maria_dev@sandbox-hdp ~]$ spark-submit --packages org.apache.spark:spark-streaming-flume_2.11:2.3.0 SparkFlumeExercise.py

## showing in 5 sec interval
-------------------------------------------
Time: 2022-09-24 06:24:44
-------------------------------------------

-------------------------------------------
Time: 2022-09-24 06:24:49
-------------------------------------------

-------------------------------------------
Time: 2022-09-24 06:24:54
-------------------------------------------


## another terminal

[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/flume-server/
[maria_dev@sandbox-hdp flume-server]$ sudo bin/flume-ng agent --conf conf --conf-file ~/sparkstreamingflume.conf --name a1

## move file terminal
[maria_dev@sandbox-hdp ~]$ cp access_log.txt spool/log30.txt


## spark terminal
-------------------------------------------
Time: 2022-09-24 06:33:53
-------------------------------------------
(u'200', 64882)
(u'500', 10714)
(u'301', 271)
(u'304', 92)
(u'404', 26)
(None, 10)
(u'302', 2)
(u'400', 2)
(u'405', 1)

-------------------------------------------
Time: 2022-09-24 06:33:58
-------------------------------------------
(u'200', 64961)
(u'500', 10714)
(u'301', 271)
(u'304', 92)
(u'404', 26)
(None, 10)
(u'302', 2)
(u'400', 2)
(u'405', 1)

-------------------------------------------
Time: 2022-09-24 06:34:03
-------------------------------------------
(u'200', 64961)
(u'500', 10714)
(u'301', 271)
(u'304', 92)
(u'404', 26)
(None, 10)
(u'302', 2)
(u'400', 2)
(u'405', 1)

-------------------------------------------
Time: 2022-09-24 06:34:08
-------------------------------------------
(u'200', 64961)
(u'500', 10714)
(u'301', 271)
(u'304', 92)
(u'404', 26)
(None, 10)
(u'302', 2)
(u'400', 2)
(u'405', 1)



## move file terminal
[maria_dev@sandbox-hdp ~]$ cp access_log.txt spool/log32.txt
....
-------------------------------------------
Time: 2022-09-24 06:36:54
-------------------------------------------
(u'200', 129922)
(u'500', 21428)
(u'301', 542)
(u'304', 184)
(u'404', 52)
(None, 20)
(u'302', 4)
(u'400', 4)
(u'405', 2)

</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924143743-frmyhb0" data-type="NodeList" class="list" id="20220924143743-frmyhb0" updated="20220925090434"><div data-marker="*" data-subtype="u" data-node-id="20220924143744-8te22jj" data-type="NodeListItem" class="li" id="20220924143744-8te22jj" updated="20220925090434"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924143744-bsirztk" data-type="NodeParagraph" class="p" id="20220924143744-bsirztk" updated="20220924144223"><div contenteditable="false" spellcheck="false">Apache Storm<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://storm.apache.org/images/logo.png" data-src="https://storm.apache.org/images/logo.png" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924144207-nj465t0" data-type="NodeList" class="list" id="20220924144207-nj465t0" updated="20220925090434"><div data-marker="*" data-subtype="u" data-node-id="20220924144210-6q2lvg1" data-type="NodeListItem" class="li" id="20220924144210-6q2lvg1" updated="20220924144210"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924144210-8k2jvxk" data-type="NodeParagraph" class="p" id="20220924144210-8k2jvxk" updated="20220924144210"><div contenteditable="false" spellcheck="false">What is Storm?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924144801-0p5du3l" data-type="NodeList" class="list" id="20220924144801-0p5du3l"><div data-marker="*" data-subtype="u" data-node-id="20220924144745-1jpeisw" data-type="NodeListItem" class="li" id="20220924144745-1jpeisw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924144745-5h1mi3x" data-type="NodeParagraph" class="p" id="20220924144745-5h1mi3x"><div contenteditable="false" spellcheck="false">Another framework for processing continuous streams of data on a cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924144800-bkcy3wq" data-type="NodeList" class="list" id="20220924144800-bkcy3wq"><div data-marker="*" data-subtype="u" data-node-id="20220924144759-ws1b5sz" data-type="NodeListItem" class="li" id="20220924144759-ws1b5sz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924144759-a3rix7z" data-type="NodeParagraph" class="p" id="20220924144759-a3rix7z"><div contenteditable="false" spellcheck="false">Can run on top of YARN (like Spark)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924144805-h46cxrc" data-type="NodeListItem" class="li" id="20220924144805-h46cxrc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924144805-mraz2k8" data-type="NodeParagraph" class="p" id="20220924144805-mraz2k8" updated="20220924161119"><div contenteditable="false" spellcheck="false">Works on individual events (real real-time), not micro-batches (like Spark Streaming does)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924144809-12qh8vc" data-type="NodeList" class="list" id="20220924144809-12qh8vc"><div data-marker="*" data-subtype="u" data-node-id="20220924144809-60xg0ey" data-type="NodeListItem" class="li" id="20220924144809-60xg0ey"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924144809-2e0xmnp" data-type="NodeParagraph" class="p" id="20220924144809-2e0xmnp"><div contenteditable="false" spellcheck="false">If you need sub-second latency, Storm is for you</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161056-6jx4va1" data-type="NodeListItem" class="li" id="20220924161056-6jx4va1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161059-o8hv06u" data-type="NodeParagraph" class="p" updated="20220924161059" id="20220924161059-o8hv06u"><div contenteditable="false" spellcheck="false">Storm terminology</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924161155-u3o008j" data-type="NodeParagraph" class="p" id="20220924161155-u3o008j" updated="20220924161156"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 522px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924161156-nwjk9kt.png" data-src="assets/image-20220924161156-nwjk9kt.png" alt="image" style="width: 512px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161059-5c8led2" data-type="NodeList" class="list" id="20220924161059-5c8led2" updated="20220924161105"><div data-marker="*" data-subtype="u" data-node-id="20220924161105-rugm441" data-type="NodeListItem" class="li" id="20220924161105-rugm441" updated="20220924161105"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161105-6eeaosa" data-type="NodeParagraph" class="p" id="20220924161105-6eeaosa" updated="20220924161105"><div contenteditable="false" spellcheck="false">A stream consists of tuples that flow through...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161059-snynm65" data-type="NodeList" class="list" id="20220924161059-snynm65" updated="20220924161059"><div data-marker="*" data-subtype="u" data-node-id="20220924161059-u4emd13" data-type="NodeListItem" class="li" id="20220924161059-u4emd13" updated="20220924161059"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161059-w7a9p7w" data-type="NodeParagraph" class="p" id="20220924161059-w7a9p7w" updated="20220924161400"><div contenteditable="false" spellcheck="false"><code>Spouts</code> that are sources of stream data (Kafka, Twitter, etc.)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161059-e9vqfig" data-type="NodeListItem" class="li" id="20220924161059-e9vqfig" updated="20220924161059"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161059-vtrhpo3" data-type="NodeParagraph" class="p" id="20220924161059-vtrhpo3" updated="20220924161403"><div contenteditable="false" spellcheck="false"><code>Bolts</code> that process stream data as it’s received</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161126-1hd8f4o" data-type="NodeList" class="list" id="20220924161126-1hd8f4o" updated="20220924161129"><div data-marker="*" data-subtype="u" data-node-id="20220924161129-w4a0yx1" data-type="NodeListItem" class="li" id="20220924161129-w4a0yx1" updated="20220924161129"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161129-v0p6x40" data-type="NodeParagraph" class="p" id="20220924161129-v0p6x40" updated="20220924161419"><div contenteditable="false" spellcheck="false"><em>Transform, aggregate, write to databases / HDFS</em></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161132-ecvd912" data-type="NodeListItem" class="li" id="20220924161132-ecvd912" updated="20220924161132"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161132-7lu5s33" data-type="NodeParagraph" class="p" id="20220924161132-7lu5s33" updated="20220924161407"><div contenteditable="false" spellcheck="false">A <code>topology</code> is a graph of spouts and bolts that process your stream</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161452-bnazxj6" data-type="NodeListItem" class="li" id="20220924161452-bnazxj6"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161452-f3y36ck" data-type="NodeParagraph" class="p" id="20220924161452-f3y36ck" updated="20220924161505"><div contenteditable="false" spellcheck="false">Storm architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924161453-sj42ot3" data-type="NodeParagraph" class="p" updated="20220924161454" id="20220924161453-sj42ot3"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 538px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924161454-632cfv3.png" data-src="assets/image-20220924161454-632cfv3.png" alt="image" style="width: 528px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161605-et2ud07" data-type="NodeListItem" class="li" id="20220924161605-et2ud07"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161611-pu2zezb" data-type="NodeParagraph" class="p" id="20220924161611-pu2zezb" updated="20220924161611"><div contenteditable="false" spellcheck="false">Developing Storm applications</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161605-7mx1bg8" data-type="NodeList" class="list" id="20220924161605-7mx1bg8" updated="20220924161611"><div data-marker="*" data-subtype="u" data-node-id="20220924161611-pqfxezo" data-type="NodeListItem" class="li" updated="20220924161611" id="20220924161611-pqfxezo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161611-hvvwbbq" data-type="NodeParagraph" class="p" id="20220924161611-hvvwbbq" updated="20220924161611"><div contenteditable="false" spellcheck="false">Usually done with Java </div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161618-pj4r7nk" data-type="NodeList" class="list" id="20220924161618-pj4r7nk"><div data-marker="*" data-subtype="u" data-node-id="20220924161618-51mvr59" data-type="NodeListItem" class="li" id="20220924161618-51mvr59"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161618-rej30xd" data-type="NodeParagraph" class="p" id="20220924161618-rej30xd"><div contenteditable="false" spellcheck="false">Although bolts may be directed through scripts in other languages</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161606-0ty78cq" data-type="NodeList" class="list" updated="20220924161625" id="20220924161606-0ty78cq"><div data-marker="*" data-subtype="u" data-node-id="20220924161625-tf4l5ch" data-type="NodeListItem" class="li" id="20220924161625-tf4l5ch" updated="20220924161625"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161625-meqbotx" data-type="NodeParagraph" class="p" id="20220924161625-meqbotx" updated="20220924161625"><div contenteditable="false" spellcheck="false">Storm Core</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161629-cxkax0f" data-type="NodeList" class="list" id="20220924161629-cxkax0f"><div data-marker="*" data-subtype="u" data-node-id="20220924161629-r4sxqvw" data-type="NodeListItem" class="li" id="20220924161629-r4sxqvw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161629-iy1ux2i" data-type="NodeParagraph" class="p" id="20220924161629-iy1ux2i"><div contenteditable="false" spellcheck="false">The lower-level API for Storm</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161633-ki79q62" data-type="NodeListItem" class="li" id="20220924161633-ki79q62"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161633-h4md5sb" data-type="NodeParagraph" class="p" updated="20220924161639" id="20220924161633-h4md5sb"><div contenteditable="false" spellcheck="false">“At-least-once” semantics</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161639-td4v5yu" data-type="NodeListItem" class="li" id="20220924161639-td4v5yu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161639-rpsbde9" data-type="NodeParagraph" class="p" id="20220924161639-rpsbde9"><div contenteditable="false" spellcheck="false">Trident</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161651-cz3492j" data-type="NodeList" class="list" id="20220924161651-cz3492j"><div data-marker="*" data-subtype="u" data-node-id="20220924161650-fpws65a" data-type="NodeListItem" class="li" id="20220924161650-fpws65a"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161650-md04i8i" data-type="NodeParagraph" class="p" id="20220924161650-md04i8i" updated="20220924161651"><div contenteditable="false" spellcheck="false">Higher-level API for Storm</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161657-e5yyp8m" data-type="NodeListItem" class="li" id="20220924161657-e5yyp8m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161657-ib20kjf" data-type="NodeParagraph" class="p" id="20220924161657-ib20kjf"><div contenteditable="false" spellcheck="false">“Exactly once” semantics</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161606-sqpss0m" data-type="NodeList" class="list" id="20220924161606-sqpss0m" updated="20220924161701"><div data-marker="*" data-subtype="u" data-node-id="20220924161701-qxv2590" data-type="NodeListItem" class="li" id="20220924161701-qxv2590" updated="20220924161701"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161701-wg1rc1i" data-type="NodeParagraph" class="p" id="20220924161701-wg1rc1i" updated="20220924161703"><div contenteditable="false" spellcheck="false">Storm runs your applications “forever” once submitted – until you explicitly stop them</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161848-2xol2vm" data-type="NodeListItem" class="li" id="20220924161848-2xol2vm"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161849-k39w9aq" data-type="NodeParagraph" class="p" id="20220924161849-k39w9aq" updated="20220924161849"><div contenteditable="false" spellcheck="false">Storm vs. Spark Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161849-dy8moc5" data-type="NodeList" class="list" id="20220924161849-dy8moc5" updated="20220924161852"><div data-marker="*" data-subtype="u" data-node-id="20220924161852-vdcburi" data-type="NodeListItem" class="li" id="20220924161852-vdcburi" updated="20220924161852"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161852-kz9ofir" data-type="NodeParagraph" class="p" id="20220924161852-kz9ofir" updated="20220924161852"><div contenteditable="false" spellcheck="false">There’s something to be said for having the rest of Spark at your disposal</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924161849-iwcif9v" data-type="NodeList" class="list" id="20220924161849-iwcif9v" updated="20220924161849"><div data-marker="*" data-subtype="u" data-node-id="20220924161849-5fdvumd" data-type="NodeListItem" class="li" id="20220924161849-5fdvumd" updated="20220924161849"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161849-6lsvbe3" data-type="NodeParagraph" class="p" id="20220924161849-6lsvbe3" updated="20220924161854"><div contenteditable="false" spellcheck="false">But if you need truly real-time processing (sub-second) of events as they come in, Storm’s your choice</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161849-n767g96" data-type="NodeListItem" class="li" id="20220924161849-n767g96" updated="20220924161849"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161849-14coobf" data-type="NodeParagraph" class="p" id="20220924161849-14coobf" updated="20220924162240"><div contenteditable="false" spellcheck="false">Core Storm offers “tumbling windows” (so no overlap) in addition to “sliding windows”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924161849-bauo86s" data-type="NodeListItem" class="li" updated="20220924161849" id="20220924161849-bauo86s"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924161849-tw57buz" data-type="NodeParagraph" class="p" id="20220924161849-tw57buz" updated="20220924161849"><div contenteditable="false" spellcheck="false">Kafka + Storm seems to be a pretty popular combination</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924162344-qzurc7k" data-type="NodeListItem" class="li" id="20220924162344-qzurc7k" updated="20220925090434"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924162344-dfllc4i" data-type="NodeParagraph" class="p" id="20220924162344-dfllc4i" updated="20220924162351"><div contenteditable="false" spellcheck="false">Hands-on: run the WordCount topology example and examine it.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924162402-wgbeabx" data-type="NodeParagraph" class="p" id="20220924162402-wgbeabx" updated="20220924162403"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 722px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924162403-6jts6ba.png" data-src="assets/image-20220924162403-6jts6ba.png" alt="image" style="width: 712px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924162747-i896gku" data-type="NodeCodeBlock" class="code-block" id="20220924162747-i896gku" updated="20220924162822"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/storm-client/
[maria_dev@sandbox-hdp storm-client]$ ls
CHANGELOG.md     RELEASE  conf     doc       extlib         lib     logs  pids    toollib
README.markdown  bin      contrib  external  extlib-daemon  log4j2  man   public
[maria_dev@sandbox-hdp storm-client]$ cd contrib/storm-starter/src/jvm/org/apache/storm/
[maria_dev@sandbox-hdp storm]$ ls
starter
[maria_dev@sandbox-hdp storm]$ cd starter/
[maria_dev@sandbox-hdp starter]$ ls
BasicDRPCTopology.java              ResourceAwareExampleTopology.java  WordCountTopology.java
BlobStoreAPIWordCountTopology.java  RollingTopWords.java               WordCountTopologyNode.java
ExclamationTopology.java            SingleJoinExample.java             bolt
FastWordCountTopology.java          SkewedRollingTopWords.java         spout
InOrderDeliveryTest.java            SlidingTupleTsTopology.java        tools
JoinBoltExample.java                SlidingWindowTopology.java         trident
ManualDRPC.java                     ThroughputVsLatency.java           util
MultipleLoggerTopology.java         TransactionalGlobalCount.java
ReachTopology.java                  TransactionalWords.java
[maria_dev@sandbox-hdp starter]$ cat WordCountTopology.java 
</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924162827-lszym7n" data-type="NodeCodeBlock" class="code-block" id="20220924162827-lszym7n" updated="20220924162830"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">java</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.apache.storm.starter;

import org.apache.storm.Config;
import org.apache.storm.LocalCluster;
import org.apache.storm.StormSubmitter;
import org.apache.storm.task.ShellBolt;
import org.apache.storm.topology.BasicOutputCollector;
import org.apache.storm.topology.IRichBolt;
import org.apache.storm.topology.OutputFieldsDeclarer;
import org.apache.storm.topology.TopologyBuilder;
import org.apache.storm.topology.base.BaseBasicBolt;
import org.apache.storm.tuple.Fields;
import org.apache.storm.tuple.Tuple;
import org.apache.storm.tuple.Values;
import org.apache.storm.starter.spout.RandomSentenceSpout;

import java.util.HashMap;
import java.util.Map;

/**
 * This topology demonstrates Storm's stream groupings and multilang capabilities.
 */
public class WordCountTopology {
  public static class SplitSentence extends ShellBolt implements IRichBolt {

    public SplitSentence() {
      super(&quot;python&quot;, &quot;splitsentence.py&quot;);
    }

    @Override
    public void declareOutputFields(OutputFieldsDeclarer declarer) {
      declarer.declare(new Fields(&quot;word&quot;));
    }

    @Override
    public Map&lt;String, Object&gt; getComponentConfiguration() {
      return null;
    }
  }

  public static class WordCount extends BaseBasicBolt {
    Map&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();

    @Override
    public void execute(Tuple tuple, BasicOutputCollector collector) {
      String word = tuple.getString(0);
      Integer count = counts.get(word);
      if (count == null)
        count = 0;
      count++;
      counts.put(word, count);
      collector.emit(new Values(word, count));
    }

    @Override
    public void declareOutputFields(OutputFieldsDeclarer declarer) {
      declarer.declare(new Fields(&quot;word&quot;, &quot;count&quot;));
    }
  }

  public static void main(String[] args) throws Exception {

    TopologyBuilder builder = new TopologyBuilder();

    builder.setSpout(&quot;spout&quot;, new RandomSentenceSpout(), 5);

    builder.setBolt(&quot;split&quot;, new SplitSentence(), 8).shuffleGrouping(&quot;spout&quot;);
    builder.setBolt(&quot;count&quot;, new WordCount(), 12).fieldsGrouping(&quot;split&quot;, new Fields(&quot;word&quot;));

    Config conf = new Config();
    conf.setDebug(true);

    if (args != null &amp;&amp; args.length &gt; 0) {
      conf.setNumWorkers(3);

      StormSubmitter.submitTopologyWithProgressBar(args[0], conf, builder.createTopology());
    }
    else {
      conf.setMaxTaskParallelism(3);

      LocalCluster cluster = new LocalCluster();
      cluster.submitTopology(&quot;word-count&quot;, conf, builder.createTopology());

      Thread.sleep(10000);

      cluster.shutdown();
    }
  }
}

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924163712-b8nl3m7" data-type="NodeCodeBlock" class="code-block" id="20220924163712-b8nl3m7" updated="20220924164036"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp starter]$ storm jar /usr/hdp/current/storm-client/contrib/storm-starter/storm-starter-topologies-1.1.0.2.6.5.0-292.jar org.apache.storm.starter.WordCountTopology wordcount
Exception in thread &quot;main&quot; org.apache.storm.hooks.SubmitterHookException: java.lang.ClassNotFoundException: org.apache.atlas.storm.hook.StormAtlasHook


## go to Ambari storm console, under Advanced storm-env, tick Enable Atlas Hook
[maria_dev@sandbox-hdp starter]$ storm jar /usr/hdp/current/storm-client/contrib/storm-starter/storm-starter-topologies-1.1.0.2.6.5.0-292.jar org.apache.storm.starter.WordCountTopology wordcount

</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220925075936-ck0p8hf" data-type="NodeList" class="list" id="20220925075936-ck0p8hf" updated="20220925083833"><div data-marker="*" data-subtype="u" data-node-id="20220925080009-omp7a8w" data-type="NodeListItem" class="li" id="20220925080009-omp7a8w"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925080009-dx4xmsc" data-type="NodeParagraph" class="p" id="20220925080009-dx4xmsc" updated="20220925080022"><div contenteditable="false" spellcheck="false">Go storm UI at <code>http://localhost:8744/index.html</code></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925075938-lfi1bqu" data-type="NodeListItem" class="li" id="20220925075938-lfi1bqu" updated="20220925083833"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925075938-8sxm0zu" data-type="NodeParagraph" class="p" updated="20220925080005" id="20220925075938-8sxm0zu"><div contenteditable="false" spellcheck="false">Still spinning up the topology (in topology summary, no workers yet)</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924164408-nournim" data-type="NodeParagraph" class="p" id="20220924164408-nournim" updated="20220925083833"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925075933-dqcfe9l.png" data-src="assets/image-20220925075933-dqcfe9l.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220925083045-cr5ebu5" data-type="NodeList" class="list" updated="20220925090434" id="20220925083045-cr5ebu5"><div data-marker="*" data-subtype="u" data-node-id="20220925083043-zyssa48" data-type="NodeListItem" class="li" id="20220925083043-zyssa48"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925083043-212nitf" data-type="NodeParagraph" class="p" id="20220925083043-212nitf" updated="20220925083050"><div contenteditable="false" spellcheck="false">spun up</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925083050-8dr0c99" data-type="NodeParagraph" class="p" id="20220925083050-8dr0c99" updated="20220925083052"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925083052-ev5fn12.png" data-src="assets/image-20220925083052-ev5fn12.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925083213-04higfw" data-type="NodeListItem" class="li" id="20220925083213-04higfw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925083213-zsi146x" data-type="NodeParagraph" class="p" id="20220925083213-zsi146x" updated="20220925083217"><div contenteditable="false" spellcheck="false">Details</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925083217-69l4x3g" data-type="NodeParagraph" class="p" updated="20220925083218" id="20220925083217-69l4x3g"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925083218-ro8obh9.png" data-src="assets/image-20220925083218-ro8obh9.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925083257-7xo4ust" data-type="NodeListItem" class="li" id="20220925083257-7xo4ust"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925083257-antx5ng" data-type="NodeParagraph" class="p" id="20220925083257-antx5ng" updated="20220925083301"><div contenteditable="false" spellcheck="false">Topology</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925083301-j6naz90" data-type="NodeParagraph" class="p" id="20220925083301-j6naz90" updated="20220925083302"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925083302-7itzyfa.png" data-src="assets/image-20220925083302-7itzyfa.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925083418-q2b30x5" data-type="NodeListItem" class="li" id="20220925083418-q2b30x5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925083418-frx3zvq" data-type="NodeParagraph" class="p" id="20220925083418-frx3zvq" updated="20220925083423"><div contenteditable="false" spellcheck="false">Bolt Executors</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925083424-m9wsihu" data-type="NodeParagraph" class="p" id="20220925083424-m9wsihu" updated="20220925083424"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925083424-7f2hxwi.png" data-src="assets/image-20220925083424-7f2hxwi.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925083842-xxakg8z" data-type="NodeListItem" class="li" id="20220925083842-xxakg8z" updated="20220925090434"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925083842-dn01hw7" data-type="NodeParagraph" class="p" id="20220925083842-dn01hw7" updated="20220925083845"><div contenteditable="false" spellcheck="false">logs check</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925083846-3e6su6p" data-type="NodeCodeBlock" class="code-block" id="20220925083846-3e6su6p" updated="20220925090434"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ cd /usr/hdp/current/storm-client/logs
[maria_dev@sandbox-hdp logs]$ cd workers-artifacts/
[maria_dev@sandbox-hdp workers-artifacts]$ ls
wordcount-1-1664008685  wordcount-1-1664009132  wordcount-1-1664063884
[maria_dev@sandbox-hdp workers-artifacts]$ cd wordcount-1-1664008685/
[maria_dev@sandbox-hdp wordcount-1-1664008685]$ ls
6700  6701
[maria_dev@sandbox-hdp wordcount-1-1664008685]$ cd 6700
[maria_dev@sandbox-hdp 6700]$ ls
worker.log  worker.log.err  worker.log.metrics  worker.log.out  worker.pid  worker.yaml
[maria_dev@sandbox-hdp 6700]$ vi worker.log

...
2022-09-24 08:40:00.844 o.a.s.d.executor [INFO] BOLT ack TASK: 23 TIME:  TUPLE: source: spout:27, stream: default, id: {}, [the cow jumped over the moon]
2022-09-24 08:40:00.845 o.a.s.d.task [INFO] Emitting: split default [&quot;i&quot;]
2022-09-24 08:40:00.845 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 9 tuple: source: split:23, stream: default, id: {}, [&quot;i&quot;]]
2022-09-24 08:40:00.847 o.a.s.d.executor [INFO] Processing received message FOR 13 TUPLE: source: split:21, stream: default, id: {}, [&quot;a&quot;]
2022-09-24 08:40:00.847 o.a.s.d.task [INFO] Emitting: count default [a, 2]
2022-09-24 08:40:00.848 o.a.s.d.executor [INFO] BOLT ack TASK: 13 TIME:  TUPLE: source: split:21, stream: default, id: {}, [&quot;a&quot;]
2022-09-24 08:40:00.848 o.a.s.d.executor [INFO] Execute done TUPLE source: split:21, stream: default, id: {}, [&quot;a&quot;] TASK: 13 DELTA: 
2022-09-24 08:40:00.842 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;the&quot;] TASK: 9 DELTA: 
2022-09-24 08:40:00.853 o.a.s.d.executor [INFO] Processing received message FOR 9 TUPLE: source: split:23, stream: default, id: {}, [&quot;moon&quot;]
2022-09-24 08:40:00.853 o.a.s.d.task [INFO] Emitting: count default [moon, 1]
2022-09-24 08:40:00.854 o.a.s.d.executor [INFO] BOLT ack TASK: 9 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;moon&quot;]
2022-09-24 08:40:00.854 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;moon&quot;] TASK: 9 DELTA: 
2022-09-24 08:40:00.855 o.a.s.d.task [INFO] Emitting: split default [&quot;am&quot;]
2022-09-24 08:40:00.855 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 8 tuple: source: split:23, stream: default, id: {}, [&quot;am&quot;]]
2022-09-24 08:40:00.856 o.a.s.d.task [INFO] Emitting: split default [&quot;at&quot;]
2022-09-24 08:40:00.856 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 15 tuple: source: split:23, stream: default, id: {}, [&quot;at&quot;]]
2022-09-24 08:40:00.857 o.a.s.d.task [INFO] Emitting: split default [&quot;two&quot;]
2022-09-24 08:40:00.857 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 16 tuple: source: split:23, stream: default, id: {}, [&quot;two&quot;]]
2022-09-24 08:40:00.857 o.a.s.d.task [INFO] Emitting: split default [&quot;with&quot;]
2022-09-24 08:40:00.857 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 6 tuple: source: split:23, stream: default, id: {}, [&quot;with&quot;]]
2022-09-24 08:40:00.858 o.a.s.d.task [INFO] Emitting: split default [&quot;nature&quot;]
2022-09-24 08:40:00.858 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 15 tuple: source: split:23, stream: default, id: {}, [&quot;nature&quot;]]
2022-09-24 08:40:00.858 o.a.s.d.executor [INFO] BOLT ack TASK: 23 TIME:  TUPLE: source: spout:27, stream: default, id: {}, [i am at two with nature]
2022-09-24 08:40:00.864 o.a.s.d.task [INFO] Emitting: split default [&quot;the&quot;]
2022-09-24 08:40:00.864 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 9 tuple: source: split:21, stream: default, id: {}, [&quot;the&quot;]]
2022-09-24 08:40:00.864 o.a.s.d.executor [INFO] Processing received message FOR 9 TUPLE: source: split:23, stream: default, id: {}, [&quot;i&quot;]
2022-09-24 08:40:00.864 o.a.s.d.task [INFO] Emitting: count default [i, 4]
2022-09-24 08:40:00.864 o.a.s.d.executor [INFO] BOLT ack TASK: 9 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;i&quot;]
2022-09-24 08:40:00.865 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;i&quot;] TASK: 9 DELTA: 
2022-09-24 08:40:00.867 o.a.s.d.task [INFO] Emitting: split default [&quot;doctor&quot;]
2022-09-24 08:40:00.867 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 11 tuple: source: split:21, stream: default, id: {}, [&quot;doctor&quot;]]
2022-09-24 08:40:00.869 o.a.s.d.task [INFO] Emitting: split default [&quot;away&quot;]
2022-09-24 08:40:00.869 o.a.s.d.executor [INFO] TRANSFERING tuple [dest: 14 tuple: source: split:21, stream: default, id: {}, [&quot;away&quot;]]
2022-09-24 08:40:00.870 o.a.s.d.executor [INFO] BOLT ack TASK: 21 TIME:  TUPLE: source: spout:29, stream: default, id: {}, [an apple a day keeps the doctor away]
2022-09-24 08:40:00.874 o.a.s.d.executor [INFO] Processing received message FOR 15 TUPLE: source: split:23, stream: default, id: {}, [&quot;at&quot;]
2022-09-24 08:40:00.874 o.a.s.d.executor [INFO] Processing received message FOR 9 TUPLE: source: split:21, stream: default, id: {}, [&quot;the&quot;]
2022-09-24 08:40:00.874 o.a.s.d.task [INFO] Emitting: count default [at, 3]
2022-09-24 08:40:00.874 o.a.s.d.executor [INFO] BOLT ack TASK: 15 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;at&quot;]
2022-09-24 08:40:00.875 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;at&quot;] TASK: 15 DELTA: 
2022-09-24 08:40:00.875 o.a.s.d.executor [INFO] Processing received message FOR 15 TUPLE: source: split:23, stream: default, id: {}, [&quot;nature&quot;]
2022-09-24 08:40:00.875 o.a.s.d.task [INFO] Emitting: count default [the, 4]
2022-09-24 08:40:00.875 o.a.s.d.task [INFO] Emitting: count default [nature, 3]



..


2022-09-24 08:44:41.015 o.a.s.d.executor [INFO] BOLT ack TASK: 5 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;jumped&quot;]
2022-09-24 08:44:41.015 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;jumped&quot;] TASK: 5 DELTA: 
2022-09-24 08:44:41.015 o.a.s.d.executor [INFO] Processing received message FOR 9 TUPLE: source: split:23, stream: default, id: {}, [&quot;the&quot;]
2022-09-24 08:44:41.016 o.a.s.d.task [INFO] Emitting: count default [the, 3372]
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] BOLT ack TASK: 9 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;the&quot;]
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;the&quot;] TASK: 9 DELTA: 
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] Processing received message FOR 9 TUPLE: source: split:23, stream: default, id: {}, [&quot;moon&quot;]
2022-09-24 08:44:41.016 o.a.s.d.task [INFO] Emitting: count default [moon, 830]
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] BOLT ack TASK: 9 TIME:  TUPLE: source: split:23, stream: default, id: {}, [&quot;moon&quot;]
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] Execute done TUPLE source: split:23, stream: default, id: {}, [&quot;moon&quot;] TASK: 9 DELTA: 
2022-09-24 08:44:41.016 o.a.s.d.executor [INFO] Processing received message FOR 5 TUPLE: source: split:21, stream: default, id: {}, [&quot;ago&quot;]
2022-09-24 08:44:41.016 o.a.s.d.task [INFO] Emitting: count default [ago, 857]
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204251-xg6l86n" data-type="NodeList" class="list" id="20220924204251-xg6l86n" updated="20220925101151"><div data-marker="*" data-subtype="u" data-node-id="20220924204253-wx71zpq" data-type="NodeListItem" class="li" id="20220924204253-wx71zpq" updated="20220925101151"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204253-5woay5y" data-type="NodeParagraph" class="p" id="20220924204253-5woay5y" updated="20220924204313"><div contenteditable="false" spellcheck="false">Apache Flink<span contenteditable="false" data-type="img" class="img" style="max-width: 224px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://flink.apache.org/img/flink-header-logo.svg" data-src="https://flink.apache.org/img/flink-header-logo.svg" alt="Apache Flink" style="width: 214px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924204743-4496u84" data-type="NodeParagraph" class="p" updated="20220925092003" id="20220924204743-4496u84"><div contenteditable="false" spellcheck="false">​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204328-xkq3qg9" data-type="NodeList" class="list" id="20220924204328-xkq3qg9" updated="20220925101151"><div data-marker="*" data-subtype="u" data-node-id="20220924204334-3hx3pqc" data-type="NodeListItem" class="li" id="20220924204334-3hx3pqc" updated="20220924204334"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-nqc6xi4" data-type="NodeParagraph" class="p" updated="20220924204335" id="20220924204335-nqc6xi4"><div contenteditable="false" spellcheck="false">What is Flink?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204335-7hxb1fd" data-type="NodeList" class="list" updated="20220924204339" id="20220924204335-7hxb1fd"><div data-marker="*" data-subtype="u" data-node-id="20220924204339-4vmaoz4" data-type="NodeListItem" class="li" id="20220924204339-4vmaoz4" updated="20220924204339"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204339-ppmcgha" data-type="NodeParagraph" class="p" id="20220924204339-ppmcgha" updated="20220924204339"><div contenteditable="false" spellcheck="false">German for quick and nimble</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204335-8ulai3i" data-type="NodeList" class="list" id="20220924204335-8ulai3i" updated="20220924204335"><div data-marker="*" data-subtype="u" data-node-id="20220924204335-wtv6u4y" data-type="NodeListItem" class="li" id="20220924204335-wtv6u4y" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-qb5yxp9" data-type="NodeParagraph" class="p" id="20220924204335-qb5yxp9" updated="20220924204335"><div contenteditable="false" spellcheck="false">Another stream processing engine – most similar to Storm</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204335-d8wglyk" data-type="NodeListItem" class="li" id="20220924204335-d8wglyk" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-1qagsjh" data-type="NodeParagraph" class="p" id="20220924204335-1qagsjh" updated="20220924204335"><div contenteditable="false" spellcheck="false">Can run on standalone cluster, or on top of YARN or Mesos</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204335-596q7fy" data-type="NodeListItem" class="li" id="20220924204335-596q7fy" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-5mvojnq" data-type="NodeParagraph" class="p" id="20220924204335-5mvojnq" updated="20220924204335"><div contenteditable="false" spellcheck="false">Highly scalable (1000’s of nodes)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204335-slah3qt" data-type="NodeListItem" class="li" id="20220924204335-slah3qt" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-7xmwyp3" data-type="NodeParagraph" class="p" updated="20220924204335" id="20220924204335-7xmwyp3"><div contenteditable="false" spellcheck="false">Fault-tolerant</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204335-4imnd9y" data-type="NodeList" class="list" id="20220924204335-4imnd9y" updated="20220924204335"><div data-marker="*" data-subtype="u" data-node-id="20220924204335-0lc7m83" data-type="NodeListItem" class="li" id="20220924204335-0lc7m83" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-wxxk8l2" data-type="NodeParagraph" class="p" id="20220924204335-wxxk8l2" updated="20220924204342"><div contenteditable="false" spellcheck="false">Can survive failures while still guaranteeing exactly-once processing</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204335-5pe97kl" data-type="NodeListItem" class="li" id="20220924204335-5pe97kl" updated="20220924204335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-gyer5me" data-type="NodeParagraph" class="p" id="20220924204335-gyer5me" updated="20220924204343"><div contenteditable="false" spellcheck="false">Uses “state snapshots” to achieve this</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204335-n2qatbq" data-type="NodeListItem" class="li" updated="20220924204335" id="20220924204335-n2qatbq"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204335-g5qm0pf" data-type="NodeParagraph" class="p" id="20220924204335-g5qm0pf" updated="20220924204335"><div contenteditable="false" spellcheck="false">Up &amp; coming quickly</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204355-htb1shu" data-type="NodeListItem" class="li" id="20220924204355-htb1shu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204356-w5qltkn" data-type="NodeParagraph" class="p" id="20220924204356-w5qltkn" updated="20220925091620"><div contenteditable="false" spellcheck="false"><strong>Flink vs. Spark Streaming vs. Storm</strong></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204356-06ovviw" data-type="NodeList" class="list" updated="20220924204359" id="20220924204356-06ovviw"><div data-marker="*" data-subtype="u" data-node-id="20220924204359-r8u4e2c" data-type="NodeListItem" class="li" id="20220924204359-r8u4e2c" updated="20220924204359"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204359-u0dhaer" data-type="NodeParagraph" class="p" id="20220924204359-u0dhaer" updated="20220924204359"><div contenteditable="false" spellcheck="false">Flink’s faster than Storm</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204356-980rqs3" data-type="NodeList" class="list" id="20220924204356-980rqs3" updated="20220924204356"><div data-marker="*" data-subtype="u" data-node-id="20220924204356-33xz3gr" data-type="NodeListItem" class="li" id="20220924204356-33xz3gr" updated="20220924204356"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204356-dfrfp4d" data-type="NodeParagraph" class="p" id="20220924204356-dfrfp4d" updated="20220925091721"><div contenteditable="false" spellcheck="false">Flink offers “real streaming” like Storm (but if you’re using Trident with Storm, you’re using micro-batches, like Spark DStreams)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204356-3o15hbs" data-type="NodeListItem" class="li" id="20220924204356-3o15hbs" updated="20220924204356"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204356-tcxxu67" data-type="NodeParagraph" class="p" id="20220924204356-tcxxu67" updated="20220924204431"><div contenteditable="false" spellcheck="false">Flink offers a higher-level API like Trident or Spark, but while still doing real-time streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204356-tuiix33" data-type="NodeListItem" class="li" id="20220924204356-tuiix33" updated="20220924204356"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204356-ipgni30" data-type="NodeParagraph" class="p" id="20220924204356-ipgni30" updated="20220924204440"><div contenteditable="false" spellcheck="false">Flink has good Scala support, like Spark Streaming</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204356-4v9fhea" data-type="NodeListItem" class="li" id="20220924204356-4v9fhea" updated="20220924204356"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204356-dz08j84" data-type="NodeParagraph" class="p" id="20220924204356-dz08j84" updated="20220924204449"><div contenteditable="false" spellcheck="false">Flink has an ecosystem of its own, like Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204453-8hqpumu" data-type="NodeListItem" class="li" id="20220924204453-8hqpumu"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204453-39ee8tz" data-type="NodeParagraph" class="p" id="20220924204453-39ee8tz" updated="20220924204516"><div contenteditable="false" spellcheck="false">Flink can process data based on event times, not when data was received</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204522-4kb5o6w" data-type="NodeList" class="list" id="20220924204522-4kb5o6w"><div data-marker="*" data-subtype="u" data-node-id="20220924204522-kv8czdw" data-type="NodeListItem" class="li" id="20220924204522-kv8czdw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204522-enujzni" data-type="NodeParagraph" class="p" id="20220924204522-enujzni"><div contenteditable="false" spellcheck="false">Impressive windowing system</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204536-2gwitqi" data-type="NodeListItem" class="li" id="20220924204536-2gwitqi"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204536-cgcopva" data-type="NodeParagraph" class="p" id="20220924204536-cgcopva" updated="20220924204559"><div contenteditable="false" spellcheck="false">This plus real-time streaming and exactly-once semantics is important for financial applications</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204356-9e3cf02" data-type="NodeList" class="list" updated="20220924204545" id="20220924204356-9e3cf02"><div data-marker="*" data-subtype="u" data-node-id="20220924204545-gdsgiwk" data-type="NodeListItem" class="li" updated="20220924204545" id="20220924204545-gdsgiwk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204545-3001hh5" data-type="NodeParagraph" class="p" id="20220924204545-3001hh5" updated="20220924204545"><div contenteditable="false" spellcheck="false">But it’s the youngest of the technologies</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204609-onjy681" data-type="NodeListItem" class="li" id="20220924204609-onjy681"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204609-nkvu28v" data-type="NodeParagraph" class="p" id="20220924204609-nkvu28v" updated="20220924204609"><div contenteditable="false" spellcheck="false">All three are converging it seems</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204609-uvqn23i" data-type="NodeList" class="list" id="20220924204609-uvqn23i" updated="20220924204612"><div data-marker="*" data-subtype="u" data-node-id="20220924204612-mmu05fy" data-type="NodeListItem" class="li" id="20220924204612-mmu05fy" updated="20220924204612"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204612-1856jsf" data-type="NodeParagraph" class="p" id="20220924204612-1856jsf" updated="20220924204614"><div contenteditable="false" spellcheck="false">Spark Streaming’s “Structured Streaming” paves the way for real event-based streaming in Spark</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204609-of3w61h" data-type="NodeList" class="list" id="20220924204609-of3w61h" updated="20220924204609"><div data-marker="*" data-subtype="u" data-node-id="20220924204609-rkp7t5m" data-type="NodeListItem" class="li" id="20220924204609-rkp7t5m" updated="20220924204609"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204609-m1lgetp" data-type="NodeParagraph" class="p" id="20220924204609-m1lgetp" updated="20220924204609"><div contenteditable="false" spellcheck="false">Becomes more a question of what fits best in your existing environment</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204628-fu7hvep" data-type="NodeListItem" class="li" id="20220924204628-fu7hvep"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204628-voi0bp8" data-type="NodeParagraph" class="p" updated="20220924204633" id="20220924204628-voi0bp8"><div contenteditable="false" spellcheck="false">Flink architecture</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924204634-3pfjhhw" data-type="NodeParagraph" class="p" id="20220924204634-3pfjhhw" updated="20220924204647"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 753px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220924204647-yfw7pz4.png" data-src="assets/image-20220924204647-yfw7pz4.png" alt="image" style="width: 743px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220925092148-6ovbvur" data-type="NodeList" class="list" id="20220925092148-6ovbvur" updated="20220925092202"><div data-marker="*" data-subtype="u" data-node-id="20220925092202-7hgkwni" data-type="NodeListItem" class="li" id="20220925092202-7hgkwni" updated="20220925092202"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925092202-uuel8dj" data-type="NodeParagraph" class="p" id="20220925092202-uuel8dj" updated="20220925092212"><div contenteditable="false" spellcheck="false">FlinkML -- Spark MLlib</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925092212-kpf0czr" data-type="NodeListItem" class="li" id="20220925092212-kpf0czr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925092212-vgbn55y" data-type="NodeParagraph" class="p" id="20220925092212-vgbn55y" updated="20220925092457"><div contenteditable="false" spellcheck="false">Gelly -- Spark GraphX</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925092458-cbpr6sg" data-type="NodeListItem" class="li" id="20220925092458-cbpr6sg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925092458-g4nvmnw" data-type="NodeParagraph" class="p" id="20220925092458-g4nvmnw" updated="20220925092503"><div contenteditable="false" spellcheck="false">Table -- Spark SQL</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925092009-thkxvpm" data-type="NodeParagraph" class="p" id="20220925092009-thkxvpm" updated="20220925092013"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 939px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://flink.apache.org/img/flink-home-graphic.png" data-src="https://flink.apache.org/img/flink-home-graphic.png" style="width: 929px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204658-xre2fqt" data-type="NodeListItem" class="li" id="20220924204658-xre2fqt"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204658-gedrhh3" data-type="NodeParagraph" class="p" id="20220924204658-gedrhh3"><div contenteditable="false" spellcheck="false">​Connectors</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204659-5tvbbyo" data-type="NodeList" class="list" id="20220924204659-5tvbbyo" updated="20220924204706"><div data-marker="*" data-subtype="u" data-node-id="20220924204706-6bh293b" data-type="NodeListItem" class="li" id="20220924204706-6bh293b" updated="20220924204706"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204706-uc6pxvn" data-type="NodeParagraph" class="p" id="20220924204706-uc6pxvn" updated="20220924204706"><div contenteditable="false" spellcheck="false">HDFS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204709-b55ke7j" data-type="NodeListItem" class="li" id="20220924204709-b55ke7j"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204709-c21ac4y" data-type="NodeParagraph" class="p" id="20220924204709-c21ac4y" updated="20220924204711"><div contenteditable="false" spellcheck="false">Cassandra</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204712-chveqs8" data-type="NodeListItem" class="li" id="20220924204712-chveqs8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204712-989np5o" data-type="NodeParagraph" class="p" id="20220924204712-989np5o"><div contenteditable="false" spellcheck="false">Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204716-l2v5rlf" data-type="NodeListItem" class="li" id="20220924204716-l2v5rlf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204716-1mx6jau" data-type="NodeParagraph" class="p" id="20220924204716-1mx6jau"><div contenteditable="false" spellcheck="false">Others</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204719-1indob0" data-type="NodeList" class="list" id="20220924204719-1indob0"><div data-marker="*" data-subtype="u" data-node-id="20220924204719-1up83n3" data-type="NodeListItem" class="li" id="20220924204719-1up83n3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204719-lxh1m5b" data-type="NodeParagraph" class="p" id="20220924204719-lxh1m5b"><div contenteditable="false" spellcheck="false">Elasticsearch, NiFi, Redis, RabbitMQ</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925093208-tgx83ag" data-type="NodeListItem" class="li" updated="20220925101151" id="20220925093208-tgx83ag"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925093208-pmpcftw" data-type="NodeParagraph" class="p" id="20220925093208-pmpcftw" updated="20220925093213"><div contenteditable="false" spellcheck="false">Hands-on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220925093216-bi3karj" data-type="NodeList" class="list" id="20220925093216-bi3karj" updated="20220925101151"><div data-marker="*" data-subtype="u" data-node-id="20220925093325-ic2yvyo" data-type="NodeListItem" class="li" id="20220925093325-ic2yvyo"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925093325-jd5eowa" data-type="NodeParagraph" class="p" id="20220925093325-jd5eowa" updated="20220925093407"><div contenteditable="false" spellcheck="false">Check Hadoop version in <code>Ambari - Admin - Stack and Versions</code></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925093339-7j0n2ow" data-type="NodeTable" class="table" colgroup="|||" id="20220925093339-7j0n2ow" updated="20220925093339"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>HDFS</th><th>2.7.3</th><th>Installed</th><th>Apache Hadoop Distributed File System</th></tr></thead><tbody></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925093219-q6oui1f" data-type="NodeListItem" class="li" id="20220925093219-q6oui1f" updated="20220925093219"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925093219-cvhfkh1" data-type="NodeParagraph" class="p" id="20220925093219-cvhfkh1" updated="20220925093246"><div contenteditable="false" spellcheck="false">Check scala version in zeppelin</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925093234-42m5whx" data-type="NodeCodeBlock" class="code-block" id="20220925093234-42m5whx" updated="20220925093543"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">scala</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">util.Properties.versionString
res0: String = version 2.11.8
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925093608-1flzqsf" data-type="NodeListItem" class="li" id="20220925093608-1flzqsf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925093608-hl77ptq" data-type="NodeParagraph" class="p" id="20220925093608-hl77ptq" updated="20220925093634"><div contenteditable="false" spellcheck="false">Seems no longer binding with Hadoop version, so go with Apache Flink 1.14.5</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925093530-958v7n0" data-type="NodeListItem" class="li" id="20220925093530-958v7n0"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925093530-1kgbpt1" data-type="NodeParagraph" class="p" id="20220925093530-1kgbpt1" updated="20220925093533"><div contenteditable="false" spellcheck="false">Install</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925093533-8inp7w0" data-type="NodeCodeBlock" class="code-block" id="20220925093533-8inp7w0" updated="20220925094249"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp ~]$ wget https://dlcdn.apache.org/flink/flink-1.14.5/flink-1.14.5-bin-scala_2.11.tgz --no-check-certificate
[maria_dev@sandbox-hdp ~]$ tar -xvf flink-1.14.5-bin-scala_2.11.tgz 
[maria_dev@sandbox-hdp ~]$ cd flink-1.14.5
[maria_dev@sandbox-hdp flink-1.14.5]$ ls
LICENSE  README.txt  conf      lib       log  plugins
NOTICE   bin         examples  licenses  opt

## change port to what HDP allowed ady
[maria_dev@sandbox-hdp flink-1.14.5]$ cd conf
[maria_dev@sandbox-hdp conf]$ ls
flink-conf.yaml           log4j.properties     masters
log4j-cli.properties      logback-console.xml  workers
log4j-console.properties  logback-session.xml  zoo.cfg
log4j-session.properties  logback.xml
[maria_dev@sandbox-hdp conf]$ vi flink-conf.yaml 

##changed the ## Rest and Front end section to
#rest.port: 8082

[maria_dev@sandbox-hdp conf]$ cd ..
[maria_dev@sandbox-hdp flink-1.14.5]$ ./bin/start-cluster.sh 
Setting HADOOP_CONF_DIR=/etc/hadoop/conf because no HADOOP_CONF_DIR or HADOOP_CLASSPATH was set.
Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was set.
Starting cluster.
Setting HADOOP_CONF_DIR=/etc/hadoop/conf because no HADOOP_CONF_DIR or HADOOP_CLASSPATH was set.
Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was set.
Setting HADOOP_CONF_DIR=/etc/hadoop/conf because no HADOOP_CONF_DIR or HADOOP_CLASSPATH was set.
Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was set.
Starting standalonesession daemon on host sandbox-hdp.hortonworks.com.
Setting HADOOP_CONF_DIR=/etc/hadoop/conf because no HADOOP_CONF_DIR or HADOOP_CLASSPATH was set.
Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was set.
Setting HADOOP_CONF_DIR=/etc/hadoop/conf because no HADOOP_CONF_DIR or HADOOP_CLASSPATH was set.
Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was set.
Starting taskexecutor daemon on host sandbox-hdp.hortonworks.com.
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925094822-uoyffn8" data-type="NodeListItem" class="li" id="20220925094822-uoyffn8" updated="20220925094822"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925094822-epq79fa" data-type="NodeParagraph" class="p" id="20220925094822-epq79fa" updated="20220925094843"><div contenteditable="false" spellcheck="false">Go <code>http://localhost:8081/#/overview</code>  (but not 8082, strange)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925095249-4c249ri" data-type="NodeListItem" class="li" id="20220925095249-4c249ri"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925095249-sg1xln5" data-type="NodeParagraph" class="p" id="20220925095249-sg1xln5" updated="20220925095256"><div contenteditable="false" spellcheck="false">Run word count</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925095256-b78uvs7" data-type="NodeCodeBlock" class="code-block" id="20220925095256-b78uvs7" updated="20220925095332"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp flink-1.14.5]$ nc -l 9000

## another terminal
[maria_dev@sandbox-hdp ~]$ cd flink-1.14.5
[maria_dev@sandbox-hdp flink-1.14.5]$ ./bin/flink run examples/streaming/SocketWindowWordCount.jar --port 9000
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925095402-xjktb0g" data-type="NodeListItem" class="li" id="20220925095402-xjktb0g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925095402-k4ee219" data-type="NodeParagraph" class="p" id="20220925095402-k4ee219" updated="20220925095403"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925095403-ht6tj70.png" data-src="assets/image-20220925095403-ht6tj70.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925095422-8yb7mkr" data-type="NodeListItem" class="li" id="20220925095422-8yb7mkr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925095422-v8zd388" data-type="NodeParagraph" class="p" id="20220925095422-v8zd388" updated="20220925095422"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220925095422-tbpccyo.png" data-src="assets/image-20220925095422-tbpccyo.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925095623-b1ghlfd" data-type="NodeListItem" class="li" id="20220925095623-b1ghlfd" updated="20220925101151"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925095623-dul5yqx" data-type="NodeParagraph" class="p" id="20220925095623-dul5yqx" updated="20220925095638"><div contenteditable="false" spellcheck="false">get things running</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220925095639-g58d4pm" data-type="NodeCodeBlock" class="code-block" updated="20220925101151" id="20220925095639-g58d4pm"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">bash</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs" contenteditable="false" spellcheck="false">[maria_dev@sandbox-hdp flink-1.14.5]$ nc -l 9000
i am a rock i am an island
rock rock 
rock rock

## another terminal
[maria_dev@sandbox-hdp ~]$ cd flink-1.14.5
[maria_dev@sandbox-hdp flink-1.14.5]$ cd log/
[maria_dev@sandbox-hdp log]$ ls
flink-maria_dev-client-sandbox-hdp.hortonworks.com.log
flink-maria_dev-standalonesession-0-sandbox-hdp.hortonworks.com.log
flink-maria_dev-standalonesession-0-sandbox-hdp.hortonworks.com.out
flink-maria_dev-standalonesession-1-sandbox-hdp.hortonworks.com.log
flink-maria_dev-standalonesession-1-sandbox-hdp.hortonworks.com.out
flink-maria_dev-taskexecutor-0-sandbox-hdp.hortonworks.com.log
flink-maria_dev-taskexecutor-0-sandbox-hdp.hortonworks.com.out
flink-maria_dev-taskexecutor-1-sandbox-hdp.hortonworks.com.log
flink-maria_dev-taskexecutor-1-sandbox-hdp.hortonworks.com.out

[maria_dev@sandbox-hdp log]$ cat flink-maria_dev-taskexecutor-0-sandbox-hdp.hortonworks.com.out
i : 2
island : 1
an : 1
rock : 1
a : 1
am : 2
rock : 2
rock : 2
</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924111515-oixtxlh" data-type="NodeParagraph" class="p" id="20220924111515-oixtxlh"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924111515-i26cg9b" data-type="NodeParagraph" class="p" id="20220924111515-i26cg9b"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-gr5u5xs" data-type="NodeHeading" class="h2" id="20220912014401-gr5u5xs" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 11: Designing Real-World Systems</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204844-lw84ap9" data-type="NodeList" class="list" id="20220924204844-lw84ap9" updated="20220925230142"><div data-marker="*" data-subtype="u" data-node-id="20220924204846-buoau8c" data-type="NodeListItem" class="li" id="20220924204846-buoau8c" updated="20220925230142"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204846-hxgkjex" data-type="NodeParagraph" class="p" id="20220924204846-hxgkjex" updated="20220925225927"><div contenteditable="false" spellcheck="false"> The Best of the Rest</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204854-vwkls5y" data-type="NodeList" class="list" id="20220924204854-vwkls5y" updated="20220925230142"><div data-marker="*" data-subtype="u" data-node-id="20220924204904-y9w6i7y" data-type="NodeListItem" class="li" id="20220924204904-y9w6i7y" updated="20220924204904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204904-az4imcq" data-type="NodeParagraph" class="p" id="20220924204904-az4imcq" updated="20220924205112"><div contenteditable="false" spellcheck="false">Impala<span contenteditable="false" data-type="img" class="img" style="max-width: 85px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://impala.apache.org/img/impala-logo.png" data-src="https://impala.apache.org/img/impala-logo.png" style="width: 75px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204904-8t8es0l" data-type="NodeList" class="list" id="20220924204904-8t8es0l" updated="20220924204908"><div data-marker="*" data-subtype="u" data-node-id="20220924204908-jwnw3bd" data-type="NodeListItem" class="li" updated="20220924204908" id="20220924204908-jwnw3bd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204908-k9cdd9k" data-type="NodeParagraph" class="p" id="20220924204908-k9cdd9k" updated="20220924204908"><div contenteditable="false" spellcheck="false">Cloudera’s alternative to Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204904-k97jqnz" data-type="NodeList" class="list" id="20220924204904-k97jqnz" updated="20220924204904"><div data-marker="*" data-subtype="u" data-node-id="20220924204904-3jc3jds" data-type="NodeListItem" class="li" id="20220924204904-3jc3jds" updated="20220924204904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204904-e1j4k5c" data-type="NodeParagraph" class="p" id="20220924204904-e1j4k5c" updated="20220924204904"><div contenteditable="false" spellcheck="false">Massively parallel SQL engine on Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204904-r5msir0" data-type="NodeListItem" class="li" id="20220924204904-r5msir0" updated="20220924204904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204904-1w7yyu0" data-type="NodeParagraph" class="p" id="20220924204904-1w7yyu0" updated="20220924204911"><div contenteditable="false" spellcheck="false">Impala’s always running, so you avoid the start-up costs when starting a Hive query</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204904-ump89uy" data-type="NodeList" class="list" id="20220924204904-ump89uy" updated="20220924204916"><div data-marker="*" data-subtype="u" data-node-id="20220924204916-invhgm9" data-type="NodeListItem" class="li" id="20220924204916-invhgm9" updated="20220924204916"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204916-o63hm0d" data-type="NodeParagraph" class="p" id="20220924204916-o63hm0d" updated="20220924204916"><div contenteditable="false" spellcheck="false">Made for BI-style queries</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204919-f18cfpw" data-type="NodeListItem" class="li" id="20220924204919-f18cfpw" updated="20220924204919"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204919-d2unoyo" data-type="NodeParagraph" class="p" id="20220924204919-d2unoyo" updated="20220924204919"><div contenteditable="false" spellcheck="false">Bottom line: Impala’s often faster than Hive, but Hive offers more versatility</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204904-ipab1rv" data-type="NodeListItem" class="li" id="20220924204904-ipab1rv" updated="20220924204904"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204904-oegvgcl" data-type="NodeParagraph" class="p" id="20220924204904-oegvgcl" updated="20220924204904"><div contenteditable="false" spellcheck="false">Consider using Impala instead of Hive if you’re using Cloudera</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204927-qk6he82" data-type="NodeListItem" class="li" id="20220924204927-qk6he82"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204928-ag3iozd" data-type="NodeParagraph" class="p" id="20220924204928-ag3iozd" updated="20220924205129"><div contenteditable="false" spellcheck="false">Accumulo<span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://accumulo.apache.org/images/accumulo-logo.png" data-src="https://accumulo.apache.org/images/accumulo-logo.png" alt="Apache Accumulo" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204928-3n82xyb" data-type="NodeList" class="list" id="20220924204928-3n82xyb" updated="20220924204931"><div data-marker="*" data-subtype="u" data-node-id="20220924204931-d9kdqb2" data-type="NodeListItem" class="li" id="20220924204931-d9kdqb2" updated="20220924204931"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204931-58o7utz" data-type="NodeParagraph" class="p" id="20220924204931-58o7utz" updated="20220924204931"><div contenteditable="false" spellcheck="false">Another BigTable clone (like HBase)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204928-xouakhy" data-type="NodeList" class="list" updated="20220924204928" id="20220924204928-xouakhy"><div data-marker="*" data-subtype="u" data-node-id="20220924204928-qog0k3e" data-type="NodeListItem" class="li" updated="20220924204928" id="20220924204928-qog0k3e"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204928-ylynhow" data-type="NodeParagraph" class="p" id="20220924204928-ylynhow" updated="20220924204928"><div contenteditable="false" spellcheck="false">But offers a better security model</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204928-vaqqmg5" data-type="NodeList" class="list" updated="20220924204934" id="20220924204928-vaqqmg5"><div data-marker="*" data-subtype="u" data-node-id="20220924204934-9igyf0j" data-type="NodeListItem" class="li" id="20220924204934-9igyf0j" updated="20220924204934"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204934-0gxz6o4" data-type="NodeParagraph" class="p" updated="20220924204934" id="20220924204934-0gxz6o4"><div contenteditable="false" spellcheck="false">Cell-based access control</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204956-o0p95g7" data-type="NodeListItem" class="li" id="20220924204956-o0p95g7" updated="20220924204956"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204956-2roxiuv" data-type="NodeParagraph" class="p" updated="20220924204956" id="20220924204956-2roxiuv"><div contenteditable="false" spellcheck="false">And server-side programming</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924204928-8s903hn" data-type="NodeListItem" class="li" updated="20220924204928" id="20220924204928-8s903hn"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924204928-9pmh2tw" data-type="NodeParagraph" class="p" id="20220924204928-9pmh2tw" updated="20220924204928"><div contenteditable="false" spellcheck="false">Consider it for your NoSQL needs if you have complex security requirements</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204928-k5beixv" data-type="NodeList" class="list" id="20220924204928-k5beixv" updated="20220924205002"><div data-marker="*" data-subtype="u" data-node-id="20220924205002-8c4wtld" data-type="NodeListItem" class="li" id="20220924205002-8c4wtld" updated="20220924205002"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205002-an8tivz" data-type="NodeParagraph" class="p" updated="20220924205002" id="20220924205002-an8tivz"><div contenteditable="false" spellcheck="false">But make sure the systems that need to read this data can talk to it.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205023-i5d8ylq" data-type="NodeListItem" class="li" id="20220924205023-i5d8ylq" updated="20220925230142"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205024-579c3gp" data-type="NodeParagraph" class="p" id="20220924205024-579c3gp" updated="20220924205351"><div contenteditable="false" spellcheck="false">Redis<span contenteditable="false" data-type="img" class="img" style="max-width: 259px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://upload.wikimedia.org/wikipedia/en/thumb/6/6b/Redis_Logo.svg/1200px-Redis_Logo.svg.png" data-src="https://upload.wikimedia.org/wikipedia/en/thumb/6/6b/Redis_Logo.svg/1200px-Redis_Logo.svg.png" alt="Redis - Wikipedia" style="width: 249px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205024-tqx7l5v" data-type="NodeList" class="list" id="20220924205024-tqx7l5v" updated="20220925230142"><div data-marker="*" data-subtype="u" data-node-id="20220924205028-1xcq9q0" data-type="NodeListItem" class="li" id="20220924205028-1xcq9q0" updated="20220924205028"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205028-mc3h9ls" data-type="NodeParagraph" class="p" id="20220924205028-mc3h9ls" updated="20220924205028"><div contenteditable="false" spellcheck="false">A distributed in-memory data store (like memcache)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220925230120-r1r1o6d" data-type="NodeListItem" class="li" id="20220925230120-r1r1o6d" updated="20220925230128"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220925230120-7lz6o2o" data-type="NodeParagraph" class="p" id="20220925230120-7lz6o2o"><div contenteditable="false" spellcheck="false">But it’s more than a cache!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205024-oxryf4r" data-type="NodeList" class="list" id="20220924205024-oxryf4r" updated="20220925230142"><div data-marker="*" data-subtype="u" data-node-id="20220924205024-pgxi78s" data-type="NodeListItem" class="li" updated="20220924205024" id="20220924205024-pgxi78s"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205024-n2oibay" data-type="NodeParagraph" class="p" id="20220924205024-n2oibay" updated="20220924205024"><div contenteditable="false" spellcheck="false">Good support for storing data structures</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205024-1uqur6w" data-type="NodeListItem" class="li" id="20220924205024-1uqur6w" updated="20220924205024"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205024-tae36qc" data-type="NodeParagraph" class="p" id="20220924205024-tae36qc" updated="20220924205024"><div contenteditable="false" spellcheck="false">Can persist data to disk</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205024-ra2ulv5" data-type="NodeListItem" class="li" id="20220924205024-ra2ulv5" updated="20220924205024"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205024-l8jnc9v" data-type="NodeParagraph" class="p" id="20220924205024-l8jnc9v" updated="20220924205024"><div contenteditable="false" spellcheck="false">Can be used as a data store and not just a cache</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205024-gymh2l3" data-type="NodeListItem" class="li" id="20220924205024-gymh2l3" updated="20220924205024"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205024-canrqtb" data-type="NodeParagraph" class="p" id="20220924205024-canrqtb" updated="20220924205024"><div contenteditable="false" spellcheck="false">Popular caching layer for web apps</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205412-r4bjv1m" data-type="NodeListItem" class="li" id="20220924205412-r4bjv1m"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-70ym3xe" data-type="NodeParagraph" class="p" id="20220924205413-70ym3xe" updated="20220924205431"><div contenteditable="false" spellcheck="false">Ingite<span contenteditable="false" data-type="img" class="img" style="max-width: 201px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://ignite.apache.org/img/logo.svg" data-src="https://ignite.apache.org/img/logo.svg" style="width: 191px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205413-x5zlc6o" data-type="NodeList" class="list" id="20220924205413-x5zlc6o" updated="20220924205416"><div data-marker="*" data-subtype="u" data-node-id="20220924205416-wxnt5nc" data-type="NodeListItem" class="li" id="20220924205416-wxnt5nc" updated="20220924205416"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205416-0r567qw" data-type="NodeParagraph" class="p" id="20220924205416-0r567qw" updated="20220924205416"><div contenteditable="false" spellcheck="false">An “in-memory data fabric”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205413-5usygvq" data-type="NodeList" class="list" id="20220924205413-5usygvq" updated="20220924205413"><div data-marker="*" data-subtype="u" data-node-id="20220924205413-5bad7bq" data-type="NodeListItem" class="li" id="20220924205413-5bad7bq" updated="20220924205413"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-fv018lx" data-type="NodeParagraph" class="p" id="20220924205413-fv018lx" updated="20220924205413"><div contenteditable="false" spellcheck="false">Think of it as an alternative to Redis</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205413-2n5hzy2" data-type="NodeListItem" class="li" id="20220924205413-2n5hzy2" updated="20220924205413"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-y8bghis" data-type="NodeParagraph" class="p" id="20220924205413-y8bghis" updated="20220924205413"><div contenteditable="false" spellcheck="false">But it’s closer to a database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205413-eavk877" data-type="NodeList" class="list" id="20220924205413-eavk877" updated="20220924205413"><div data-marker="*" data-subtype="u" data-node-id="20220924205413-gohhe52" data-type="NodeListItem" class="li" updated="20220924205413" id="20220924205413-gohhe52"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-6va1vjr" data-type="NodeParagraph" class="p" id="20220924205413-6va1vjr" updated="20220924205438"><div contenteditable="false" spellcheck="false">ACID guarantees</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205413-1e6ujma" data-type="NodeListItem" class="li" updated="20220924205413" id="20220924205413-1e6ujma"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-3bqb15s" data-type="NodeParagraph" class="p" id="20220924205413-3bqb15s" updated="20220924205440"><div contenteditable="false" spellcheck="false">SQL support</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205413-hsvb8r6" data-type="NodeListItem" class="li" id="20220924205413-hsvb8r6" updated="20220924205413"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205413-99l9bo1" data-type="NodeParagraph" class="p" id="20220924205413-99l9bo1" updated="20220924205442"><div contenteditable="false" spellcheck="false">But it’s all done in-memory</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205501-i0pf2dz" data-type="NodeListItem" class="li" id="20220924205501-i0pf2dz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205503-k8jhrn1" data-type="NodeParagraph" class="p" id="20220924205503-k8jhrn1" updated="20220924205535"><div contenteditable="false" spellcheck="false">Elasticsearch<span contenteditable="false" data-type="img" class="img" style="max-width: 238px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" data-src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" alt="elastic-logo.svg" style="width: 228px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205503-4egtw3q" data-type="NodeList" class="list" updated="20220924205507" id="20220924205503-4egtw3q"><div data-marker="*" data-subtype="u" data-node-id="20220924205507-dzj5n3y" data-type="NodeListItem" class="li" id="20220924205507-dzj5n3y" updated="20220924205507"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205507-mtagvm1" data-type="NodeParagraph" class="p" id="20220924205507-mtagvm1" updated="20220924205507"><div contenteditable="false" spellcheck="false">A distributed document search and analytics engine</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205503-6h24rzt" data-type="NodeList" class="list" id="20220924205503-6h24rzt" updated="20220924205503"><div data-marker="*" data-subtype="u" data-node-id="20220924205503-ag7osrh" data-type="NodeListItem" class="li" id="20220924205503-ag7osrh" updated="20220924205503"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205503-cgh2f28" data-type="NodeParagraph" class="p" id="20220924205503-cgh2f28" updated="20220924205503"><div contenteditable="false" spellcheck="false">Really popular</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205503-0wuvwfv" data-type="NodeList" class="list" id="20220924205503-0wuvwfv" updated="20220924205511"><div data-marker="*" data-subtype="u" data-node-id="20220924205511-580n9rf" data-type="NodeListItem" class="li" id="20220924205511-580n9rf" updated="20220924205511"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205511-f8r011c" data-type="NodeParagraph" class="p" id="20220924205511-f8r011c" updated="20220924205511"><div contenteditable="false" spellcheck="false">Wikipedia, The Guardian, Stack Overflow, many more</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205514-qfxqt2q" data-type="NodeListItem" class="li" id="20220924205514-qfxqt2q" updated="20220924205514"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205514-tvf9mse" data-type="NodeParagraph" class="p" id="20220924205514-tvf9mse" updated="20220924205514"><div contenteditable="false" spellcheck="false">Can handle things like real-time search-as-you-type</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205503-ywcfv7v" data-type="NodeListItem" class="li" id="20220924205503-ywcfv7v" updated="20220924205503"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205503-x29sdk8" data-type="NodeParagraph" class="p" id="20220924205503-x29sdk8" updated="20220924205503"><div contenteditable="false" spellcheck="false">When paired with Kibana, great for interactive exploration</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205503-nwn4blh" data-type="NodeListItem" class="li" updated="20220924205503" id="20220924205503-nwn4blh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205503-idhx5dr" data-type="NodeParagraph" class="p" id="20220924205503-idhx5dr" updated="20220924205503"><div contenteditable="false" spellcheck="false">Amazon offers an Elasticsearch Service</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205549-rltwbon" data-type="NodeListItem" class="li" id="20220924205549-rltwbon"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-hbjbcju" data-type="NodeParagraph" class="p" id="20220924205550-hbjbcju" updated="20220924235041"><div contenteditable="false" spellcheck="false">Kinesis (and the AWS ecosystem)<span contenteditable="false" data-type="img" class="img" style="max-width: 367px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://digitalcloud.training/wp-content/uploads/2022/01/Amazon-Kinesis-.jpg" data-src="https://digitalcloud.training/wp-content/uploads/2022/01/Amazon-Kinesis-.jpg" alt="Amazon Kinesis | AWS Cheat Sheet" style="width: 357px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205550-x6k9ly1" data-type="NodeList" class="list" id="20220924205550-x6k9ly1" updated="20220924205557"><div data-marker="*" data-subtype="u" data-node-id="20220924205557-rquvglm" data-type="NodeListItem" class="li" id="20220924205557-rquvglm" updated="20220924205557"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205557-wrc2lce" data-type="NodeParagraph" class="p" id="20220924205557-wrc2lce" updated="20220924205557"><div contenteditable="false" spellcheck="false">Amazon Kinesis is basically the AWS version of Kafka</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205550-zqbb6m3" data-type="NodeList" class="list" id="20220924205550-zqbb6m3" updated="20220924205550"><div data-marker="*" data-subtype="u" data-node-id="20220924205550-a0lzl7v" data-type="NodeListItem" class="li" id="20220924205550-a0lzl7v" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-vt74pdb" data-type="NodeParagraph" class="p" updated="20220924205550" id="20220924205550-vt74pdb"><div contenteditable="false" spellcheck="false">Amazon has a whole ecosystem of its own</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924205550-lga4kgp" data-type="NodeList" class="list" id="20220924205550-lga4kgp" updated="20220924205550"><div data-marker="*" data-subtype="u" data-node-id="20220924205550-ynm8d9x" data-type="NodeListItem" class="li" id="20220924205550-ynm8d9x" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-ku9iasn" data-type="NodeParagraph" class="p" id="20220924205550-ku9iasn" updated="20220924205559"><div contenteditable="false" spellcheck="false">Elastic MapReduce (EMR)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-3t36axi" data-type="NodeListItem" class="li" id="20220924205550-3t36axi" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-gf7freh" data-type="NodeParagraph" class="p" id="20220924205550-gf7freh" updated="20220924205601"><div contenteditable="false" spellcheck="false">S3</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-rsoz6qd" data-type="NodeListItem" class="li" id="20220924205550-rsoz6qd" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-6vrg70s" data-type="NodeParagraph" class="p" id="20220924205550-6vrg70s" updated="20220924205603"><div contenteditable="false" spellcheck="false">Elasticsearch Service / CloudSearch</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-af9rbp3" data-type="NodeListItem" class="li" updated="20220924205550" id="20220924205550-af9rbp3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-skt8ewg" data-type="NodeParagraph" class="p" id="20220924205550-skt8ewg" updated="20220924205604"><div contenteditable="false" spellcheck="false">DynamoDB</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-u1es00k" data-type="NodeListItem" class="li" id="20220924205550-u1es00k" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-pg36j63" data-type="NodeParagraph" class="p" id="20220924205550-pg36j63" updated="20220924205606"><div contenteditable="false" spellcheck="false">Amazon RDS</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-5s35sf1" data-type="NodeListItem" class="li" id="20220924205550-5s35sf1" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-9aa9fwt" data-type="NodeParagraph" class="p" id="20220924205550-9aa9fwt" updated="20220924205608"><div contenteditable="false" spellcheck="false">ElastiCache</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-mnv2a32" data-type="NodeListItem" class="li" id="20220924205550-mnv2a32" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-jzgw7cj" data-type="NodeParagraph" class="p" id="20220924205550-jzgw7cj" updated="20220924205609"><div contenteditable="false" spellcheck="false">AI / Machine Learning services</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924205550-4zwrfse" data-type="NodeListItem" class="li" id="20220924205550-4zwrfse" updated="20220924205550"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924205550-b8jxc6s" data-type="NodeParagraph" class="p" id="20220924205550-b8jxc6s" updated="20220924205550"><div contenteditable="false" spellcheck="false">EMR in particular is an easy way to spin up a Hadoop cluster on demand</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924234350-zbwlw25" data-type="NodeListItem" class="li" id="20220924234350-zbwlw25"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234351-5lyrwtv" data-type="NodeParagraph" class="p" id="20220924234351-5lyrwtv" updated="20220924235121"><div contenteditable="false" spellcheck="false">Apache NiFi<span contenteditable="false" data-type="img" class="img" style="max-width: 317px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://nifi.apache.org/assets/images/apache-nifi-logo.svg" data-src="https://nifi.apache.org/assets/images/apache-nifi-logo.svg" alt="Apache NiFi logo" style="width: 307px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span><span contenteditable="false" data-type="img" class="img" style="max-width: 397px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://nifi.apache.org/assets/images/flow-th.png" data-src="https://nifi.apache.org/assets/images/flow-th.png" alt="NiFi flow" style="width: 387px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924234351-10uxjwv" data-type="NodeList" class="list" id="20220924234351-10uxjwv" updated="20220924234354"><div data-marker="*" data-subtype="u" data-node-id="20220924234354-m13vrex" data-type="NodeListItem" class="li" updated="20220924234354" id="20220924234354-m13vrex"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234354-psole4n" data-type="NodeParagraph" class="p" id="20220924234354-psole4n" updated="20220924234354"><div contenteditable="false" spellcheck="false">Directed graphs of data routing</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924234359-ev29gs6" data-type="NodeList" class="list" id="20220924234359-ev29gs6"><div data-marker="*" data-subtype="u" data-node-id="20220924234359-v9ptnkf" data-type="NodeListItem" class="li" id="20220924234359-v9ptnkf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234359-o57x6pr" data-type="NodeParagraph" class="p" id="20220924234359-o57x6pr"><div contenteditable="false" spellcheck="false">Can connect to Kafka, HDFS, Hive</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924234351-eu4eyrl" data-type="NodeList" class="list" updated="20220924234402" id="20220924234351-eu4eyrl"><div data-marker="*" data-subtype="u" data-node-id="20220924234402-7les3x7" data-type="NodeListItem" class="li" updated="20220924234402" id="20220924234402-7les3x7"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234402-n4e0p0a" data-type="NodeParagraph" class="p" id="20220924234402-n4e0p0a" updated="20220924234402"><div contenteditable="false" spellcheck="false">Web UI for designing complex systems</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924234351-3fmsz7i" data-type="NodeList" class="list" id="20220924234351-3fmsz7i" updated="20220924234351"><div data-marker="*" data-subtype="u" data-node-id="20220924234351-i5zp4h4" data-type="NodeListItem" class="li" id="20220924234351-i5zp4h4" updated="20220924234351"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234351-n5zrde5" data-type="NodeParagraph" class="p" id="20220924234351-n5zrde5" updated="20220924234351"><div contenteditable="false" spellcheck="false">Often seen in the context of IoT sensors, and managing their data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924234351-ayivpt5" data-type="NodeListItem" class="li" id="20220924234351-ayivpt5" updated="20220924234351"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924234351-mr2p6xq" data-type="NodeParagraph" class="p" id="20220924234351-mr2p6xq" updated="20220924234351"><div contenteditable="false" spellcheck="false">Relevant in that it can be a streaming data source you’ll see</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235219-rk3cua5" data-type="NodeListItem" class="li" id="20220924235219-rk3cua5"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235220-q4vq0tf" data-type="NodeParagraph" class="p" id="20220924235220-q4vq0tf" updated="20220924235242"><div contenteditable="false" spellcheck="false">Apache Falcon<span contenteditable="false" data-type="img" class="img" style="max-width: 362px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="https://falcon.apache.org/images/falcon-logo.png" data-src="https://falcon.apache.org/images/falcon-logo.png" alt="Apache Falcon" style="width: 352px;" /><span class="protyle-action__drag"></span><span class="img__net"><svg><use xlink:href="#iconLanguage"></use></svg></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924235220-n12qgu3" data-type="NodeList" class="list" id="20220924235220-n12qgu3" updated="20220924235226"><div data-marker="*" data-subtype="u" data-node-id="20220924235226-pqd207q" data-type="NodeListItem" class="li" id="20220924235226-pqd207q" updated="20220924235226"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235226-8yrikxl" data-type="NodeParagraph" class="p" id="20220924235226-8yrikxl" updated="20220924235226"><div contenteditable="false" spellcheck="false">A “data governance engine” that sits on top of Oozie</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924235220-qbhi6vz" data-type="NodeList" class="list" id="20220924235220-qbhi6vz" updated="20220924235220"><div data-marker="*" data-subtype="u" data-node-id="20220924235220-9upcipw" data-type="NodeListItem" class="li" id="20220924235220-9upcipw" updated="20220924235220"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235220-8momavi" data-type="NodeParagraph" class="p" id="20220924235220-8momavi" updated="20220924235220"><div contenteditable="false" spellcheck="false">Included in Hortonworks</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235220-h8ggqvw" data-type="NodeListItem" class="li" id="20220924235220-h8ggqvw" updated="20220924235220"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235220-hhg7r0l" data-type="NodeParagraph" class="p" id="20220924235220-hhg7r0l" updated="20220924235220"><div contenteditable="false" spellcheck="false">Like NiFi, it allows construction of data processing graphs</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235220-751fivr" data-type="NodeListItem" class="li" id="20220924235220-751fivr" updated="20220924235220"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235220-vssx2au" data-type="NodeParagraph" class="p" id="20220924235220-vssx2au" updated="20220924235220"><div contenteditable="false" spellcheck="false">But it’s really meant to organize the flow of your data within Hadoop</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235257-g0cum92" data-type="NodeListItem" class="li" id="20220924235257-g0cum92" updated="20220924235303"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-5gb7pig" data-type="NodeParagraph" class="p" id="20220924235259-5gb7pig" updated="20220924235259"><div contenteditable="false" spellcheck="false">Apache Slider</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924235259-4bvszu6" data-type="NodeList" class="list" id="20220924235259-4bvszu6" updated="20220924235303"><div data-marker="*" data-subtype="u" data-node-id="20220924235303-1zey6vx" data-type="NodeListItem" class="li" id="20220924235303-1zey6vx" updated="20220924235303"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235303-7bdyq8t" data-type="NodeParagraph" class="p" id="20220924235303-7bdyq8t" updated="20220924235303"><div contenteditable="false" spellcheck="false">Deployment tool for apps on a YARN cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924235259-ix0lls1" data-type="NodeList" class="list" id="20220924235259-ix0lls1" updated="20220924235259"><div data-marker="*" data-subtype="u" data-node-id="20220924235259-vokibt4" data-type="NodeListItem" class="li" id="20220924235259-vokibt4" updated="20220924235259"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-a3aywj8" data-type="NodeParagraph" class="p" id="20220924235259-a3aywj8" updated="20220924235259"><div contenteditable="false" spellcheck="false">Allows monitoring of your apps</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235259-kh8t76m" data-type="NodeListItem" class="li" id="20220924235259-kh8t76m" updated="20220924235259"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-0khnys9" data-type="NodeParagraph" class="p" id="20220924235259-0khnys9" updated="20220924235259"><div contenteditable="false" spellcheck="false">Allows growing or shrinking your deployment as it’s running</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235259-s7btmfv" data-type="NodeListItem" class="li" id="20220924235259-s7btmfv" updated="20220924235259"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-z91vl49" data-type="NodeParagraph" class="p" id="20220924235259-z91vl49" updated="20220924235259"><div contenteditable="false" spellcheck="false">Manages mixed configurations</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235259-7nak86k" data-type="NodeListItem" class="li" id="20220924235259-7nak86k" updated="20220924235259"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-7bqov5n" data-type="NodeParagraph" class="p" id="20220924235259-7bqov5n" updated="20220924235259"><div contenteditable="false" spellcheck="false">Start / stop applications on your cluster</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220924235259-jrhhz7s" data-type="NodeListItem" class="li" id="20220924235259-jrhhz7s" updated="20220924235259"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220924235259-k1p4pgt" data-type="NodeParagraph" class="p" id="20220924235259-k1p4pgt" updated="20220924235259"><div contenteditable="false" spellcheck="false">Incubating</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924204844-n7n5gl6" data-type="NodeParagraph" class="p" id="20220924204844-n7n5gl6"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220924204844-yptycq3" data-type="NodeList" class="list" id="20220924204844-yptycq3" updated="20220926014444"><div data-marker="*" data-subtype="u" data-node-id="20220926013821-ijzlpgt" data-type="NodeListItem" class="li" id="20220926013821-ijzlpgt" updated="20220926014444"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013821-3sev6gy" data-type="NodeParagraph" class="p" id="20220926013821-3sev6gy" updated="20220926013831"><div contenteditable="false" spellcheck="false">HADOOP ARCHITECTURE DESIGN</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013833-lkdq5av" data-type="NodeList" class="list" id="20220926013833-lkdq5av" updated="20220926014444"><div data-marker="*" data-subtype="u" data-node-id="20220926013842-w1n3o9e" data-type="NodeListItem" class="li" id="20220926013842-w1n3o9e" updated="20220926013842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013842-3cn3zus" data-type="NodeParagraph" class="p" id="20220926013842-3cn3zus" updated="20220926013842"><div contenteditable="false" spellcheck="false">Working backwards</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013842-uzgkt1c" data-type="NodeList" class="list" id="20220926013842-uzgkt1c" updated="20220926013845"><div data-marker="*" data-subtype="u" data-node-id="20220926013845-yghrrjz" data-type="NodeListItem" class="li" id="20220926013845-yghrrjz" updated="20220926013845"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013845-8spat8p" data-type="NodeParagraph" class="p" id="20220926013845-8spat8p" updated="20220926013845"><div contenteditable="false" spellcheck="false">Start with the end user’s needs, not from where your data is coming from</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013850-o7pwkkv" data-type="NodeList" class="list" id="20220926013850-o7pwkkv"><div data-marker="*" data-subtype="u" data-node-id="20220926013849-sn5wcn1" data-type="NodeListItem" class="li" id="20220926013849-sn5wcn1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013849-zqj3bt3" data-type="NodeParagraph" class="p" id="20220926013849-zqj3bt3" updated="20220926013850"><div contenteditable="false" spellcheck="false">Sometimes you need to meet in the middle</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013842-43u9w81" data-type="NodeList" class="list" id="20220926013842-43u9w81" updated="20220926013853"><div data-marker="*" data-subtype="u" data-node-id="20220926013853-aln32wf" data-type="NodeListItem" class="li" updated="20220926013853" id="20220926013853-aln32wf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013853-1ewfq0z" data-type="NodeParagraph" class="p" id="20220926013853-1ewfq0z" updated="20220926013853"><div contenteditable="false" spellcheck="false">What sort of access patterns do you anticipate from your end users?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013857-29gdsw9" data-type="NodeList" class="list" id="20220926013857-29gdsw9"><div data-marker="*" data-subtype="u" data-node-id="20220926013857-cjihegg" data-type="NodeListItem" class="li" id="20220926013857-cjihegg"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013857-133qxb1" data-type="NodeParagraph" class="p" id="20220926013857-133qxb1"><div contenteditable="false" spellcheck="false">Analytical queries that span large date ranges?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013900-2n6cwjd" data-type="NodeListItem" class="li" id="20220926013900-2n6cwjd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013900-1d0yhyd" data-type="NodeParagraph" class="p" id="20220926013900-1d0yhyd" updated="20220926013902"><div contenteditable="false" spellcheck="false">Huge amounts of small transactions for very specific rows of data?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013903-p7ehupz" data-type="NodeListItem" class="li" id="20220926013903-p7ehupz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013903-ydncyj4" data-type="NodeParagraph" class="p" id="20220926013903-ydncyj4"><div contenteditable="false" spellcheck="false">Both?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013842-kqigw4m" data-type="NodeList" class="list" id="20220926013842-kqigw4m" updated="20220926013842"><div data-marker="*" data-subtype="u" data-node-id="20220926013842-8xzjn7t" data-type="NodeListItem" class="li" id="20220926013842-8xzjn7t" updated="20220926013842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013842-5hvmmae" data-type="NodeParagraph" class="p" id="20220926013842-5hvmmae" updated="20220926013842"><div contenteditable="false" spellcheck="false">What availability do these users demand?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013842-1ft8rz0" data-type="NodeListItem" class="li" id="20220926013842-1ft8rz0" updated="20220926013842"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013842-qfaz3nm" data-type="NodeParagraph" class="p" id="20220926013842-qfaz3nm" updated="20220926013842"><div contenteditable="false" spellcheck="false">What consistency do these users demand?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013914-i3kggqp" data-type="NodeListItem" class="li" id="20220926013914-i3kggqp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013915-uob2103" data-type="NodeParagraph" class="p" id="20220926013915-uob2103" updated="20220926013928"><div contenteditable="false" spellcheck="false">Thinking about requirements</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013928-jss6qfi" data-type="NodeList" class="list" id="20220926013928-jss6qfi" updated="20220926013930"><div data-marker="*" data-subtype="u" data-node-id="20220926013930-ag4ez41" data-type="NodeListItem" class="li" id="20220926013930-ag4ez41" updated="20220926013930"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013930-szr8ml9" data-type="NodeParagraph" class="p" id="20220926013930-szr8ml9" updated="20220926013930"><div contenteditable="false" spellcheck="false">Just how big is your big data?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014112-f7857fd" data-type="NodeList" class="list" id="20220926014112-f7857fd"><div data-marker="*" data-subtype="u" data-node-id="20220926014112-tfft77n" data-type="NodeListItem" class="li" id="20220926014112-tfft77n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014112-d0df9w0" data-type="NodeParagraph" class="p" id="20220926014112-d0df9w0" updated="20220926014113"><div contenteditable="false" spellcheck="false">Do you really need a cluster?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014114-5asgd7n" data-type="NodeListItem" class="li" id="20220926014114-5asgd7n"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014114-twd46vv" data-type="NodeParagraph" class="p" id="20220926014114-twd46vv"><div contenteditable="false" spellcheck="false">How much internal infrastructure and expertise is available?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014125-r62b3sr" data-type="NodeList" class="list" id="20220926014125-r62b3sr"><div data-marker="*" data-subtype="u" data-node-id="20220926014125-di1y3wr" data-type="NodeListItem" class="li" id="20220926014125-di1y3wr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014125-3detasq" data-type="NodeParagraph" class="p" id="20220926014125-3detasq"><div contenteditable="false" spellcheck="false">Should you use AWS or something similar?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014128-k73waqf" data-type="NodeListItem" class="li" id="20220926014128-k73waqf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014128-3rjexiv" data-type="NodeParagraph" class="p" id="20220926014128-3rjexiv"><div contenteditable="false" spellcheck="false">Do systems you already know fit the bill?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013915-7oyxv2i" data-type="NodeList" class="list" id="20220926013915-7oyxv2i" updated="20220926013915"><div data-marker="*" data-subtype="u" data-node-id="20220926013915-iegdfzi" data-type="NodeListItem" class="li" id="20220926013915-iegdfzi" updated="20220926013915"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013915-oja7x7z" data-type="NodeParagraph" class="p" id="20220926013915-oja7x7z" updated="20220926013915"><div contenteditable="false" spellcheck="false">What about data retention?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926013915-536b6iu" data-type="NodeList" class="list" id="20220926013915-536b6iu" updated="20220926013915"><div data-marker="*" data-subtype="u" data-node-id="20220926013915-48uifx3" data-type="NodeListItem" class="li" id="20220926013915-48uifx3" updated="20220926013915"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013915-vbhthkc" data-type="NodeParagraph" class="p" id="20220926013915-vbhthkc" updated="20220926014131"><div contenteditable="false" spellcheck="false">Do you need to keep data around forever, for auditing?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013915-leedh8t" data-type="NodeListItem" class="li" updated="20220926013915" id="20220926013915-leedh8t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013915-5s23194" data-type="NodeParagraph" class="p" id="20220926013915-5s23194" updated="20220926014132"><div contenteditable="false" spellcheck="false">Or do you need to purge it often, for privacy?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926013915-kct7q3x" data-type="NodeListItem" class="li" updated="20220926013915" id="20220926013915-kct7q3x"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926013915-kmy3od4" data-type="NodeParagraph" class="p" id="20220926013915-kmy3od4" updated="20220926013915"><div contenteditable="false" spellcheck="false">What about security?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014135-y31jjh9" data-type="NodeList" class="list" id="20220926014135-y31jjh9"><div data-marker="*" data-subtype="u" data-node-id="20220926014135-7nlztgp" data-type="NodeListItem" class="li" id="20220926014135-7nlztgp"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014135-24n2pi0" data-type="NodeParagraph" class="p" id="20220926014135-24n2pi0"><div contenteditable="false" spellcheck="false">Check with Legal</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014157-a1sf5x8" data-type="NodeListItem" class="li" id="20220926014157-a1sf5x8"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014158-1irw9wd" data-type="NodeParagraph" class="p" id="20220926014158-1irw9wd" updated="20220926014201"><div contenteditable="false" spellcheck="false">More requirements to understand</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014158-7jhp5xp" data-type="NodeList" class="list" id="20220926014158-7jhp5xp" updated="20220926014206"><div data-marker="*" data-subtype="u" data-node-id="20220926014206-s63fp76" data-type="NodeListItem" class="li" id="20220926014206-s63fp76" updated="20220926014206"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014206-lalnrk4" data-type="NodeParagraph" class="p" id="20220926014206-lalnrk4" updated="20220926014206"><div contenteditable="false" spellcheck="false">Latency</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014209-k2zac1k" data-type="NodeList" class="list" id="20220926014209-k2zac1k"><div data-marker="*" data-subtype="u" data-node-id="20220926014208-iqu8711" data-type="NodeListItem" class="li" id="20220926014208-iqu8711"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014208-zylr0fo" data-type="NodeParagraph" class="p" id="20220926014208-zylr0fo"><div contenteditable="false" spellcheck="false">How quickly do end users need to get a response?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014221-k5fxutw" data-type="NodeList" class="list" id="20220926014221-k5fxutw"><div data-marker="*" data-subtype="u" data-node-id="20220926014220-yb9kf1h" data-type="NodeListItem" class="li" id="20220926014220-yb9kf1h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014220-evrq6ly" data-type="NodeParagraph" class="p" id="20220926014220-evrq6ly"><div contenteditable="false" spellcheck="false">Milliseconds? Then something like HBase or Cassandra will be needed</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014158-hfoy593" data-type="NodeList" class="list" updated="20220926014224" id="20220926014158-hfoy593"><div data-marker="*" data-subtype="u" data-node-id="20220926014224-wcl8xdw" data-type="NodeListItem" class="li" id="20220926014224-wcl8xdw" updated="20220926014224"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014224-3em7flw" data-type="NodeParagraph" class="p" id="20220926014224-3em7flw" updated="20220926014224"><div contenteditable="false" spellcheck="false">Timeliness</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014227-pmxrsig" data-type="NodeList" class="list" id="20220926014227-pmxrsig"><div data-marker="*" data-subtype="u" data-node-id="20220926014227-2ml0120" data-type="NodeListItem" class="li" id="20220926014227-2ml0120"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014227-5ae46qc" data-type="NodeParagraph" class="p" id="20220926014227-5ae46qc"><div contenteditable="false" spellcheck="false">Can queries be based on day-old data? Minute-old?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014231-npw7ogw" data-type="NodeList" class="list" id="20220926014231-npw7ogw"><div data-marker="*" data-subtype="u" data-node-id="20220926014231-ktiyx5h" data-type="NodeListItem" class="li" id="20220926014231-ktiyx5h"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014231-xyafcms" data-type="NodeParagraph" class="p" id="20220926014231-xyafcms" updated="20220926014237"><div contenteditable="false" spellcheck="false">Oozie-scheduled jobs in Hive / Pig / Spark etc may cut it</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014237-z3gehj9" data-type="NodeListItem" class="li" id="20220926014237-z3gehj9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014237-1di2btx" data-type="NodeParagraph" class="p" id="20220926014237-1di2btx"><div contenteditable="false" spellcheck="false">Or must it be near-real-time?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014246-jbpr8ux" data-type="NodeList" class="list" id="20220926014246-jbpr8ux"><div data-marker="*" data-subtype="u" data-node-id="20220926014245-3bs030k" data-type="NodeListItem" class="li" id="20220926014245-3bs030k"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014245-4vil5g6" data-type="NodeParagraph" class="p" id="20220926014245-4vil5g6"><div contenteditable="false" spellcheck="false">Use Spark Streaming / Storm / Flink with Kafka or Flume</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014259-6wyvi76" data-type="NodeListItem" class="li" id="20220926014259-6wyvi76"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014305-2fq0uf8" data-type="NodeParagraph" class="p" id="20220926014305-2fq0uf8" updated="20220926014309"><div contenteditable="false" spellcheck="false">Judicious future-proofing</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014305-etyuixm" data-type="NodeList" class="list" id="20220926014305-etyuixm" updated="20220926014318"><div data-marker="*" data-subtype="u" data-node-id="20220926014318-ukty2oy" data-type="NodeListItem" class="li" id="20220926014318-ukty2oy" updated="20220926014318"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014318-4p6yua6" data-type="NodeParagraph" class="p" id="20220926014318-4p6yua6" updated="20220926014320"><div contenteditable="false" spellcheck="false">Once you decide where to store your “big data”, moving it will be really difficult later on</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014330-snraqtp" data-type="NodeList" class="list" id="20220926014330-snraqtp"><div data-marker="*" data-subtype="u" data-node-id="20220926014327-10p3mwh" data-type="NodeListItem" class="li" id="20220926014327-10p3mwh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014327-dn3vv43" data-type="NodeParagraph" class="p" updated="20220926014329" id="20220926014327-dn3vv43"><div contenteditable="false" spellcheck="false">Think carefully before choosing proprietary solutions or cloud-based storage</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014305-4zha2o3" data-type="NodeList" class="list" id="20220926014305-4zha2o3" updated="20220926014336"><div data-marker="*" data-subtype="u" data-node-id="20220926014336-guz77tn" data-type="NodeListItem" class="li" id="20220926014336-guz77tn" updated="20220926014336"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014336-j81jeeb" data-type="NodeParagraph" class="p" id="20220926014336-j81jeeb" updated="20220926014336"><div contenteditable="false" spellcheck="false">Will business analysts want your data in addition to end users (or vice versa?)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014358-13vte5m" data-type="NodeListItem" class="li" id="20220926014358-13vte5m" updated="20220926014444"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014359-f7uu7y0" data-type="NodeParagraph" class="p" id="20220926014359-f7uu7y0" updated="20220926014359"><div contenteditable="false" spellcheck="false">Cheat to win</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014359-siyf2v9" data-type="NodeList" class="list" updated="20220926014436" id="20220926014359-siyf2v9"><div data-marker="*" data-subtype="u" data-node-id="20220926014404-o01xr9r" data-type="NodeListItem" class="li" updated="20220926014436" id="20220926014404-o01xr9r"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014404-5b27s06" data-type="NodeParagraph" class="p" id="20220926014404-5b27s06" updated="20220926014404"><div contenteditable="false" spellcheck="false">Does your organization have existing components you can use?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014436-44ge4i1" data-type="NodeList" class="list" id="20220926014436-44ge4i1"><div data-marker="*" data-subtype="u" data-node-id="20220926014436-3o99ipy" data-type="NodeListItem" class="li" id="20220926014436-3o99ipy"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014436-szsv2fj" data-type="NodeParagraph" class="p" id="20220926014436-szsv2fj"><div contenteditable="false" spellcheck="false">Don’t build a new data warehouse if you already have one!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014439-r1fdq4t" data-type="NodeListItem" class="li" id="20220926014439-r1fdq4t"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014439-jzpwsw4" data-type="NodeParagraph" class="p" id="20220926014439-jzpwsw4"><div contenteditable="false" spellcheck="false">Rebuilding existing technology always has negative business value</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014359-fex91nz" data-type="NodeList" class="list" updated="20220926014444" id="20220926014359-fex91nz"><div data-marker="*" data-subtype="u" data-node-id="20220926014359-2sa4h9v" data-type="NodeListItem" class="li" updated="20220926014444" id="20220926014359-2sa4h9v"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014359-4k2iia3" data-type="NodeParagraph" class="p" id="20220926014359-4k2iia3" updated="20220926014359"><div contenteditable="false" spellcheck="false">What’s the least amount of infrastructure you need to build?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014359-30pux28" data-type="NodeList" class="list" id="20220926014359-30pux28" updated="20220926014444"><div data-marker="*" data-subtype="u" data-node-id="20220926014359-kej3r4j" data-type="NodeListItem" class="li" id="20220926014359-kej3r4j" updated="20220926014442"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014359-b5y6c8j" data-type="NodeParagraph" class="p" id="20220926014359-b5y6c8j" updated="20220926014442"><div contenteditable="false" spellcheck="false">Import existing data with Sqoop etc. if you can</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014359-vdb7bxy" data-type="NodeListItem" class="li" id="20220926014359-vdb7bxy" updated="20220926014444"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014359-keg7zwh" data-type="NodeParagraph" class="p" id="20220926014359-keg7zwh" updated="20220926014444"><div contenteditable="false" spellcheck="false">If relaxing a “requirement” saves lots of time and money – at least ask</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014550-q9kk1oc" data-type="NodeList" class="list" id="20220926014550-q9kk1oc" updated="20220926020027"><div data-marker="*" data-subtype="u" data-node-id="20220926014559-ohtr2yu" data-type="NodeListItem" class="li" id="20220926014559-ohtr2yu" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014559-gxdeq3d" data-type="NodeParagraph" class="p" updated="20220926014601" id="20220926014559-gxdeq3d"><div contenteditable="false" spellcheck="false">EXAMPLE: TOP SELLERS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014612-pl90jy5" data-type="NodeList" class="list" updated="20220926020027" id="20220926014612-pl90jy5"><div data-marker="*" data-subtype="u" data-node-id="20220926014615-joagz26" data-type="NodeListItem" class="li" id="20220926014615-joagz26" updated="20220926014615"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014616-kt4ky41" data-type="NodeParagraph" class="p" id="20220926014616-kt4ky41" updated="20220926014618"><div contenteditable="false" spellcheck="false">What we want to build</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014616-85ryw6b" data-type="NodeList" class="list" id="20220926014616-85ryw6b" updated="20220926014621"><div data-marker="*" data-subtype="u" data-node-id="20220926014621-lhanqa8" data-type="NodeListItem" class="li" id="20220926014621-lhanqa8" updated="20220926014621"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014621-ivzxur6" data-type="NodeParagraph" class="p" id="20220926014621-ivzxur6" updated="20220926014624"><div contenteditable="false" spellcheck="false">A system to track and display the top 10 best-selling items on an e-commerce website</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014723-2ogtt3y" data-type="NodeListItem" class="li" id="20220926014723-2ogtt3y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014724-8n5l6dw" data-type="NodeParagraph" class="p" id="20220926014724-8n5l6dw" updated="20220926014732"><div contenteditable="false" spellcheck="false">What are our requirements? Work backwards!</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014724-yv3u2qj" data-type="NodeList" class="list" id="20220926014724-yv3u2qj" updated="20220926014734"><div data-marker="*" data-subtype="u" data-node-id="20220926014734-6kg3coj" data-type="NodeListItem" class="li" id="20220926014734-6kg3coj" updated="20220926014734"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014734-jvqq2ld" data-type="NodeParagraph" class="p" id="20220926014734-jvqq2ld" updated="20220926014734"><div contenteditable="false" spellcheck="false">There are millions of end-users, generating thousands of queries per second</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014744-e7cn880" data-type="NodeList" class="list" id="20220926014744-e7cn880"><div data-marker="*" data-subtype="u" data-node-id="20220926014744-smh045p" data-type="NodeListItem" class="li" id="20220926014744-smh045p"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014744-rfqtzaq" data-type="NodeParagraph" class="p" id="20220926014744-rfqtzaq"><div contenteditable="false" spellcheck="false">It MUST be fast – page latency is important</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014747-3t71jgd" data-type="NodeListItem" class="li" id="20220926014747-3t71jgd"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014747-5jxcby3" data-type="NodeParagraph" class="p" id="20220926014747-5jxcby3"><div contenteditable="false" spellcheck="false">So, we need some distributed NoSQL solution</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014750-oo3k4ft" data-type="NodeListItem" class="li" id="20220926014750-oo3k4ft"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014750-2l9ik2u" data-type="NodeParagraph" class="p" id="20220926014750-2l9ik2u" updated="20220926014753"><div contenteditable="false" spellcheck="false">Access pattern is simple: “Give me the current top N sellers in category X”</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014724-f11wtws" data-type="NodeList" class="list" id="20220926014724-f11wtws" updated="20220926014724"><div data-marker="*" data-subtype="u" data-node-id="20220926014724-dbvvfsm" data-type="NodeListItem" class="li" id="20220926014724-dbvvfsm" updated="20220926014724"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014724-k6pnv81" data-type="NodeParagraph" class="p" updated="20220926014724" id="20220926014724-k6pnv81"><div contenteditable="false" spellcheck="false">Hourly updates probably good enough (consistency not hugely important)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014724-u2fvtkn" data-type="NodeListItem" class="li" id="20220926014724-u2fvtkn" updated="20220926014724"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014724-8z15bz3" data-type="NodeParagraph" class="p" id="20220926014724-8z15bz3" updated="20220926014724"><div contenteditable="false" spellcheck="false">Must be highly available (customers don’t like broken websites)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014724-xq5j8d9" data-type="NodeListItem" class="li" id="20220926014724-xq5j8d9" updated="20220926014724"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014724-714egps" data-type="NodeParagraph" class="p" id="20220926014724-714egps" updated="20220926014724"><div contenteditable="false" spellcheck="false">So – we want partition-tolerance and availability more than consistency</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014837-y5sexlf" data-type="NodeListItem" class="li" id="20220926014837-y5sexlf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014837-anxb257" data-type="NodeParagraph" class="p" id="20220926014837-anxb257" updated="20220926014838"><div contenteditable="false" spellcheck="false">Sounds like Cassandra</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014838-2tvn74x" data-type="NodeListItem" class="li" id="20220926014838-2tvn74x"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014843-eqwjan0" data-type="NodeParagraph" class="p" updated="20220926014846" id="20220926014843-eqwjan0"><div contenteditable="false" spellcheck="false">But how does data get into Cassandra?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014849-3zt40h2" data-type="NodeList" class="list" id="20220926014849-3zt40h2"><div data-marker="*" data-subtype="u" data-node-id="20220926014849-rjcwhpv" data-type="NodeListItem" class="li" id="20220926014849-rjcwhpv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014849-p0fmg78" data-type="NodeParagraph" class="p" id="20220926014849-p0fmg78"><div contenteditable="false" spellcheck="false">Spark can talk to Cassandra...</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014843-920bxd8" data-type="NodeListItem" class="li" id="20220926014843-920bxd8" updated="20220926014843"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014843-rjkmvog" data-type="NodeParagraph" class="p" id="20220926014843-rjkmvog" updated="20220926014843"><div contenteditable="false" spellcheck="false">And Spark Streaming can add things up over windows</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014902-wvcay7d" data-type="NodeListItem" class="li" id="20220926014902-wvcay7d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014902-rygc5yy" data-type="NodeParagraph" class="p" id="20220926014902-rygc5yy" updated="20220926014904"><div contenteditable="false" spellcheck="false">how does data get into Spark Streaming?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014902-b3o5aqf" data-type="NodeList" class="list" updated="20220926014909" id="20220926014902-b3o5aqf"><div data-marker="*" data-subtype="u" data-node-id="20220926014909-z62etk7" data-type="NodeListItem" class="li" id="20220926014909-z62etk7" updated="20220926014909"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014909-70z4smj" data-type="NodeParagraph" class="p" id="20220926014909-70z4smj" updated="20220926014909"><div contenteditable="false" spellcheck="false">Kafka or Flume – either works</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926014902-qln8dka" data-type="NodeList" class="list" id="20220926014902-qln8dka" updated="20220926014902"><div data-marker="*" data-subtype="u" data-node-id="20220926014902-jcp3ncc" data-type="NodeListItem" class="li" updated="20220926014902" id="20220926014902-jcp3ncc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014902-c9kztw7" data-type="NodeParagraph" class="p" id="20220926014902-c9kztw7" updated="20220926014902"><div contenteditable="false" spellcheck="false">Flume is purpose-built for HDFS, which so far we haven’t said we need</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926014902-tu49w5f" data-type="NodeListItem" class="li" updated="20220926014902" id="20220926014902-tu49w5f"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926014902-c94w24w" data-type="NodeParagraph" class="p" id="20220926014902-c94w24w" updated="20220926014902"><div contenteditable="false" spellcheck="false">But Flume is also purpose-built for log ingestion, so it may be a good choice</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926015241-mhgzxlg" data-type="NodeList" class="list" id="20220926015241-mhgzxlg"><div data-marker="*" data-subtype="u" data-node-id="20220926015240-4se943j" data-type="NodeListItem" class="li" id="20220926015240-4se943j"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015240-smwmb8c" data-type="NodeParagraph" class="p" id="20220926015240-smwmb8c"><div contenteditable="false" spellcheck="false">Log4j interceptor on the servers that process purchases?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926015253-hrksv12" data-type="NodeListItem" class="li" id="20220926015253-hrksv12" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015254-bxqmdd6" data-type="NodeParagraph" class="p" id="20220926015254-bxqmdd6" updated="20220926015254"><div contenteditable="false" spellcheck="false">Don’t forget about security</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926015254-5j6bjvs" data-type="NodeList" class="list" id="20220926015254-5j6bjvs" updated="20220926015258"><div data-marker="*" data-subtype="u" data-node-id="20220926015258-ma6v9mt" data-type="NodeListItem" class="li" id="20220926015258-ma6v9mt" updated="20220926015258"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015258-61h4otl" data-type="NodeParagraph" class="p" id="20220926015258-61h4otl" updated="20220926015258"><div contenteditable="false" spellcheck="false">Purchase data is sensitive – get a security review</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926015303-suj8rwa" data-type="NodeList" class="list" id="20220926015303-suj8rwa"><div data-marker="*" data-subtype="u" data-node-id="20220926015303-amjjewh" data-type="NodeListItem" class="li" id="20220926015303-amjjewh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015303-euks5bx" data-type="NodeParagraph" class="p" id="20220926015303-euks5bx" updated="20220926015305"><div contenteditable="false" spellcheck="false">Blasting around raw logs that include PII* is probably a really bad idea</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926015311-vzt68hf" data-type="NodeListItem" class="li" id="20220926015311-vzt68hf"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015311-fx89ssi" data-type="NodeParagraph" class="p" id="20220926015311-fx89ssi"><div contenteditable="false" spellcheck="false">Strip out data you don’t need at the source</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926015254-vronzm1" data-type="NodeList" class="list" id="20220926015254-vronzm1" updated="20220926020027"><div data-marker="*" data-subtype="u" data-node-id="20220926015254-p59kxq2" data-type="NodeListItem" class="li" id="20220926015254-p59kxq2" updated="20220926015254"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015254-c21e3i8" data-type="NodeParagraph" class="p" id="20220926015254-c21e3i8" updated="20220926015316"><div contenteditable="false" spellcheck="false">Security considerations may even force you into a totally different design</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926015319-7qg9jaz" data-type="NodeList" class="list" id="20220926015319-7qg9jaz"><div data-marker="*" data-subtype="u" data-node-id="20220926015319-h9wvidc" data-type="NodeListItem" class="li" id="20220926015319-h9wvidc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015319-7w2fagr" data-type="NodeParagraph" class="p" id="20220926015319-7w2fagr" updated="20220926015322"><div contenteditable="false" spellcheck="false">Instead of ingesting logs as they are generated, some intermediate database or publisher may be involved where PII is scrubbed</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926015546-60jc7i1" data-type="NodeListItem" class="li" id="20220926015546-60jc7i1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926015547-g3xlu3p" data-type="NodeParagraph" class="p" id="20220926015547-g3xlu3p" updated="20220926015549"><div contenteditable="false" spellcheck="false">So, something like this might work:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220926015607-zzluy5q" data-type="NodeParagraph" class="p" id="20220926015607-zzluy5q" updated="20220926015607"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220926015607-nzlfrai.png" data-src="assets/image-20220926015607-nzlfrai.png" alt="image" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span>​</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220926015547-24d9shn" data-type="NodeParagraph" class="p" id="20220926015547-24d9shn" updated="20220926015552"><div contenteditable="false" spellcheck="false">Interestingly, you <em>could</em> build this without Hadoop at all</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020026-lnh4kj6" data-type="NodeListItem" class="li" id="20220926020026-lnh4kj6" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020027-8ox43oy" data-type="NodeParagraph" class="p" id="20220926020027-8ox43oy" updated="20220926020029"><div contenteditable="false" spellcheck="false">But there’s more than one way to do it.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020027-z4a2bhz" data-type="NodeList" class="list" id="20220926020027-z4a2bhz" updated="20220926020037"><div data-marker="*" data-subtype="u" data-node-id="20220926020033-i86jt0x" data-type="NodeListItem" class="li" id="20220926020033-i86jt0x" updated="20220926020037"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020033-qlyq64y" data-type="NodeParagraph" class="p" updated="20220926020033" id="20220926020033-qlyq64y"><div contenteditable="false" spellcheck="false">Maybe you have an existing purchase database</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020037-vtxg9nv" data-type="NodeList" class="list" id="20220926020037-vtxg9nv"><div data-marker="*" data-subtype="u" data-node-id="20220926020036-rkam9wx" data-type="NodeListItem" class="li" id="20220926020036-rkam9wx"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020036-pug2278" data-type="NodeParagraph" class="p" id="20220926020036-pug2278" updated="20220926020039"><div contenteditable="false" spellcheck="false">Instead of streaming, hourly batch jobs would also meet your requirements</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020044-zdazlvj" data-type="NodeListItem" class="li" id="20220926020044-zdazlvj"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020044-sf07q9q" data-type="NodeParagraph" class="p" id="20220926020044-sf07q9q"><div contenteditable="false" spellcheck="false">Use Sqoop + Spark -&gt; Cassandra perhaps?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020027-m914f76" data-type="NodeList" class="list" id="20220926020027-m914f76" updated="20220926020027"><div data-marker="*" data-subtype="u" data-node-id="20220926020027-xv9bj3d" data-type="NodeListItem" class="li" id="20220926020027-xv9bj3d" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020027-px5y52e" data-type="NodeParagraph" class="p" id="20220926020027-px5y52e" updated="20220926020027"><div contenteditable="false" spellcheck="false">Maybe you have in-house expertise to leverage</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020027-8jqtxs4" data-type="NodeList" class="list" id="20220926020027-8jqtxs4" updated="20220926020027"><div data-marker="*" data-subtype="u" data-node-id="20220926020027-5giorl6" data-type="NodeListItem" class="li" id="20220926020027-5giorl6" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020027-8cllbig" data-type="NodeParagraph" class="p" id="20220926020027-8cllbig" updated="20220926020053"><div contenteditable="false" spellcheck="false">Using Hbase, MongoDB, or even Redis instead of Cassandra would probably be OK.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020027-y3ljact" data-type="NodeListItem" class="li" id="20220926020027-y3ljact" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020027-lmr5rvg" data-type="NodeParagraph" class="p" id="20220926020027-lmr5rvg" updated="20220926020055"><div contenteditable="false" spellcheck="false">Using Kafka instead of Flume – totally OK.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020027-gd5fnim" data-type="NodeListItem" class="li" id="20220926020027-gd5fnim" updated="20220926020027"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020027-zunfb9r" data-type="NodeParagraph" class="p" id="20220926020027-zunfb9r" updated="20220926020027"><div contenteditable="false" spellcheck="false">Do people need this data for analytical purposes too?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020101-6twf78g" data-type="NodeList" class="list" id="20220926020101-6twf78g"><div data-marker="*" data-subtype="u" data-node-id="20220926020101-tdj4209" data-type="NodeListItem" class="li" id="20220926020101-tdj4209"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020101-2fxxbsx" data-type="NodeParagraph" class="p" id="20220926020101-2fxxbsx"><div contenteditable="false" spellcheck="false">Might consider storing on HDFS in addition to Cassandra.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020409-bx1i2hj" data-type="NodeList" class="list" id="20220926020409-bx1i2hj" updated="20220926024635"><div data-marker="*" data-subtype="u" data-node-id="20220926020411-ogl8lva" data-type="NodeListItem" class="li" id="20220926020411-ogl8lva" updated="20220926020411"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020421-npzhvp3" data-type="NodeParagraph" class="p" id="20220926020421-npzhvp3" updated="20220926020426"><div contenteditable="false" spellcheck="false">EXAMPLE: MOVIE RECOMMENDATIONS</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020432-k0pini3" data-type="NodeList" class="list" updated="20220926020435" id="20220926020432-k0pini3"><div data-marker="*" data-subtype="u" data-node-id="20220926020435-zv175uk" data-type="NodeListItem" class="li" id="20220926020435-zv175uk" updated="20220926020435"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020435-vt8avmc" data-type="NodeParagraph" class="p" id="20220926020435-vt8avmc" updated="20220926020435"><div contenteditable="false" spellcheck="false">Working backwards</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020435-3dat7tz" data-type="NodeList" class="list" id="20220926020435-3dat7tz" updated="20220926020438"><div data-marker="*" data-subtype="u" data-node-id="20220926020438-bj9z7xi" data-type="NodeListItem" class="li" id="20220926020438-bj9z7xi" updated="20220926020438"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020438-aim2xqv" data-type="NodeParagraph" class="p" id="20220926020438-aim2xqv" updated="20220926020439"><div contenteditable="false" spellcheck="false">Users want to discover movies they haven’t yet seen that they might enjoy</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020435-9nhxo5b" data-type="NodeList" class="list" updated="20220926020435" id="20220926020435-9nhxo5b"><div data-marker="*" data-subtype="u" data-node-id="20220926020435-k6na145" data-type="NodeListItem" class="li" id="20220926020435-k6na145" updated="20220926020435"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020435-p928hgm" data-type="NodeParagraph" class="p" id="20220926020435-p928hgm" updated="20220926020441"><div contenteditable="false" spellcheck="false">Their own behavior (ratings, purchases, views) are probably the best predictors</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020435-n4lewdb" data-type="NodeListItem" class="li" id="20220926020435-n4lewdb" updated="20220926020435"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020435-cfir88q" data-type="NodeParagraph" class="p" id="20220926020435-cfir88q" updated="20220926020442"><div contenteditable="false" spellcheck="false">As before, availability and partition-tolerance are important. Consistency not so much.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020450-cdy2pqh" data-type="NodeListItem" class="li" id="20220926020450-cdy2pqh"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020450-ocisytp" data-type="NodeParagraph" class="p" id="20220926020450-ocisytp" updated="20220926020453"><div contenteditable="false" spellcheck="false">Cassandra’s our first choice</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020454-8ef7xnl" data-type="NodeList" class="list" id="20220926020454-8ef7xnl"><div data-marker="*" data-subtype="u" data-node-id="20220926020453-f6wroae" data-type="NodeListItem" class="li" id="20220926020453-f6wroae"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020453-ruuu13o" data-type="NodeParagraph" class="p" id="20220926020453-ruuu13o"><div contenteditable="false" spellcheck="false">But any NoSQL approach would do these days</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020513-ch1wdft" data-type="NodeListItem" class="li" id="20220926020513-ch1wdft"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020514-ibpakst" data-type="NodeParagraph" class="p" id="20220926020514-ibpakst" updated="20220926020516"><div contenteditable="false" spellcheck="false">How do movie recommendations get into Cassandra?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020514-og6t6xp" data-type="NodeList" class="list" id="20220926020514-og6t6xp" updated="20220926020519"><div data-marker="*" data-subtype="u" data-node-id="20220926020519-4n3nej7" data-type="NodeListItem" class="li" id="20220926020519-4n3nej7" updated="20220926020519"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020519-b8zcbte" data-type="NodeParagraph" class="p" id="20220926020519-b8zcbte" updated="20220926020519"><div contenteditable="false" spellcheck="false">We need to do machine learning</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020528-klfor2i" data-type="NodeList" class="list" id="20220926020528-klfor2i"><div data-marker="*" data-subtype="u" data-node-id="20220926020528-78yzl4g" data-type="NodeListItem" class="li" id="20220926020528-78yzl4g"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020528-59yrajf" data-type="NodeParagraph" class="p" id="20220926020528-59yrajf"><div contenteditable="false" spellcheck="false">Spark MLLib</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020532-jexk9pz" data-type="NodeListItem" class="li" id="20220926020532-jexk9pz"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020532-tfu40zz" data-type="NodeParagraph" class="p" id="20220926020532-tfu40zz"><div contenteditable="false" spellcheck="false">Flink could also be an alternative.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020514-o29qwyk" data-type="NodeList" class="list" id="20220926020514-o29qwyk" updated="20220926020514"><div data-marker="*" data-subtype="u" data-node-id="20220926020514-xxasxp2" data-type="NodeListItem" class="li" id="20220926020514-xxasxp2" updated="20220926020514"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020514-yqhplch" data-type="NodeParagraph" class="p" id="20220926020514-yqhplch" updated="20220926020514"><div contenteditable="false" spellcheck="false">Timeliness requirements need to be thought out</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020514-zrd2lsz" data-type="NodeList" class="list" id="20220926020514-zrd2lsz" updated="20220926020514"><div data-marker="*" data-subtype="u" data-node-id="20220926020514-b6dakzz" data-type="NodeListItem" class="li" id="20220926020514-b6dakzz" updated="20220926020514"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020514-j5fmtb4" data-type="NodeParagraph" class="p" id="20220926020514-j5fmtb4" updated="20220926020536"><div contenteditable="false" spellcheck="false">Real-time ML is a tall order – do you really need recommendations based on the rating you just left?</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020514-eopfgxv" data-type="NodeListItem" class="li" id="20220926020514-eopfgxv" updated="20220926020514"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020514-7gum9l8" data-type="NodeParagraph" class="p" id="20220926020514-7gum9l8" updated="20220926020538"><div contenteditable="false" spellcheck="false">That kinda would be nice.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020551-0cgvngk" data-type="NodeListItem" class="li" id="20220926020551-0cgvngk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020552-t3gd7bn" data-type="NodeParagraph" class="p" updated="20220926020552" id="20220926020552-t3gd7bn"><div contenteditable="false" spellcheck="false">Creative thinking</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020552-140phn0" data-type="NodeList" class="list" id="20220926020552-140phn0" updated="20220926020556"><div data-marker="*" data-subtype="u" data-node-id="20220926020556-a21suet" data-type="NodeListItem" class="li" updated="20220926020556" id="20220926020556-a21suet"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020556-6i5so4a" data-type="NodeParagraph" class="p" id="20220926020556-6i5so4a" updated="20220926020556"><div contenteditable="false" spellcheck="false">Pre-computing recommendations for every user</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020600-4eiyq3b" data-type="NodeList" class="list" id="20220926020600-4eiyq3b"><div data-marker="*" data-subtype="u" data-node-id="20220926020559-libi92y" data-type="NodeListItem" class="li" id="20220926020559-libi92y"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020559-0lve359" data-type="NodeParagraph" class="p" id="20220926020559-0lve359"><div contenteditable="false" spellcheck="false">Isn’t timely</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020602-2zlcfnb" data-type="NodeListItem" class="li" id="20220926020602-2zlcfnb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020602-f2kbhmy" data-type="NodeParagraph" class="p" id="20220926020602-f2kbhmy"><div contenteditable="false" spellcheck="false">Wastes resources</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020552-jz6jxej" data-type="NodeList" class="list" id="20220926020552-jz6jxej" updated="20220926020552"><div data-marker="*" data-subtype="u" data-node-id="20220926020552-yumfn5v" data-type="NodeListItem" class="li" id="20220926020552-yumfn5v" updated="20220926020552"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020552-sy2g6ns" data-type="NodeParagraph" class="p" id="20220926020552-sy2g6ns" updated="20220926020552"><div contenteditable="false" spellcheck="false">Item-based collaborative filtering</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020552-6pq9nv2" data-type="NodeList" class="list" id="20220926020552-6pq9nv2" updated="20220926020552"><div data-marker="*" data-subtype="u" data-node-id="20220926020552-0ve3rqo" data-type="NodeListItem" class="li" id="20220926020552-0ve3rqo" updated="20220926020552"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020552-vpeju8q" data-type="NodeParagraph" class="p" id="20220926020552-vpeju8q" updated="20220926021002"><div contenteditable="false" spellcheck="false"><strong>Store movies similar to other movies</strong> (these relationships don’t change quickly)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020552-45qf0sp" data-type="NodeListItem" class="li" id="20220926020552-45qf0sp" updated="20220926020552"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020552-7jgcf77" data-type="NodeParagraph" class="p" id="20220926020552-7jgcf77" updated="20220926021007"><div contenteditable="false" spellcheck="false">At runtime, <strong>recommend movies similar to ones you’ve liked</strong> (based on real-time  
behavior data)</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020552-8kg85uv" data-type="NodeListItem" class="li" id="20220926020552-8kg85uv" updated="20220926020552"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020552-q8ef7xl" data-type="NodeParagraph" class="p" id="20220926020552-q8ef7xl" updated="20220926020552"><div contenteditable="false" spellcheck="false">So we need something that can quickly look up movies similar to ones you’ve liked at scale</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926020610-1c66zn3" data-type="NodeList" class="list" id="20220926020610-1c66zn3" updated="20220926020612"><div data-marker="*" data-subtype="u" data-node-id="20220926020612-v2zjbdr" data-type="NodeListItem" class="li" updated="20220926020612" id="20220926020612-v2zjbdr"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020612-azfldtg" data-type="NodeParagraph" class="p" id="20220926020612-azfldtg" updated="20220926020612"><div contenteditable="false" spellcheck="false">Could reside within web app, but probably want your own service for this</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926020616-h7719ih" data-type="NodeListItem" class="li" id="20220926020616-h7719ih"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926020616-m63m9mc" data-type="NodeParagraph" class="p" id="20220926020616-m63m9mc"><div contenteditable="false" spellcheck="false">We also need to quickly get at your past ratings /views /etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926021116-701oqj1" data-type="NodeListItem" class="li" id="20220926021116-701oqj1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021117-zseldm9" data-type="NodeParagraph" class="p" id="20220926021117-zseldm9" updated="20220926021241"><div contenteditable="false" spellcheck="false">Put together</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926021117-qjj8upo" data-type="NodeList" class="list" id="20220926021117-qjj8upo" updated="20220926021119"><div data-marker="*" data-subtype="u" data-node-id="20220926021119-vne77ft" data-type="NodeListItem" class="li" id="20220926021119-vne77ft" updated="20220926021119"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021119-im0bl3m" data-type="NodeParagraph" class="p" id="20220926021119-im0bl3m" updated="20220926021119"><div contenteditable="false" spellcheck="false">So we’ll have some web service to create recommendations on demand</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926021117-8icpwpk" data-type="NodeList" class="list" id="20220926021117-8icpwpk" updated="20220926021117"><div data-marker="*" data-subtype="u" data-node-id="20220926021117-r0n0k38" data-type="NodeListItem" class="li" id="20220926021117-r0n0k38" updated="20220926021117"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021117-gzxcuw3" data-type="NodeParagraph" class="p" id="20220926021117-gzxcuw3" updated="20220926021117"><div contenteditable="false" spellcheck="false">It’ll talk to a fast NoSQL data store with movie similarities data</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926021117-risypjh" data-type="NodeListItem" class="li" id="20220926021117-risypjh" updated="20220926021117"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021117-jo39mso" data-type="NodeParagraph" class="p" id="20220926021117-jo39mso" updated="20220926021117"><div contenteditable="false" spellcheck="false">And it also needs your past ratings / purchases /etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926021117-d12rzbw" data-type="NodeListItem" class="li" updated="20220926021117" id="20220926021117-d12rzbw"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021117-3fb0e0r" data-type="NodeParagraph" class="p" id="20220926021117-3fb0e0r" updated="20220926021123"><div contenteditable="false" spellcheck="false">Movie similarities (which are expensive) can be updated infrequently, based on log data with views / ratings / etc.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926021251-or0clj4" data-type="NodeListItem" class="li" id="20220926021251-or0clj4"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926021251-mlsdp4m" data-type="NodeParagraph" class="p" id="20220926021251-mlsdp4m" updated="20220926021254"><div contenteditable="false" spellcheck="false">Something like this might work</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220926021305-4dgpqk7" data-type="NodeParagraph" class="p" id="20220926021305-4dgpqk7" updated="20220926021305"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 684px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220926021305-83gxolk.png" data-src="assets/image-20220926021305-83gxolk.png" alt="image" style="width: 674px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926023836-o2q3d7l" data-type="NodeListItem" class="li" id="20220926023836-o2q3d7l" updated="20220926024635"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023836-bkwhrjp" data-type="NodeParagraph" class="p" updated="20220926023851" id="20220926023836-bkwhrjp"><div contenteditable="false" spellcheck="false">Exercise: Design Web Analytics</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023900-kwntfxs" data-type="NodeList" class="list" id="20220926023900-kwntfxs" updated="20220926024635"><div data-marker="*" data-subtype="u" data-node-id="20220926023903-fregy7d" data-type="NodeListItem" class="li" id="20220926023903-fregy7d" updated="20220926023903"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023903-ydkj268" data-type="NodeParagraph" class="p" id="20220926023903-ydkj268" updated="20220926023903"><div contenteditable="false" spellcheck="false">Your mission...</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023903-o4gudkr" data-type="NodeList" class="list" id="20220926023903-o4gudkr" updated="20220926023906"><div data-marker="*" data-subtype="u" data-node-id="20220926023906-tiiotd3" data-type="NodeListItem" class="li" id="20220926023906-tiiotd3" updated="20220926023906"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023906-i5sj36r" data-type="NodeParagraph" class="p" id="20220926023906-i5sj36r" updated="20220926023906"><div contenteditable="false" spellcheck="false">You work for a big website</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023903-o7qhew2" data-type="NodeList" class="list" id="20220926023903-o7qhew2" updated="20220926023903"><div data-marker="*" data-subtype="u" data-node-id="20220926023903-zrkddbt" data-type="NodeListItem" class="li" id="20220926023903-zrkddbt" updated="20220926023903"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023903-3w8z6ln" data-type="NodeParagraph" class="p" id="20220926023903-3w8z6ln" updated="20220926023903"><div contenteditable="false" spellcheck="false">Some manager wants a graph of total number of sessions per day</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926023903-amm2e2g" data-type="NodeListItem" class="li" id="20220926023903-amm2e2g" updated="20220926023903"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023903-qakrteo" data-type="NodeParagraph" class="p" id="20220926023903-qakrteo" updated="20220926023903"><div contenteditable="false" spellcheck="false">And for some reason they don’t want to use an existing service for this!</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926023915-xuucpy1" data-type="NodeListItem" class="li" id="20220926023915-xuucpy1"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023916-djhrwy4" data-type="NodeParagraph" class="p" id="20220926023916-djhrwy4" updated="20220926023916"><div contenteditable="false" spellcheck="false">Requirements</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023916-y22tl21" data-type="NodeList" class="list" id="20220926023916-y22tl21" updated="20220926023919"><div data-marker="*" data-subtype="u" data-node-id="20220926023919-g5m3g1t" data-type="NodeListItem" class="li" id="20220926023919-g5m3g1t" updated="20220926023919"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023919-v675gi7" data-type="NodeParagraph" class="p" id="20220926023919-v675gi7" updated="20220926023919"><div contenteditable="false" spellcheck="false">Only run daily based on previous day’s activity</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023916-9gylscd" data-type="NodeList" class="list" id="20220926023916-9gylscd" updated="20220926023916"><div data-marker="*" data-subtype="u" data-node-id="20220926023916-vkw0n8d" data-type="NodeListItem" class="li" updated="20220926023916" id="20220926023916-vkw0n8d"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023916-f9dkphv" data-type="NodeParagraph" class="p" updated="20220926023922" id="20220926023916-f9dkphv"><div contenteditable="false" spellcheck="false">Sessions are defined as traffic from same IP address within a sliding one hour window</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926023924-ifraucw" data-type="NodeList" class="list" updated="20220926023925" id="20220926023924-ifraucw"><div data-marker="*" data-subtype="u" data-node-id="20220926023925-3mrevee" data-type="NodeListItem" class="li" id="20220926023925-3mrevee" updated="20220926023925"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023925-obsanfn" data-type="NodeParagraph" class="p" id="20220926023925-obsanfn" updated="20220926023925"><div contenteditable="false" spellcheck="false">Hint: Spark Streaming etc. can handle “stateful” data like this.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926023928-odjqb4v" data-type="NodeListItem" class="li" id="20220926023928-odjqb4v"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023928-hq0nwmp" data-type="NodeParagraph" class="p" id="20220926023928-hq0nwmp"><div contenteditable="false" spellcheck="false">Let’s assume your existing web logs do not have session data in them</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926023916-gtth0l2" data-type="NodeListItem" class="li" id="20220926023916-gtth0l2" updated="20220926023916"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926023916-ro3d7jf" data-type="NodeParagraph" class="p" id="20220926023916-ro3d7jf" updated="20220926023916"><div contenteditable="false" spellcheck="false">Data is only used for analytic purposes, internally</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024149-g2n3hg0" data-type="NodeList" class="list" id="20220926024149-g2n3hg0"><div data-marker="*" data-subtype="u" data-node-id="20220926024149-7wp8d86" data-type="NodeListItem" class="li" id="20220926024149-7wp8d86"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024149-902bs13" data-type="NodeParagraph" class="p" id="20220926024149-902bs13" updated="20220926024344"><div contenteditable="false" spellcheck="false">no need HA, no high I/O</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926024117-3dgr8w2" data-type="NodeListItem" class="li" id="20220926024117-3dgr8w2"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024118-4jo310x" data-type="NodeParagraph" class="p" id="20220926024118-4jo310x" updated="20220926024118"><div contenteditable="false" spellcheck="false">How would you do it?</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024118-ygl6eix" data-type="NodeList" class="list" id="20220926024118-ygl6eix" updated="20220926024120"><div data-marker="*" data-subtype="u" data-node-id="20220926024120-7lclxm6" data-type="NodeListItem" class="li" id="20220926024120-7lclxm6" updated="20220926024120"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024120-xucveta" data-type="NodeParagraph" class="p" updated="20220926024120" id="20220926024120-xucveta"><div contenteditable="false" spellcheck="false">Things to consider:</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024125-jcykdq7" data-type="NodeList" class="list" id="20220926024125-jcykdq7"><div data-marker="*" data-subtype="u" data-node-id="20220926024125-zizmrj3" data-type="NodeListItem" class="li" id="20220926024125-zizmrj3"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024125-2bitht8" data-type="NodeParagraph" class="p" id="20220926024125-2bitht8"><div contenteditable="false" spellcheck="false">A daily SQL query run automatically is all you really need</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926024129-3njbaa9" data-type="NodeListItem" class="li" id="20220926024129-3njbaa9"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024129-kpu7bqi" data-type="NodeParagraph" class="p" id="20220926024129-kpu7bqi"><div contenteditable="false" spellcheck="false">But this query needs some table that contains session data</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024215-gz8sz4z" data-type="NodeList" class="list" id="20220926024215-gz8sz4z"><div data-marker="*" data-subtype="u" data-node-id="20220926024215-mep3gwv" data-type="NodeListItem" class="li" id="20220926024215-mep3gwv"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024215-6yt250c" data-type="NodeParagraph" class="p" id="20220926024215-6yt250c"><div contenteditable="false" spellcheck="false">And that will need to be built up throughout the day</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926024309-bieq4xb" data-type="NodeListItem" class="li" id="20220926024309-bieq4xb"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024309-ua4kf76" data-type="NodeParagraph" class="p" updated="20220926024312" id="20220926024309-ua4kf76"><div contenteditable="false" spellcheck="false">One way to do it.</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220926024319-m711hlz" data-type="NodeParagraph" class="p" updated="20220926024320" id="20220926024319-m711hlz"><div contenteditable="false" spellcheck="false"><span contenteditable="false" data-type="img" class="img" style="max-width: 514px;"><span> </span><span><span class="protyle-action protyle-icons"><span><svg class="svg"><use xlink:href="#iconMore"></use></svg></span></span><img src="assets/image-20220926024320-th4c554.png" data-src="assets/image-20220926024320-th4c554.png" alt="image" style="width: 504px;" /><span class="protyle-action__drag"></span><span class="protyle-action__title"></span></span><span> </span></span></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926024610-h50d9hn" data-type="NodeListItem" class="li" id="20220926024610-h50d9hn" updated="20220926024635"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024610-r74xka6" data-type="NodeParagraph" class="p" id="20220926024610-r74xka6" updated="20220926024628"><div contenteditable="false" spellcheck="false">There’s no “right answer.”</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024629-vwd5zr9" data-type="NodeList" class="list" id="20220926024629-vwd5zr9" updated="20220926024635"><div data-marker="*" data-subtype="u" data-node-id="20220926024630-zu2msrk" data-type="NodeListItem" class="li" updated="20220926024635" id="20220926024630-zu2msrk"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024630-4h6vlci" data-type="NodeParagraph" class="p" id="20220926024630-4h6vlci" updated="20220926024630"><div contenteditable="false" spellcheck="false">And, it depends on a lot of things</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20220926024635-u8hz141" data-type="NodeList" class="list" id="20220926024635-u8hz141"><div data-marker="*" data-subtype="u" data-node-id="20220926024635-08mhipc" data-type="NodeListItem" class="li" id="20220926024635-08mhipc"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024635-iq1wn5j" data-type="NodeParagraph" class="p" id="20220926024635-iq1wn5j" updated="20220926024638"><div contenteditable="false" spellcheck="false">Have an existing sessions database that’s updated daily? Just use sqoop to get at it</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20220926024647-txq7rft" data-type="NodeListItem" class="li" id="20220926024647-txq7rft"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20220926024647-zr8mnja" data-type="NodeParagraph" class="p" id="20220926024647-zr8mnja"><div contenteditable="false" spellcheck="false">In fact, then you might not even need Hive / HDFS.</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220924204844-v5jjyhg" data-type="NodeParagraph" class="p" id="20220924204844-v5jjyhg"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="h2" data-node-id="20220912014401-okci7ee" data-type="NodeHeading" class="h2" id="20220912014401-okci7ee" updated="20220912014401"><div contenteditable="false" spellcheck="false">Section 12: Learning More</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20220912013413-fmf2o2z" data-type="NodeParagraph" class="p" id="20220912013413-fmf2o2z" updated="20220912014409"><div contenteditable="false" spellcheck="false"></div><div class="protyle-attr" contenteditable="false"></div></div></div>
<script src="appearance/icons/material/icon.js?2.1.5"></script>
<script src="stage/build/export/protyle-method.js?2.1.5"></script>
<script src="stage/protyle/js/lute/lute.min.js?2.1.5"></script>    
<script>
    window.siyuan = {
      config: {
        appearance: { mode: 0, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
        editor: { 
          codeLineWrap: true,
          codeLigatures: false,
          plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
          codeSyntaxHighlightLineNum: true,
        }
      },
      languages: {copy:"复制"}
    };
    const previewElement = document.getElementById('preview');
    Protyle.highlightRender(previewElement, "stage/protyle");
    Protyle.mathRender(previewElement, "stage/protyle", false);
    Protyle.mermaidRender(previewElement, "stage/protyle");
    Protyle.flowchartRender(previewElement, "stage/protyle");
    Protyle.graphvizRender(previewElement, "stage/protyle");
    Protyle.chartRender(previewElement, "stage/protyle");
    Protyle.mindmapRender(previewElement, "stage/protyle");
    Protyle.abcRender(previewElement, "stage/protyle");
    Protyle.plantumlRender(previewElement, "stage/protyle");
    Protyle.mediaRender(previewElement);
    document.querySelectorAll(".protyle-action__copy").forEach((item) => {
      item.addEventListener("click", (event) => {
            navigator.clipboard.writeText(item.parentElement.nextElementSibling.textContent.trimEnd());
            event.preventDefault();
            event.stopPropagation();
      })
    });
    
</script></body></html>